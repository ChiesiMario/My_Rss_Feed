<?xml version="1.0" encoding="UTF-8"?>
<rss
    xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"


>
    <channel>
        <title>
            <![CDATA[开源中国-综合资讯]]>
        </title>
        <link>https://www.oschina.net/news/industry</link>
        <atom:link href="https://rsshub.app/oschina/news/industry" rel="self" type="application/rss+xml" />
        <description>
            <![CDATA[开源中国-综合资讯 - Made with love by RSSHub(https://github.com/DIYgod/RSSHub)]]>
        </description>
        <generator>RSSHub</generator>
        <webMaster>i@diygod.me (DIYgod)</webMaster>
        <language>zh-cn</language>
        <lastBuildDate>Thu, 25 Jan 2024 07:31:36 GMT</lastBuildDate>
        <ttl>120</ttl>
        <item>
            <title>
                <![CDATA[苹果 Mac 诞生 40 年]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>苹果 CEO 蒂姆·库克今天在个人微博庆祝 Mac 诞生 40 周年。</p><blockquote><p><img src="https://oscimg.oschina.net/oscnet/up-6fe3fc1659e0c08bb7388f87a41590780e4.png" referrerpolicy="no-referrer"></p><p><u><em><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fweibo.com%2F5524254784%2FNDqPXgd7H" target="_blank">https://weibo.com/5524254784/NDqPXgd7H</a></em></u></p></blockquote><p>40 年前的 1984 年，史蒂夫·乔布斯向外界展示了 Macintosh，并称其为「计算机的未来」。</p><p><img src="https://oscimg.oschina.net/oscnet/up-ee0017fdf2ae38f2df579a0596c872a37da.png" referrerpolicy="no-referrer"></p><p>麦金塔电脑（Macintosh，1998 年后多被简称为 Mac），是自 1984 年 1 月起由苹果公司设计、开发和销售的个人电脑系列产品。目前 Mac 产品线包含以下系列：iMac、Mac mini、Mac Studio、Macbook Air、Macbook Pro、Macbook、Mac Pro 等。</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-77ad4fac2810b6172e79419b15f14a89534.png" referrerpolicy="no-referrer"></p><p>Mac 在历史上曾经 3 次更换指令集架构：</p><ul><li>1994 年，Mac 从摩托罗拉 68000 系处理器迁移至 PowerPC 处理器</li><li>2005 年至 2006 年，Mac 从 PowerPC 处理器迁移至 Intel 平台处理器</li><li>2020 年至 2023 年，Mac 从 Intel 平台处理器迁移至苹果处理器</li></ul></div>
                                    ]]>
            </description>
            <pubDate>Thu, 25 Jan 2024 04:07:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276599/apple-mac-40-anniversary</guid>
            <link>https://www.oschina.net/news/276599/apple-mac-40-anniversary</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Ollama 发布 Python 和 JavaScript 库]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>Ollama Python 和 JavaScript 库的初始版本现已<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Follama.ai%2Fblog%2Fpython-javascript-libraries" target="_blank">推出</a>：</p><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Follama%2Follama-python" target="_blank">Ollama Python Library</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Follama%2Follama-js" target="_blank">Ollama JavaScript Library</a></li></ul><p>这两个库都可以通过几行代码将新的和现有的应用程序与 Ollama 集成，并共享 Ollama REST API 的 features 和 feel。</p><p><img height="224" src="https://oscimg.oschina.net/oscnet/up-4ef62e38763d1ebcd9807a29b6849e8339c.png" width="500" referrerpolicy="no-referrer"></p><blockquote><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="color:#000000">Ollama 是一款命令行工具，可在 macOS 和 Linux 上本地运行 Llama 2、Code Llama 和其他模型。目前适用于 macOS 和 Linux，并计划支持 Windows。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="color:#000000">Ollama 目前支持近二十多个语言模型系列，每个模型系列都有许多可用的 "tags"。Tags&nbsp;是模型的变体，这些模型使用不同的微调方法以不同的规模进行训练，并以不同的级别进行量化，以便在本地良好运行。量化级别越高，模型越精确，但运行速度越慢，所需的内存也越大。</span></p></blockquote><h4><strong>Getting Started</strong></h4><p><strong>Python</strong></p><pre><code class="language-shell">pip install ollama</code></pre><pre><code class="language-python">import ollama
response = ollama.chat(model='llama2', messages=[
  {
    'role': 'user',
    'content': 'Why is the sky blue?',
  },
])
print(response['message']['content'])</code></pre><p><strong>JavaScript</strong></p><pre><code>npm install ollama</code></pre><pre><code class="language-javascript">import ollama from 'ollama'

const response = await ollama.chat({
  model: 'llama2',
  messages: [{ role: 'user', content: 'Why is the sky blue?' }],
})
console.log(response.message.content)
</code></pre><h4><strong>用例</strong></h4><p>这两个库都支持 Ollama 的全套功能。以下是 Python 中的一些示例：</p><p><strong>Streaming</strong></p><pre style="margin-left:0; margin-right:0; text-align:start"><code class="language-python">for chunk in chat('mistral', messages=messages, stream=True):
  print(chunk['message']['content'], end='', flush=True)
</code></pre><p><strong>Multi-modal&nbsp;</strong></p><pre style="margin-left:0; margin-right:0; text-align:start"><code class="language-python">with open('image.png', 'rb') as file:
  response = ollama.chat(
    model='llava',
    messages=[
      {
        'role': 'user',
        'content': 'What is strange about this image?',
        'images': [file.read()],
      },
    ],
  )
print(response['message']['content'])
</code></pre><p><strong>Text Completion&nbsp;</strong></p><pre style="margin-left:0; margin-right:0; text-align:start"><code class="language-python">result = ollama.generate(
  model='stable-code',
  prompt='// A c function to reverse a string\n',
)
print(result['response'])
</code></pre><p><strong>Creating custom models&nbsp;</strong></p><pre style="margin-left:0; margin-right:0; text-align:start"><code class="language-python">modelfile='''
FROM llama2
SYSTEM You are mario from super mario bros.
'''

ollama.create(model='example', modelfile=modelfile)
</code></pre><p><strong>Custom client</strong>&nbsp;</p><pre style="margin-left:0; margin-right:0; text-align:start"><code class="language-python">ollama = Client(host='my.ollama.host')</code></pre><p>更多示例可查看&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Follama%2Follama-python%2Ftree%2Fmain%2Fexamples" target="_blank">Python</a>&nbsp;和&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Follama%2Follama-js%2Ftree%2Fmain%2Fexamples" target="_blank">JavaScript</a>&nbsp;库。</p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 25 Jan 2024 02:53:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276592/python-javascript-libraries</guid>
            <link>https://www.oschina.net/news/276592/python-javascript-libraries</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Rust 编写的 Zed 编辑器正式开源]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>Zed 是一款支持多人协作的代码编辑器，底层采用 Rust，主打 「高性能」。其开发团队今日宣布 Zed 正式开源。</p><p>Zed 团队称开源了大约 27 万行 Rust 代码，具体包括以下组件：</p><ul><li><strong>遵循 GPL 的</strong><strong>编辑器代码</strong></li><li><strong>遵循 AGPL 的</strong><strong>服务器组件</strong></li><li><strong>遵循&nbsp;<span>Apache 2 的&nbsp;</span>UI 框架<u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.gpui.rs%2F" target="_blank"> GPUI</a></u> (</strong><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fzed-industries%2Fzed%2Ftree%2Fmain%2Fcrates%2Fgpui" target="_blank">https://github.com/zed-industries/zed/tree/main/crates/gpui</a></u><strong>)</strong></li></ul><p><strong><span>开源地址：</span><em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fzed-industries%2Fzed" target="_blank">https://github.com/zed-industries/zed</a></u></em></strong></p><blockquote><p><img src="https://oscimg.oschina.net/oscnet/up-75b00abf6593eb39e0366ca6053bce831cf.png" referrerpolicy="no-referrer"></p><p><em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ftwitter.com%2Fzeddotdev%2Fstatus%2F1750203594186350876" target="_blank">https://twitter.com/zeddotdev/status/1750203594186350876</a></u></em></p></blockquote><p>Zed 是 Atom 编辑器原作者主导的新项目，他希望将 Zed 打造为世界上最先进的代码编辑器，并认为开源 Zed 将会使其成为最好的产品。</p><p><img src="https://oscimg.oschina.net/oscnet/up-3288eb82c604e5870ff4852a6acd33e1f62.png" referrerpolicy="no-referrer"></p><p><img src="https://oscimg.oschina.net/oscnet/up-6bb916b857973e0d6046b2e973b78aee17b.png" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 25 Jan 2024 02:37:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276588/zed-is-now-open-source</guid>
            <link>https://www.oschina.net/news/276588/zed-is-now-open-source</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[AnyText —— 多语言视觉文本生成和编辑]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>AnyText 包含一个具有两个主要元素的 diffusion pipeline：辅助潜在模块和文本嵌入模块。</p><p>前者使用文本字形、位置和蒙版图像等输入来生成用于文本生成或编辑的潜在特征。后者采用 OCR 模型将笔划数据编码为嵌入，与 tokenizer 中的图像标题嵌入混合，生成与背景无缝集成的文本。采用 text-control diffusion loss&nbsp;和 &nbsp;text perceptual loss 进行训练，以进一步提高书写准确性。</p><p><img height="253" src="https://static.oschina.net/uploads/space/2024/0104/163451_fSsc_4252687.png" width="500" referrerpolicy="no-referrer"></p></div>
                                                                ]]>
            </description>
            <pubDate>Thu, 25 Jan 2024 02:18:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/p/anytext</guid>
            <link>https://www.oschina.net/p/anytext</link>
        </item>
        <item>
            <title>
                <![CDATA[芯动科技加入 GPU SIG，推进 openKylin 与风华系列显卡兼容适配！]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:rgba(0, 0, 0, 0.9); margin-left:0; margin-right:0; text-align:justify"><span><span style="color:#333333">2024 年 1 月 24 日，openKylin 社区 GPU SIG 例会召开，会上，经 GPU 成员表决同意，</span><span style="color:#333333"><strong>芯动科技<span>正式加入 GPU SIG</span></strong></span><span style="color:#333333">。</span></span></p><p style="margin-left:0; margin-right:0; text-align:center"><img alt="" height="410" src="https://oscimg.oschina.net/oscnet/up-495ee0f3bccac5cd59a15061280ca425039.png" width="940" referrerpolicy="no-referrer"></p><p style="margin-left:0; margin-right:0; text-align:justify"><span style="background-color:#ffffff">芯动科技是一站式高性能 IP 和 GPU 领军企业，在计算、存储、连接三大赛道具备核心竞争力，拥有全套高速接口 IP，以及先进工艺 SoC 体系架构和 GPU 内核创新能力，提供跨全球各大工艺厂（台积电/三星/中芯国际/格芯/联华电子/英特尔/华力）从 55 纳米到 3 纳米全套高速 IP 以及定制芯片解决方案。</span></p><p style="margin-left:0; margin-right:0; text-align:justify"><span style="background-color:#ffffff">其自研发布的风华系列 GPU，通过不断升级 GPU 内核，打造体验流畅的高性能 GPU 处理器，是目前国内支持框架多、延展性的高性能 GPU 产品系列，在图形渲染和智能计算领域具备高性能、低功耗、强兼容性。</span></p><p><span><span style="background-color:#ffffff"><strong>加入 GPU SIG 后，芯动科技将计划于 2024 年上半年完成风华 1 号、风华 2 号显卡与 openKylin 2.0 系统的适配</strong></span><span style="background-color:#ffffff">，并利用自身高性能技术优势和先进工艺经验，携手 GPU SIG 团队伙伴共同为社区生态繁荣贡献力量。</span></span></p><p>&nbsp;</p><p><strong>关于 GPU SIG</strong></p><p style="margin-left:0; margin-right:0; text-align:justify"><span><span style="background-color:#ffffff">GPU SIG</span><span style="background-color:#ffffff">由国产 GPU 厂商技术团队发起成立，</span><span style="background-color:#ffffff">负责 openKylin 社区 GPU 驱动技术的开发和交流，为拓展 openKylin 的 GPU 生态提供有力支撑，截至目前，已汇聚了</span><span style="background-color:#ffffff"><strong>景美</strong><strong><span>、</span><span>摩尔线程</span><span>、格兰菲、象帝先、</span></strong><strong>沐曦</strong><strong><span>、</span><span><span style="background-color:#ffffff"><strong>芯瞳半导体、</strong></span></span><span>芯动科技</span></strong></span><span style="background-color:#ffffff">等 GPU 厂商（以上排名不分先后顺序），</span></span><span><span style="background-color:#ffffff"><strong><span>完成了 openKylin 系统与多款主流国产显卡适配，并贡献优化</span>patch<span>到 openKylin 内核主线</span></strong></span></span><span style="background-color:#ffffff">，为 openKylin 开源社区的创新发展、生态建设提供持续有力的支持。期待更多伙伴的加入！</span></p><ul><li><p style="margin-left:0; margin-right:0; text-align:justify"><span style="background-color:#ffffff">邮件列表：</span></p><p style="margin-left:0; margin-right:0; text-align:justify"><span style="background-color:#ffffff">gpu@lists.openkylin.top</span></p></li><li><p style="margin-left:0; margin-right:0; text-align:justify"><span style="background-color:#ffffff">SIG 主页：</span></p><p style="margin-left:0; margin-right:0; text-align:justify"><span style="background-color:#ffffff">https://gitee.com/openkylin/community/tree/master/sig/GPU</span></p></li></ul></div>
                                    ]]>
            </description>
            <pubDate>Thu, 25 Jan 2024 02:11:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276583</guid>
            <link>https://www.oschina.net/news/276583</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[谷歌因 Android 垄断被韩国罚款超 2000 亿韩元，上诉被驳回]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>1 月 24 日，谷歌因在韩国实施垄断行为，遭到韩国公平贸易委员会的罚款，金额超过 2000 亿韩元（约合 10.7 亿元人民币）。谷歌曾对此进行上诉，但韩国高等法院驳斥了谷歌的诉求，维持了原判。</p><p>据称这是韩国历史上对外国企业的最高罚款，也是全球范围内对谷歌的最大罚款之一。</p><p>此次罚款源于 2021 年 9 月韩国公平贸易委员会对谷歌的一项裁决。该委员会裁定，谷歌滥用其市场地位，阻止三星等韩国手机厂商使用个性化 Android 操作系统。韩国公平贸易委员会对其下达了纠正令，并处以 2074 亿韩元的罚款。</p><blockquote><p><em>谷歌要求制造商不得在智能手机及其他所有设备上搭载「Android forks」系统，并签署「<strong>禁止碎片化协议 (AFA)</strong>」。</em></p><p><em>根据 AFA 协议，设备制造商不允许在其产品上安装被称为「Android forks」的 Android 操作系统的修改版本，他们也不被允许开发自己的「Android forks」。</em></p></blockquote><p><img src="https://oscimg.oschina.net/oscnet/up-5a4a5d591b80bb8004ce4f05acdfbd64d09.png" referrerpolicy="no-referrer"></p><p>随后谷歌提起上诉，要求韩国公平贸易委员会取消纠正令和罚款，但最终还是败诉。</p><p>据韩国媒体报道，韩国公平贸易委员会 (<span style="background-color:#ffffff; color:#444444">KFTC</span>) 认为，谷歌通过与三星、LG 等韩国智能手机制造商签订 AFA，限制他们使用个性化或改进版的 Android 系统，从而维持了 Android 系统在韩国市场的支配地位。</p><p>KFTC 指出，谷歌的做法不仅损害了消费者的利益，也阻碍了韩国手机厂商的创新能力和竞争力，甚至影响了韩国的 5G 技术发展。</p><p>KFTC 下达的纠正令要求谷歌停止强制执行 AFA，不得对违反 AFA 的手机厂商采取任何不利措施，也不得向他们收取额外的费用。此外，谷歌还必须向 KFTC 提交定期报告，说明其如何遵守纠正令的情况。</p><p>谷歌方面对 KFTC 的决定表示不满，称其将对罚款和纠正令提起上诉。谷歌发言人表示，AFA 是为了确保 Android 系统的兼容性和安全性，保护消费者和开发者的利益，而不是为了限制竞争。谷歌认为，KFTC 的决定将损害韩国消费者和产业的福祉，也将影响谷歌在韩国的投资和创新。</p><p>这不是谷歌第一次因 Android 系统而遭到反垄断调查和处罚。此前，欧盟、印度、美国等国家和地区也曾对谷歌的 Android 业务进行过审查，并对其处以了不同程度的罚款和纠正措施。</p><p>值得一提的是，这也不是谷歌唯一一次被韩国罚款，在 2023 年 4 月份，韩国以妨碍市场公平竞争为由对谷歌处以 421 亿韩元（约合 2.25 亿元人民币）的罚款。</p><p>追溯源头，在 2016 年 6 月至 2018 年 4 月，谷歌公司要求，那些希望获得 Google Play 重点展示机会的游戏制作商必须承诺「独家供应」，不得同时向韩国本土应用商店 One Store 等平台投放产品。</p><p>该机构认为，此举加强了谷歌的市场支配地位，造成了 One Store 的收入和平台价值降低，同时损害了 One Store 平台的收入和价值。</p><hr><p>相关阅读：</p><p><em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.zdnet.com%2Farticle%2Fsamsung-just-matched-googles-most-ambitious-android-commitment-yet%2F" target="_blank">https://www.zdnet.com/article/samsung-just-matched-googles-most-ambitious-android-commitment-yet/</a></u></em></p><p><u><em><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.theverge.com%2F2021%2F9%2F14%2F22673202%2Fgoogle-south-korea-android-fork-fine-anti-fragmentation-agreement-antitrust" target="_blank">https://www.theverge.com/2021/9/14/22673202/google-south-korea-android-fork-fine-anti-fragmentation-agreement-antitrust</a></em></u></p><p><u><em><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.cnbc.com%2F2021%2F09%2F14%2Fsouth-korea-antitrust-regulator-fines-google-177-million.html" target="_blank">https://www.cnbc.com/2021/09/14/south-korea-antitrust-regulator-fines-google-177-million.html</a></em></u></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 25 Jan 2024 02:04:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276580/google-south-korea-android-fork-fine-anti</guid>
            <link>https://www.oschina.net/news/276580/google-south-korea-android-fork-fine-anti</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Gitee 推荐 | 机器人开发框架 XRobot]]>
            </title>
            <description>
                <![CDATA[<h1><a id="user-content-xrobot" class="anchor" href="https://gitee.com/x-robot/XRobot#xrobot"></a>XRobot</h1><p>颠覆传统理念的嵌入式软件开发框架。诞生于 Robomaster 比赛，但绝不局限于此。</p><div align="center"><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/XRobot.jpeg" height="100" referrerpolicy="no-referrer"><p>
是时候使用现代化的方式来进行嵌入式开发了！
</p><p><img src="https://img.shields.io/github/license/xrobot-org/XRobot.svg" referrerpolicy="no-referrer"><img src="https://img.shields.io/github/repo-size/xrobot-org/XRobot.svg" referrerpolicy="no-referrer"><img src="https://img.shields.io/github/last-commit/xrobot-org/XRobot.svg" referrerpolicy="no-referrer"><img src="https://img.shields.io/badge/language-c/c++-F34B7D.svg" referrerpolicy="no-referrer"><img src="https://github.com/xrobot-org/XRobot/actions/workflows/build_publish.yml/badge.svg" referrerpolicy="no-referrer"><img src="https://github.com/xrobot-org/XRobot/actions/workflows/publish_repo.yml/badge.svg" referrerpolicy="no-referrer"><img src="https://github.com/xrobot-org/Docker-Image/actions/workflows/docker-publish.yml/badge.svg" referrerpolicy="no-referrer"></p><p></p><p><a href="https://gitee.com/xrobot_1/XRobot/stargazers"><img src="https://gitee.com/xrobot_1/XRobot/badge/star.svg?theme=black" alt="star" referrerpolicy="no-referrer"></a></p><h2><a id="user-content-doc" class="anchor" href="https://gitee.com/x-robot/XRobot#doc"></a>Doc</h2><p>请阅读我们的<a href="https://gitee.com/link?target=https%3A%2F%2Fxrobot-org.github.io">文档</a>，学习如何从驱动一个电机开始，搭建起完整的机器人系统。</p></div><h2><a id="user-content-引言" class="anchor" href="https://gitee.com/x-robot/XRobot#%E5%BC%95%E8%A8%80"></a>引言</h2><p>提起嵌入式开发，绝大多数团队或者公司都在以一种效率极其低下的方式来拼凑逻辑和功能，很难将现代的软件开发的思想融入到当中去。当然，其中不乏有优秀的项目和例子，其规范的代码风格，先进的架构和编译系统都值得深究。但他们往往都局限于某种平台或者应用，例如 PX4 专注于无人机系统，主要支持 ROS 和 Nuttx。而那些主要面向 MCU 的框架，例如 ESP-IDF、BabyOS 等，自身都有较大的局限性。所以是否能有一种方式，既能实现现代化的开发，又能完美兼容裸机到 RTOS 再到 Linux，甚至是运动学仿真呢？这就是我们的尝试——XRobot。</p><h2><a id="user-content-性能" class="anchor" href="https://gitee.com/x-robot/XRobot#%E6%80%A7%E8%83%BD"></a>性能</h2><h3><a id="user-content-mcu" class="anchor" href="https://gitee.com/x-robot/XRobot#mcu"></a>MCU</h3><blockquote><p>can 总线微动模块</p></blockquote><p>使用 STM32F103C8，通过 CAN 总线上报多个微动开关状态。自带命令行更改 CAN ID 与上报频率。SRAM 占用 4.35kb，Flash 占用 46.3kb。</p><blockquote><p>工程机器人</p></blockquote><p>使用 STM32F407IG，单板实现控制底盘、抓取机构等十五个电机和三个 can 总线微动模块。同时接收自定义控制器/裁判系统/遥控器数据，绘制自定义 UI，板载陀螺仪 AHRS 姿态解算，命令行和日志打印。SRAM 占用 30.6k，CCMRAM 占用 64k，flash 占用 197.5k。</p><h3><a id="user-content-linux" class="anchor" href="https://gitee.com/x-robot/XRobot#linux"></a>Linux</h3><p>使用 Raspberry 4B，实现 8 路 CAN 转 UART 模块数据接收，校验，统计与 UDP 转发。最高速率 60000pps，ram 占用 1.3mb，连续一周稳定运行。</p><h2><a id="user-content-主要特色" class="anchor" href="https://gitee.com/x-robot/XRobot#%E4%B8%BB%E8%A6%81%E7%89%B9%E8%89%B2"></a>主要特色</h2><ul><li>利用现代化的构建系统 (CMake &amp; Clang &amp; Ninja) 实现跨平台高速编译</li><li>VSCode/CLion 一键编译调试与 ClangTidy 代码检查</li><li>完善的<a href="https://gitee.com/link?target=https%3A%2F%2Fxrobot-org.github.io">文档</a>与入门教程</li><li>CI/CD 自动构建和固件发布</li><li>兼容多开发板和操作系统（Linux/Webots 仿真/FreeRTOS/裸机）</li><li>图形化/命令行参数配置</li><li>命令行界面（CLI）与消息订阅发布</li><li>部分支持 Arduino</li></ul><h2><a id="user-content-组成" class="anchor" href="https://gitee.com/x-robot/XRobot#%E7%BB%84%E6%88%90"></a>组成</h2><div align="center"><p><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%A8%8B%E5%BA%8F%E5%B1%82%E6%AC%A1%E5%9B%BE.png" alt="嵌入式程序层次图" referrerpolicy="no-referrer"></p></div><p>XRobot 基本部分是一套开发板与功能模块的管理系统，能够让使用者选择所需的模块并搭建成完整的机器人系统。基于模块化开发即插即用，尽可能对代码进行复用，又基于配置文件对功能细节进行定制和调整以便适应多种场景。同时统一底层与操作系统 API 以便标准化代码。</p><ul><li>hw/bsp 包含底层外设驱动的通用封装，主函数入口，开发板的调试工程和配置文件等。</li><li>hw/mcu 不同厂家和型号 MCU 的通用 SDK 和配置脚本。</li><li>src/system 包含不同操作系统的兼容层，提供信号量/线程管理/队列/定时器等通用接口。</li><li>src/device 通过操作底层接口对外部设备实现通信和控制的模块。</li><li>src/module 包含多个设备，实现特定功能的模块。</li><li>src/component 与硬件无关的数学运算</li><li>src/robot 将多个模块和设备组合，完成复杂机器人功能</li></ul><h2><a id="user-content-软件工具" class="anchor" href="https://gitee.com/x-robot/XRobot#%E8%BD%AF%E4%BB%B6%E5%B7%A5%E5%85%B7"></a>软件工具</h2><p>以下工具在所有框架支持的设备上，甚至包括裸机平台都提供了实现，保证系统 API 的统一</p><ul><li>消息订阅</li><li>命令行</li><li>数据库</li><li>线程管理、软定时器、信号量、实时信号、互斥锁等系统 API</li><li>队列/链表等数据结构</li><li>原生支持内存分配（new/malloc）和 printf</li><li>log 打印</li></ul><h2><a id="user-content-应用案例" class="anchor" href="https://gitee.com/x-robot/XRobot#%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B"></a>应用案例</h2><blockquote><p>Robomaster</p></blockquote><ul><li>麦轮/舵轮/平衡步兵</li><li>英雄</li><li>哨兵</li><li>工程</li><li>飞镖架</li><li>无人机</li></ul><blockquote><p>成品模块</p></blockquote><ul><li>六轴 CAN 总线 IMU 模块</li><li>CAN 转 UART 模块</li><li>BLE 配网模块</li><li>CAN 总线微动检测模块</li><li>诸多商业产品案例</li></ul><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/rmuc.jpg" height="210" width="265" referrerpolicy="no-referrer"></td><td><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/rmuc1.jpg" height="210" width="265" referrerpolicy="no-referrer"></td><td><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/rmuc2.jpg" height="210" width="265" referrerpolicy="no-referrer"></td></tr></tbody></table><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/rmuc3.jpg" height="600" width="800" referrerpolicy="no-referrer"><p><code>以上机器人均使用 XRobot 驱动</code></p><h2><a id="user-content-硬件支持" class="anchor" href="https://gitee.com/x-robot/XRobot#%E7%A1%AC%E4%BB%B6%E6%94%AF%E6%8C%81"></a>硬件支持</h2><table><thead><tr><th>MCU</th><th>Board</th><th>Image</th></tr></thead><tbody><tr><td>STM32F407IG</td><td><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.robomaster.com%2Fzh-CN%2Fproducts%2Fcomponents%2Fgeneral%2Fdevelopment-board-type-c%2Finfo">Robomaster C 型开发板</a></td><td><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/rm-c.png" width="500" height="220" referrerpolicy="no-referrer"></td></tr><tr><td>STM32F302CB</td><td><a href="https://gitee.com/link?target=https%3A%2F%2Fxrobot-org.github.io%2F1.hardware%2F3.IMU-DEV.html">IMU-DEV-BOARD</a></td><td><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/IMU-DEV-1.jpg" width="350" height="200" referrerpolicy="no-referrer"></td></tr><tr><td>STM32F446RE</td><td><a href="https://gitee.com/link?target=https%3A%2F%2Fxrobot-org.github.io%2F1.hardware%2F1.C-MINI.html">C-Mini</a></td><td><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/C-MINI-1.jpg" width="350" height="250" referrerpolicy="no-referrer"></td></tr><tr><td>STM32F103</td><td><a href="https://gitee.com/link?target=https%3A%2F%2Fxrobot-org.github.io%2F1.hardware%2F4.F103_CAN.html">F103 CAN</a></td><td><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/f103_can.jpeg" width="350" height="250" referrerpolicy="no-referrer"></td></tr><tr><td>ESP32-C3</td><td><a href="https://gitee.com/link?target=https%3A%2F%2Fxrobot-org.github.io%2F1.hardware%2F2.ESP32C3-Core.html">ESP32C3-Core</a></td><td><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/esp32c3-core-1.jpeg" width="260" height="200" referrerpolicy="no-referrer"></td></tr><tr><td>Linux x86</td><td><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.intel.cn%2Fcontent%2Fwww%2Fcn%2Fzh%2Fproducts%2Fdetails%2Fnuc.html">Intel NUC</a></td><td><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/nuc.jpg" width="350" height="200" referrerpolicy="no-referrer"></td></tr><tr><td>Linux arm</td><td><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.raspberrypi.com%2F">Raspberry pi 4B</a></td><td><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/raspi.png" width="350" height="200" referrerpolicy="no-referrer"></td></tr><tr><td>Linux arm</td><td><a href="https://gitee.com/link?target=https%3A%2F%2Fmangopi.org%2Fmcorer818">mCore-R818</a></td><td><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/mCore-R818.jpg" width="200" height="200" referrerpolicy="no-referrer"></td></tr></tbody></table><h2><a id="user-content-图片展示" class="anchor" href="https://gitee.com/x-robot/XRobot#%E5%9B%BE%E7%89%87%E5%B1%95%E7%A4%BA"></a>图片展示</h2><p><code>VSCode 与 openOCD 联合调试</code></p><p><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/%E8%B0%83%E8%AF%95%E7%95%8C%E9%9D%A2.png?raw=true" alt="VSCode 调试界面" title="VSCode 调试界面" referrerpolicy="no-referrer"></p><p><code>Windows 使用 Mingw64 原生开发</code></p><p><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/windows.png?raw=true" alt="Windows" title="Windows" referrerpolicy="no-referrer"></p><p><code>Windows11 使用 CLion 在 WSL 下开发</code></p><p><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/clion.png?raw=true" alt="CLion 调试界面" title="CLion 调试界面" referrerpolicy="no-referrer"></p><p><code>XRobot 作为外部控制器在 Webots 进行运动学仿真</code></p><p><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/Webots%E4%BB%BF%E7%9C%9F.png?raw=true" alt="Webots 仿真" title="Webots 仿真" referrerpolicy="no-referrer"></p><p><code>利用命令行查看 log、校准陀螺仪、监控电机运行数据和机器人参数配置</code></p><p><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/%E5%91%BD%E4%BB%A4%E8%A1%8C.png?raw=true" alt="命令行" title="命令行" referrerpolicy="no-referrer"></p><p><code>自定义 UI 框架</code></p><p><img src="https://gitee.com/x-robot/XRobot/raw/master/doc/image/%E5%AE%A2%E6%88%B7%E7%AB%AFUI.png?raw=true" alt="客户端 UI" title="客户端 UI" referrerpolicy="no-referrer"></p><h2><a id="user-content-相关依赖" class="anchor" href="https://gitee.com/x-robot/XRobot#%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96"></a>相关依赖</h2><p>订阅发布/日志相关功能由<a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FJiu-xiao%2FOneMessage.git">OneMessage</a>提供：<code>一个基于发布-订阅模型的跨平台消息框架，纯 C 语言编写，性能和灵活性极高</code></p><p>命令行/文件系统相关功能由<a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FJiu-xiao%2Fmini_shell.git">MiniShell</a>提供：<code>无需操作系统与动态内存分配的嵌入式 Shell</code></p>]]>
            </description>
            <pubDate>Thu, 25 Jan 2024 01:59:00 GMT</pubDate>
            <guid isPermaLink="false">https://gitee.com/x-robot/XRobot</guid>
            <link>https://gitee.com/x-robot/XRobot</link>
        </item>
        <item>
            <title>
                <![CDATA[每日一博 | 淘宝购物车扩容与性能优化]]>
            </title>
            <description>
                <![CDATA[<div class="content"><div class="rich_media_content js_underline_content
                       autoTypeSetting24psection
            " id="js_content"><p style="margin-bottom: 8px;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);text-align: center;visibility: visible;" data-mpa-powered-by="yiban.io"><img class="rich_pages wxw-img __bg_gif" data-backh="96" data-backw="578" data-imgfileid="503043306" data-ratio="0.16666666666666666" src="https://oscimg.oschina.net/oscnet/773804ed-9089-4a16-bd5b-26e06d3f6f3b.gif" data-type="gif" data-w="636" style="outline: 0px;letter-spacing: 0.544px;font-size: var(--articleFontsize);text-align: justify;width: 100%;visibility: visible !important;height: auto;" referrerpolicy="no-referrer"><br style="outline: 0px;visibility: visible;"></p><section style="margin-bottom: 8px;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);visibility: visible;"><section data-mpa-category="模板" data-mid="" style="padding-right: 5px;padding-left: 5px;outline: 0px;width: 677px;display: flex;justify-content: flex-start;align-items: center;flex-direction: column;visibility: visible;"><section data-mid="" style="outline: 0px;color: rgb(34, 34, 34);letter-spacing: 0.544px;width: 667px;display: grid;grid-template-columns: 26px auto;visibility: visible;"><section data-mid="" style="outline: 0px;width: 26px;height: 14px;display: flex;justify-content: center;align-items: center;align-self: center;visibility: visible;"><br style="outline: 0px;visibility: visible;"></section><section data-mid="" style="padding-left: 7px;outline: 0px;display: flex;justify-content: flex-start;align-items: center;visibility: visible;"><section data-mid="" style="margin-right: 7px;outline: 0px;text-align: left;visibility: visible;"><p data-mid="" style="outline: 0px;width: 0px;font-size: 14px;font-family: PingFangSC-Semibold, &quot;PingFang SC&quot;;font-weight: bold;color: rgb(255, 66, 0);line-height: 20px;visibility: visible;"><br style="outline: 0px;visibility: visible;"></p></section><section data-mid="" style="margin-bottom: 4px;outline: 0px;width: 627px;height: 1px;border-top: 1px solid rgb(255, 66, 0);align-self: flex-end;visibility: visible;"><br style="outline: 0px;visibility: visible;"></section></section></section><section data-mid="" style="padding: 7px 14px 9px 19px;outline: 0px;width: 667px;text-align: left;border-bottom: 1px solid rgb(255, 66, 0);visibility: visible;"><article data-clipboard-cangjie="[&quot;root&quot;,{},[&quot;p&quot;,{&quot;rPr&quot;:{&quot;bold&quot;:true,&quot;fonts&quot;:{&quot;ascii&quot;:&quot;宋体&quot;,&quot;eastAsia&quot;:&quot;宋体&quot;,&quot;hAnsi&quot;:&quot;宋体&quot;},&quot;sz&quot;:14,&quot;szUnit&quot;:&quot;pt&quot;},&quot;ind&quot;:{&quot;firstLine&quot;:32},&quot;uuid&quot;:&quot;llgclzt9e9bpdqblbmp&quot;},[&quot;span&quot;,{&quot;data-type&quot;:&quot;text&quot;},[&quot;span&quot;,{&quot;data-type&quot;:&quot;leaf&quot;},&quot;淘天集团-内容理解算法团队与浙江大学杨易教授团队合作的关于视频时序定位的论文被 ICCV2023 录取。&quot;]]]]" data-identifier-application__slash__x-cangjie-fragment="JTdCJTIya2xhc3MlMjIlM0ElMjJkb2N1bWVudCUyMiUyQyUyMmRhdGElMjIlM0ElN0IlN0QlMkMlMjJub2RlcyUyMiUzQSU1QiU3QiUyMmtsYXNzJTIyJTNBJTIyYmxvY2slMjIlMkMlMjJ0eXBlJTIyJTNBJTIycGFyYWdyYXBoJTIyJTJDJTIyZGF0YSUyMiUzQSU3QiUyMnJQciUyMiUzQSU3QiUyMmJvbGQlMjIlM0F0cnVlJTJDJTIyZm9udHMlMjIlM0ElN0IlMjJhc2NpaSUyMiUzQSUyMiVFNSVBRSU4QiVFNCVCRCU5MyUyMiUyQyUyMmVhc3RBc2lhJTIyJTNBJTIyJUU1JUFFJThCJUU0JUJEJTkzJTIyJTJDJTIyaEFuc2klMjIlM0ElMjIlRTUlQUUlOEIlRTQlQkQlOTMlMjIlN0QlMkMlMjJzeiUyMiUzQTE0JTJDJTIyc3pVbml0JTIyJTNBJTIycHQlMjIlN0QlMkMlMjJpbmQlMjIlM0ElN0IlMjJmaXJzdExpbmUlMjIlM0EzMiU3RCUyQyUyMnV1aWQlMjIlM0ElMjJsbGdjbHp0OWU5YnBkcWJsYm1wJTIyJTdEJTJDJTIybm9kZXMlMjIlM0ElNUIlN0IlMjJrbGFzcyUyMiUzQSUyMnRleHQlMjIlMkMlMjJsZWF2ZXMlMjIlM0ElNUIlN0IlMjJrbGFzcyUyMiUzQSUyMmxlYWYlMjIlMkMlMjJ0ZXh0JTIyJTNBJTIyJUU2JUI3JTk4JUU1JUE0JUE5JUU5JTlCJTg2JUU1JTlCJUEyLSVFNSU4NiU4NSVFNSVBRSVCOSVFNyU5MCU4NiVFOCVBNyVBMyVFNyVBRSU5NyVFNiVCMyU5NSVFNSU5QiVBMiVFOSU5OCU5RiVFNCVCOCU4RSVFNiVCNSU5OSVFNiVCMSU5RiVFNSVBNCVBNyVFNSVBRCVBNiVFNiU5RCVBOCVFNiU5OCU5MyVFNiU5NSU5OSVFNiU4RSU4OCVFNSU5QiVBMiVFOSU5OCU5RiVFNSU5MCU4OCVFNCVCRCU5QyVFNyU5QSU4NCVFNSU4NSVCMyVFNCVCQSU4RSVFOCVBNyU4NiVFOSVBMiU5MSVFNiU5NyVCNiVFNSVCQSU4RiVFNSVBRSU5QSVFNCVCRCU4RCVFNyU5QSU4NCVFOCVBRSVCQSVFNiU5NiU4NyVFOCVBMiVBQklDQ1YyMDIzJUU1JUJEJTk1JUU1JThGJTk2JUUzJTgwJTgyJTIyJTJDJTIybWFya3MlMjIlM0ElNUIlNUQlN0QlNUQlN0QlNUQlN0QlNUQlN0Q=" data-identifier-application__slash__x-doc-key="Q35O87AgYDJVq9Vb" style="outline: 0px;visibility: visible;"><section style="margin-top: 8px;margin-bottom: 8px;outline: 0px;text-align: justify;text-indent: 0em;visibility: visible;line-height: 1.75em;"><ne-clipboard data="%7B%22type%22%3A%22fragment%22%2C%22name%22%3A%22%23fragment%22%2C%22children%22%3A%5B%7B%22type%22%3A%22text%22%2C%22id%22%3A%22udf949027%22%2C%22name%22%3A%22%23text%22%2C%22attrs%22%3A%7B%7D%2C%22data%22%3A%22%E6%B2%A1%E6%9C%89%E7%81%B5%E6%84%9FGPT%EF%BC%8C%E7%94%BB%E4%B8%8D%E5%87%BA%E6%9D%A5SD%E3%80%82%22%7D%5D%2C%22attrs%22%3A%7B%7D%7D" source="https%3A%2F%2Faliyuque.antfin.com%2Flitong.lt%2Fiosxav%2Fwzm2zi2rb45816ux%3FsingleDoc%23" style="outline: 0px;visibility: visible;"></ne-clipboard></section><p style="min-height: 24px;text-align: justify;text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;"><span style="font-size: 15px;color: rgb(64, 64, 64);letter-spacing: 1px;text-indent: 0em;text-align: left;"><span style="caret-color: rgb(23, 26, 29);color: rgb(23, 26, 29);font-family: -apple-system, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Segoe UI&quot;, system-ui, Roboto, &quot;Droid Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif;letter-spacing: normal;text-align: left;white-space: pre-wrap;text-size-adjust: auto;background-color: rgb(255, 255, 255);">为了应对用户规模的增加和交易活动的激增，淘宝购物车近年来进行了一系列技术升级，其中主要集中在扩容与性能优化上。本文将简要介绍这些改进措施，以及它们如何提升购物车的响应速度和用户体验，以实现「又快！又丝滑！」的购物体验。</span></span><span style="font-size: 15px;color: rgb(64, 64, 64);letter-spacing: 1px;text-align: left;text-indent: 0em;">主要包括：</span></span></p><ul class="list-paddingleft-1" style="margin-top: 8px;margin-bottom: 8px;width: 577.422px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-indent: 0em;text-wrap: wrap;min-height: 24px;line-height: 1.75em;"><li style="margin-top: 8px;margin-bottom: 8px;min-height: 24px;text-align: justify;text-indent: 0em;line-height: 1.75em;"><p style="margin-top: 8px;margin-bottom: 8px;min-height: 24px;text-indent: 0em;line-height: 1.75em;text-align: justify;"><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">淘宝购物车<strong>扩容</strong>分析与解决方案</span></p></li><li style="margin-top: 8px;margin-bottom: 8px;min-height: 24px;text-align: justify;text-indent: 0em;line-height: 1.75em;"><p style="margin-top: 8px;margin-bottom: 8px;min-height: 24px;text-indent: 0em;line-height: 1.75em;text-align: justify;"><strong><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">网络包</span></strong><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">大小与服务端<strong>并行化</strong>分析与方案</span></p></li></ul></article></section><section data-mid="" style="margin-top: -4px;outline: 0px;color: rgb(34, 34, 34);letter-spacing: 0.544px;width: 40px;height: 7px;display: flex;justify-content: center;align-items: center;align-self: flex-end;background-image: initial;background-position: initial;background-size: initial;background-repeat: initial;background-attachment: initial;background-origin: initial;background-clip: initial;visibility: visible;"><br style="outline: 0px;visibility: visible;"></section></section></section><section data-role="outer" label="Powered by 135editor.com" style="margin-top: 8px;margin-bottom: 8px;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);line-height: 1.75em;visibility: visible;"><section style="margin-top: 8px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;line-height: 1.75em;visibility: visible;"><br></section><p style="outline: 0px;box-sizing: inherit;letter-spacing: 0.544px;color: rgba(25, 26, 31, 0.9);font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;text-align: center;visibility: visible;line-height: normal;"><span style="outline: 0px;font-size: 15px;letter-spacing: 1px;visibility: visible;"><img class="rich_pages wxw-img" data-imgfileid="503043303" data-ratio="0.3161764705882353" data-s="300,640" src="https://oscimg.oschina.net/oscnet/82d83d51-a06a-4ee5-ac67-ef01dff7df67.png" data-type="png" data-w="408" style="outline: 0px;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;visibility: visible !important;width: 114px !important;" referrerpolicy="no-referrer"></span></p><p style="outline: 0px;letter-spacing: 0.544px;text-align: center;visibility: visible;line-height: normal;"><span style="outline: 0px;font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;visibility: visible;color: rgb(255, 76, 0);">扩容的背景</span></p></section><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></section><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: center;"><img class="rich_pages wxw-img" data-backh="204" data-backw="578" data-imgfileid="503043302" data-ratio="0.3527777777777778" src="https://oscimg.oschina.net/oscnet/c1933c3c-0b7f-4efc-aef9-f7f9532c93f5.png" data-type="png" data-w="1080" style="width: 100%;height: auto;" referrerpolicy="no-referrer"></section><p style="min-height: 24px;text-align: justify;text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9%3FsingleDoc%23"></ne-clipboard><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9%3FsingleDoc%23"><br></ne-clipboard></p><p style="min-height: 24px;text-align: justify;text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">首先讲一讲购物车的职责。购物车承载着</span><strong><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">购前环节中促成购买</span></strong><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">的职责：对于下单犹豫的用户，用营销等手段提升用户决策效率，对于转化确定性较高的用户，精准的推荐让他买的更多；在</span><strong><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">购中环节提供流畅的交易体验</span></strong><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">：优惠计算的准确性和过程的清晰度以及各种业务形态商品的凑单合并结算等。作为在购前链路中直面消费者的重</span><span style="letter-spacing: 1px;"><span style="font-size: 15px;color: rgb(64, 64, 64);">要节点，</span><strong><span style="font-size: 15px;color: rgb(64, 64, 64);">购物车里的体验问题就显得十分重要且敏感</span></strong><span style="font-size: 15px;color: rgb(64, 64, 64);">。</span></span></p><p style="min-height: 24px;text-align: justify;text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;"><br></span></p><p style="min-height: 24px;text-align: justify;text-indent: 0em;line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;"><span style="letter-spacing: 1px;"><span style="font-size: 15px;">分析往年的用户原声可以发现，用户对于扩容有</span><strong><span style="font-size: 15px;color: rgb(64, 64, 64);">强烈诉求</span></strong><span style="font-size: 15px;">。</span></span></p><p style="min-height: 24px;text-align: justify;text-indent: 0em;line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;"><br></p><p style="line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;"><span style="letter-spacing: 1px;font-size: 15px;">So 购物车大刀阔斧般的升级可以说是</span><span style="letter-spacing: 1px;"><strong><span style="font-size: 15px;color: rgb(64, 64, 64);">刻不容缓！</span></strong></span></p><section style="min-height: 24px;text-align: justify;text-indent: 0em;margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><br></section><section style="min-height: 24px;text-align: justify;text-indent: 0em;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">针对<strong>全量用户</strong>做购物车加购商品上限的扩容，由<strong>200</strong>（现货 120+预售 80）扩充至<strong>380</strong>（现货 300+预售 80）。</span></section><section style="min-height: 24px;text-align: justify;text-indent: 0em;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></section><section style="min-height: 24px;text-align: center;text-indent: 0em;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"></span><span style="font-size: 15px;letter-spacing: 1px;"><img class="rich_pages wxw-img" data-imgfileid="503043363" data-ratio="2.1675925925925927" src="https://oscimg.oschina.net/oscnet/d837d198-bcf1-40ec-ad09-7444e98b47de.png" data-type="png" data-w="1080" referrerpolicy="no-referrer"></span></section><section style="min-height: 24px;text-align: justify;text-indent: 0em;margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><ne-clipboard data="%7B%22type%22%3A%22fragment%22%2C%22name%22%3A%22%23fragment%22%2C%22children%22%3A%5B%7B%22type%22%3A%22element%22%2C%22id%22%3A%22uf021e117%22%2C%22name%22%3A%22uli%22%2C%22attrs%22%3A%7B%22list%22%3A%22ucb6e2c2b%22%2C%22fid%22%3A%22u9bb33c1b%22%2C%22indexStyle%22%3A%7B%22bold%22%3Atrue%7D%2C%22indexType%22%3A0%2C%22parentIndex%22%3A%5B%5D%2C%22index%22%3A0%7D%2C%22children%22%3A%5B%7B%22type%22%3A%22text%22%2C%22id%22%3A%22u32355500%22%2C%22name%22%3A%22%23text%22%2C%22attrs%22%3A%7B%22bold%22%3Atrue%2C%22color%22%3A%22%23E8323C%22%7D%2C%22data%22%3A%22%E5%AE%B9%E9%87%8F%E9%97%AE%E9%A2%98%22%7D%2C%7B%22type%22%3A%22text%22%2C%22id%22%3A%22ub5698cb2%22%2C%22name%22%3A%22%23text%22%2C%22attrs%22%3A%7B%22bold%22%3Atrue%7D%2C%22data%22%3A%22%E4%BD%9C%E4%B8%BA%E6%8A%8A%E8%B4%AD%E7%89%A9%E8%BD%A6%E2%80%9C%E5%81%9A%E5%A4%A7%E2%80%9D%E7%9A%84%22%7D%2C%7B%22type%22%3A%22text%22%2C%22id%22%3A%22ufdb8f448%22%2C%22name%22%3A%22%23text%22%2C%22attrs%22%3A%7B%22bold%22%3Atrue%2C%22color%22%3A%22%23E8323C%22%7D%2C%22data%22%3A%22%E6%A0%B8%E5%BF%83%E9%97%AE%E9%A2%98%22%7D%2C%7B%22type%22%3A%22text%22%2C%22id%22%3A%22ua268153a%22%2C%22name%22%3A%22%23text%22%2C%22attrs%22%3A%7B%22bold%22%3Atrue%7D%2C%22data%22%3A%22%EF%BC%8C%E6%B6%89%E5%8F%8A%E7%9A%84%E6%8C%91%E6%88%98%E5%92%8C%E9%80%89%E5%9E%8B%E5%9C%A8%E5%90%8E%E6%96%87%E4%BC%9A%E8%AF%A6%E7%BB%86%E5%B1%95%E5%BC%80%E3%80%82%22%7D%5D%7D%5D%2C%22attrs%22%3A%7B%7D%7D" source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9"><br></ne-clipboard></section><p style="margin-bottom: 0px;outline: 0px;box-sizing: inherit;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);color: rgba(25, 26, 31, 0.9);font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;text-align: center;visibility: visible;line-height: normal;"><span style="outline: 0px;font-size: 15px;letter-spacing: 1px;visibility: visible;"><img class="rich_pages wxw-img" data-imgfileid="503043313" data-ratio="0.3056872037914692" data-s="300,640" src="https://oscimg.oschina.net/oscnet/efd912fe-b72c-4c6f-9a7e-323ea252689c.png" data-type="png" data-w="422" style="outline: 0px;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;visibility: visible !important;width: 115px !important;" referrerpolicy="no-referrer"></span></p><p style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);color: rgb(34, 34, 34);text-align: center;visibility: visible;line-height: normal;"><span style="outline: 0px;font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;visibility: visible;color: rgb(255, 66, 0);">扩容的挑战与解法</span></p><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 8px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><br></h4><span id="OSC_h4_1"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 8px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><span style="outline: 0px;visibility: visible;letter-spacing: 1px;color: rgb(255, 66, 0);"><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">▐</span></strong><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">&nbsp;&nbsp;</span></strong><strong style="outline: 0px;visibility: visible;"><span style="color: rgb(255, 66, 0);outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">扩容的挑战</span></strong></span></h4><section style="margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9%3FsingleDoc%23"><br></ne-clipboard></span></section><section style="margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">每每提到购物车的容量，在扩容功能上线前都会受到一个灵魂拷问<strong>为什么我的购物车上限只有 120？？？</strong> 我们内部在进行多轮讨论后，也意识到购物车的整体扩容在技术上和产品设计上都面临巨大的挑战。聚焦在技术上的挑战主要来源于对<strong>数据库的直接冲击</strong>与<strong>扩容带来的交易全链路计算量放大</strong>。</span></section><section style="margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><br></section><section style="margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><ne-clipboard data="%7B%22type%22%3A%22fragment%22%2C%22name%22%3A%22%23fragment%22%2C%22children%22%3A%5B%7B%22type%22%3A%22element%22%2C%22id%22%3A%22tl0ZE%22%2C%22name%22%3A%22h3%22%2C%22attrs%22%3A%7B%7D%2C%22children%22%3A%5B%7B%22type%22%3A%22text%22%2C%22id%22%3A%22u8256928b%22%2C%22name%22%3A%22%23text%22%2C%22attrs%22%3A%7B%7D%2C%22data%22%3A%22%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%8C%91%E6%88%98%22%7D%5D%7D%2C%7B%22type%22%3A%22element%22%2C%22id%22%3A%22g16Aw%22%2C%22name%22%3A%22h4%22%2C%22attrs%22%3A%7B%7D%2C%22children%22%3A%5B%7B%22type%22%3A%22text%22%2C%22id%22%3A%22u887850d0%22%2C%22name%22%3A%22%23text%22%2C%22attrs%22%3A%7B%7D%2C%22data%22%3A%22%22%7D%5D%7D%5D%2C%22attrs%22%3A%7B%7D%7D" source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9"></ne-clipboard></section><ul class="list-paddingleft-1" style="list-style-type: disc;"><li style="color: rgb(255, 66, 0);"><span id="OSC_h3_2"></span><h3 style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(255, 66, 0);">数据库的挑战</span></h3></li></ul><h4 style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></h4><h4 style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9%3FsingleDoc%23"></ne-clipboard></h4><span id="OSC_h4_3"></span><h4 style="margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(255, 66, 0);">存储瓶颈与相关影响</span></h4><p style="margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></p><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;">扩容首先带来的就是存储容量的上涨，按扩容到 300 的预期估算，存储量上涨就<strong style="font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">大约达到了 2 倍</strong>，在物理机资源有限的情况下存储量的上涨会同时到来 BP 缓存率的下降，这样就导致其他用户的数据只能去物理磁盘读取，磁盘 IO 会成为巨大的瓶颈，进而导致数据库各个操作的 RT 飙升。</span></p><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></p><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;"><strong style="font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">扩容后由于 BP 命中率下降，冷数据访问导致大量读盘，数据库磁盘 IO 会成为巨大瓶颈。</strong></span><br></p><section style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;"><strong style="font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"><br></strong></span></section><ul class="list-paddingleft-1" style="list-style-type: disc;"><li style="color: rgb(255, 66, 0);"><span id="OSC_h3_4"></span><h3 style="margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(255, 66, 0);">实时计算量放大对交易全链路的挑战</span></h3></li></ul><h4 style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></h4><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9%3FsingleDoc%23"></ne-clipboard></section><span id="OSC_h4_5"></span><h4 style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(255, 66, 0);">现有架构的特点：「分页商品实时计算」</span></h4><section style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></section><section style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">购物车现有的分页设计着实</span><strong><span style="font-size: 15px;letter-spacing: 1px;">提高了用户进入购物车的秒开体验</span></strong><span style="font-size: 15px;letter-spacing: 1px;">。</span></section><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></p><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;">但是遇到类似，跨店满减筛选、降价筛选、消费券筛选等强依赖实时计算结果的产品设计，需要针对用户加购品</span><strong><span style="font-size: 15px;letter-spacing: 1px;">做全量计算并一次性下发给客户端</span></strong><span style="font-size: 15px;letter-spacing: 1px;">。</span></p><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><br></p><span id="OSC_h4_6"></span><h4 style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(255, 66, 0);">购物车筛选的实现</span></h4><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><br></p><blockquote class="js_blockquote_wrap" data-type="2" data-url="" data-author-name="" data-content-utf8-length="82" data-source-title=""><section class="js_blockquote_digest"><section><section style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;">大促跨店满减报名是类目+商家纬度，营销规则又包含了部分类目黑标的逻辑。</span></section><section style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;">但是购物车跨店满减筛选是商品纬度的判断。所以这里有一个从类目+商家到商品纬度的打平计算的过程。</span></section></section></section></blockquote><p style="margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><br></p><p style="text-align: center;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><img class="rich_pages wxw-img" data-backh="78" data-backw="578" data-galleryid="" data-imgfileid="503043364" data-ratio="0.13492927094668117" data-s="300,640" src="https://oscimg.oschina.net/oscnet/8a1f2093-970d-4bfa-ac7a-0fa157cae482.png" data-type="png" data-w="919" style="width: 100%;height: auto;" referrerpolicy="no-referrer"></p><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></section><blockquote class="js_blockquote_wrap" data-type="2" data-url="" data-author-name="" data-content-utf8-length="69" data-source-title=""><section class="js_blockquote_digest"><section><p style="margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">为了判断商品是否报名了跨店满减，需要调用，营销，进行实时计算。</span></p><p style="margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">用户纬度的所有加购品经过，营销，计算后，购物车才能筛选出哪些参与了跨店满减。</span></p></section></section></blockquote><section style="margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><br></section><section style="margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><ne-clipboard data="%7B%22type%22%3A%22fragment%22%2C%22name%22%3A%22%23fragment%22%2C%22children%22%3A%5B%7B%22type%22%3A%22element%22%2C%22id%22%3A%22EP19D%22%2C%22name%22%3A%22h4%22%2C%22attrs%22%3A%7B%7D%2C%22children%22%3A%5B%7B%22type%22%3A%22text%22%2C%22id%22%3A%22u62ac1e07%22%2C%22name%22%3A%22%23text%22%2C%22attrs%22%3A%7B%7D%2C%22data%22%3A%22%E4%B8%8B%E5%8F%91%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%95%B0%E6%8D%AE%E4%BD%93%E7%A7%AF%E8%BF%87%E5%A4%A7%EF%BC%8C%E5%AF%BC%E8%87%B4%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%E5%8F%98%E5%B7%AE%22%7D%5D%7D%5D%2C%22attrs%22%3A%7B%7D%7D" source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9"></ne-clipboard></section><span id="OSC_h4_7"></span><h4 style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(255, 66, 0);">下发客户端数据体积过大，导致用户体验变差</span></h4><section style="margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><br></section><section style="margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><ne-clipboard data="%7B%22type%22%3A%22fragment%22%2C%22name%22%3A%22%23fragment%22%2C%22children%22%3A%5B%7B%22type%22%3A%22element%22%2C%22id%22%3A%22u4cc8556e%22%2C%22name%22%3A%22p%22%2C%22attrs%22%3A%7B%7D%2C%22children%22%3A%5B%7B%22type%22%3A%22text%22%2C%22id%22%3A%22ud6735e5f%22%2C%22name%22%3A%22%23text%22%2C%22attrs%22%3A%7B%7D%2C%22data%22%3A%22%E4%B8%8B%E5%8F%91300%2B%E4%B8%AA%E5%93%81%E7%9A%84%E6%95%B0%E6%8D%AE%E5%8C%85%E9%A2%84%E8%AE%A1%E7%BA%A6%E4%B8%BA1M%E5%B7%A6%E5%8F%B3%EF%BC%8C%E5%9C%A8%E5%BC%B1%E7%BD%91%E7%8E%AF%E5%A2%83%E4%B8%8B%EF%BC%8C%E6%8C%89%20100KB%2Fs%E8%AE%A1%E7%AE%97%EF%BC%8C%E9%9C%80%E8%A6%81%E7%9A%84%E4%BC%A0%E8%BE%93%E6%97%B6%E9%97%B4%E6%98%AF10s%20%E5%B7%A6%E5%8F%B3%E3%80%82%22%7D%5D%7D%5D%2C%22attrs%22%3A%7B%7D%7D" source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9"></ne-clipboard></section><blockquote class="js_blockquote_wrap" data-type="2" data-url="" data-author-name="" data-content-utf8-length="55" data-source-title=""><section class="js_blockquote_digest"><section>
     下发 300+个品的数据包预计约为 1M 左右，在弱网环境下，按 100KB/s 计算，需要的传输时间是 10s 左右。 
   </section></section></blockquote><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><ul class="list-paddingleft-1" style="padding-left: 23px;"><li style="font-size: 15px;letter-spacing: 1px;"><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">购物车已经采用了</span><strong><span style="font-size: 15px;letter-spacing: 1px;">分页实时计算方案</span></strong><span style="font-size: 15px;letter-spacing: 1px;">，提高用户秒开体验</span></p></li><li style="font-size: 15px;letter-spacing: 1px;"><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">由于</span><strong><span style="font-size: 15px;letter-spacing: 1px;">筛选涉及全量下发</span></strong><span style="font-size: 15px;letter-spacing: 1px;">，扩容会放大对交易链路的计算量且增加购物车本身的性能压力，从而导致用户体验的降低。</span></p></li></ul><section style="margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><br></section><span id="OSC_h4_8"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 8px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><span style="outline: 0px;visibility: visible;letter-spacing: 1px;color: rgb(255, 66, 0);"><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">▐</span></strong><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">&nbsp;&nbsp;</span></strong><strong style="outline: 0px;visibility: visible;"><span style="color: rgb(255, 66, 0);outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">扩容的解法</span></strong></span></h4><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></section><section style="margin-bottom: 8px;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9"></ne-clipboard></section><ul class="list-paddingleft-1" style="list-style-type: disc;"><li style="color: rgb(255, 66, 0);font-size: 15px;"><span id="OSC_h3_9"></span><h3 style="margin-bottom: 8px;"><span style="font-size: 15px;">引入 tairsql 提升购物车读性能</span></h3></li></ul><section style="margin-bottom: 8px;"><br></section><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9"></ne-clipboard></span></section><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">以双十一峰值的购物车监控为例，在峰值期间有明显的</span><strong style="font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">脉冲流量</strong><span style="font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">，且主要流量</span><strong style="font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">集中</strong><span style="font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">在查询与勾选这两种依赖读 db 的操作类型，而涉及写 db 的流量（加购，删除，更新等）</span><strong style="font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">明显偏少</strong><span style="font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">。</span><br></p><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></p><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;">查询购物车的 SQL 逻辑基本<strong>属于简单语句</strong>，SQL 这种的查询条件主要是用户 id、加购状态等。并且购物车数据是按照用户纬度聚合，<strong>单次请求返回的数据体积不会太大</strong>。</span></p><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></p><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;">所以我们总结出购物车的<strong>流量特点</strong>为：</span></p><ol class="list-paddingleft-1" style="list-style-type: decimal;"><li><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9"></ne-clipboard>典型的<strong>读多写少</strong>，</span></p></li><li><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;">sql 返回数据不会太大</span></p></li><li><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;">有瞬时<strong>脉冲</strong></span></p></li><li><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;">对 RT 敏感</span></p></li></ol><section style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></section><section style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">根据流量特点在调研多种数据库选型后，并结合营销团队在双十一通过 tairsql 解决买家资产查询的经验后，购物车本次选择</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>云原生内存数据库 tairsql 作为读库提升查询性能</strong></span><span style="font-size: 15px;letter-spacing: 1px;">。</span></section><section style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></section><section style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;text-align: center;"><span style="font-size: 15px;letter-spacing: 1px;"><img class="rich_pages wxw-img" data-imgfileid="503043365" data-ratio="0.532608695652174" src="https://oscimg.oschina.net/oscnet/0852aacc-13ec-437b-9200-b77bcfd9e7f5.png" data-type="png" data-w="1012" referrerpolicy="no-referrer"></span></section><section style="margin-bottom: 8px;"><br></section><span id="OSC_h4_10"></span><h4 style="margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(255, 66, 0);">读写分离</span></h4><p style="margin-bottom: 8px;"><br></p><section style="text-align: center;margin-bottom: 8px;"><img class="rich_pages wxw-img" data-imgfileid="503043366" data-ratio="0.5111111111111111" src="https://oscimg.oschina.net/oscnet/1576f015-9b12-4d54-b018-0b503621edc5.png" data-type="png" data-w="1080" referrerpolicy="no-referrer"></section><p style="text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><p style="min-height: 24px;text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">引入 tairsql 后，峰值期间的</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>读流量全部走 tairsql</strong></span><span style="font-size: 15px;letter-spacing: 1px;">，写流量仍然会对 db 与 taisql 执行</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>双写</strong></span><span style="font-size: 15px;letter-spacing: 1px;">，同时有数据同步任务（精衞任务）做同步兜底。</span></p><ol class="list-paddingleft-1" style="list-style-type: decimal;"><li><p style="min-height: 24px;text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">使用 tairsql 与 db 做<strong>读写分离</strong></span></p></li><li><p style="min-height: 24px;text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">采用<strong>双写+精衞</strong>方案保证数据同步</span></p></li></ol><section style="margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><br></section><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9"></ne-clipboard></span></section><ul class="list-paddingleft-1" style="list-style-type: disc;"><li style="color: rgb(255, 66, 0);"><span id="OSC_h3_11"></span><h3 style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(255, 66, 0);">预计算</span></h3></li></ul><section style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></section><section style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">购物车的首页筛选难点在于依赖<strong>全量商品实时计算</strong>的结果，购物车<strong>扩容后</strong>势必对筛选造成性能压力。那么是否存在一种方式，能在调用下游服务进行<strong>实时计算之前</strong>，根据某些规则结合商品属性（商品标签，营销属性等），进行一次过滤，从而减少实时计算商品数呢？</span></section><section style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></section><section style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">分析现有的筛选产品功能后，针对营销类筛选（跨店满减筛选、预热态筛选、消费券筛选），考虑<strong>前置生成商品染色表，记录加购品特征</strong>，在营销计算前，根据筛选规则过滤出可能参加指定活动的商品。</span></section><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></p><p style="margin-top: 8px;margin-bottom: 8px;min-height: 24px;letter-spacing: 0.578px;text-indent: 0em;text-wrap: wrap;line-height: 1.75em;"><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;text-indent: 0em;">预计算链路图示：</span></p><p style="min-height: 24px;letter-spacing: 0.578px;text-indent: 0em;text-wrap: wrap;line-height: 1.75em;text-align: center;margin-top: 8px;margin-bottom: 8px;"><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;text-indent: 0em;"><img class="rich_pages wxw-img" data-backh="287" data-backw="578" data-imgfileid="503043368" data-ratio="0.4962962962962963" src="https://oscimg.oschina.net/oscnet/1601ba2c-8df3-45e6-a321-9ed39961e523.png" data-type="png" data-w="1080" style="width: 100%;height: auto;" referrerpolicy="no-referrer"></span></p><p style="line-height: 1.75em;margin-top: 8px;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></p><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9"></ne-clipboard></span></section><section style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">预计算链路中通过监听类目信息，优惠规则结合加购底表数据，<span style="color: rgb(0, 0, 0);"><strong>生成加购商品特征表。</strong></span>当用户发起筛选请求时，和正常的渲染请求一样还是会在实时加购数据中查询全量加购数据的基础信息，之后会结合特征表和筛选规则，<span style="color: rgb(0, 0, 0);"><strong>筛选出符合规则的商品,这些通过筛选的商品</strong></span>再与后续下游服务交互做实时计算<span style="color: rgb(0, 0, 0);"><strong>。</strong></span></span></section><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;text-indent: 0em;"><br></span></p><section style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;font-size: 18.6667px;visibility: visible;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);text-align: center;line-height: normal;"><img class="rich_pages wxw-img" data-imgfileid="503043323" data-ratio="0.3056872037914692" data-s="300,640" src="https://oscimg.oschina.net/oscnet/3fe13639-a4e0-42c5-b0fe-c0ca6819184c.png" data-type="png" data-w="422" style="outline: 0px;letter-spacing: 0.544px;visibility: visible !important;width: 117px !important;" referrerpolicy="no-referrer"></section><section style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;font-size: 18.6667px;visibility: visible;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);text-align: center;line-height: normal;"><span style="outline: 0px;font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;color: rgb(255, 66, 0);">端到端耗时组成</span></section><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;text-align: justify;"><br></h4><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;text-align: justify;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9"></ne-clipboard></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;">近年来内网用户都在吐槽手淘购物车的性能体验不好，也很罕见的在用户舆情里也看到反馈 「购物车卡顿」。在如此激烈的竞争中，购物车不仅是用户购物体验的直接接口，更是电商运营效率的关键所在。一个优秀的购物车系统，应当能承受巨大的并发请求，同时保持数据的准确性与实时性，为用户提供流畅的购物体验。</span></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;"><br></span></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">从性能数据来看从一次用户在购物车内发起网络请求到客户端产生相应变化，耗时组成大致<span style="color: rgb(64, 64, 64);">分为</span></span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>「网络传输」、「服务端耗时」、「客户端渲染」三大部分</strong></span><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">。从服务端的视角结合</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>快速降低耗时的使命</strong></span><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">，我们针对除客户端逻辑外的优化思路主要有以下几块，具体的细节也会在后文详细展开</span></section><p style="text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">网络传输优化：</span></p><ol class="list-paddingleft-1" style="list-style-type: decimal;"><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(64, 64, 64);">压缩数据：使用如 Gzip 这样的数据</span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>压缩技术</strong></span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(64, 64, 64);">或结合业务逻辑做</span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>裁剪</strong></span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(64, 64, 64);">减少传输数据的大小。</span></p></li><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(64, 64, 64);">缓存策略：合理设置</span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>缓存策略</strong></span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(64, 64, 64);">，减少不必要的网络请求和包大小。</span></p></li><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(64, 64, 64);">延迟加载：对于购物车非关键资源进行延迟加载，</span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>优先加载对用户体验影响最大的内容</strong></span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(64, 64, 64);">。</span></p></li></ol><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);"><br></span></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">服务端耗时优化：</span></p><ol class="list-paddingleft-1" style="list-style-type: decimal;"><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(64, 64, 64);">缓存机制：使用内存缓存如 tair 等，对</span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>频繁访问的数据</strong></span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(64, 64, 64);">进行缓存，减少网络传输压力。</span></p></li><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(64, 64, 64);">并发处理：优化代码，使用</span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>异步处理和多线程技术</strong></span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(64, 64, 64);">，提高服务端的并发处理能力。</span></p></li><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(64, 64, 64);">代码优化：精简代码逻辑，移除</span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>不必要</strong></span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">的中间件和服务</span></p></li></ol><p style="text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><section style="outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;font-size: 18.6667px;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);text-align: center;margin-bottom: 0px;margin-top: 0px;line-height: normal;"><img class="rich_pages wxw-img" data-croporisrc="https://oscimg.oschina.net/oscnet/340db11e-f422-42ae-b42a-bc67075764ef.png" data-cropx1="71" data-cropx2="328" data-cropy1="158" data-cropy2="242" data-imgfileid="503043324" data-ratio="0.32684824902723736" data-s="300,640" src="https://oscimg.oschina.net/oscnet/e6b8e6c3-cf2c-407b-862b-44c34f0372c0.jpg" data-type="jpeg" data-w="257" style="outline: 0px;letter-spacing: 0.544px;visibility: visible !important;width: 120px !important;" referrerpolicy="no-referrer"></section><section style="outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);color: rgb(100, 99, 99);font-size: 15px;text-align: center;margin-bottom: 0px;margin-top: 0px;line-height: normal;"><span style="outline: 0px;font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 1px;font-size: 18px;color: rgb(255, 66, 0);">网络包传输</span></section><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;"><strong style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: var(--articleFontsize);letter-spacing: 0.034em;"><br></strong></span></p><span id="OSC_h4_12"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 8px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><span style="outline: 0px;visibility: visible;letter-spacing: 1px;color: rgb(255, 66, 0);"><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">▐</span></strong><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">&nbsp;&nbsp;</span></strong><strong style="outline: 0px;visibility: visible;"><span style="color: rgb(255, 66, 0);outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">包大小对网络 rt 影响分析</span></strong></span></h4><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 8px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><br></h4><span id="OSC_h4_13"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;margin-bottom: 8px;"><span style="font-size: 15px;">在当今的网络环境中，</span><span style="font-size: 15px;color: rgb(0, 0, 0);"><strong style="color: rgba(0, 0, 0, 0.9);font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;text-indent: 2em;">上下行带宽往往是不对称的</strong></span><span style="font-size: 15px;color: rgba(0, 0, 0, 0.9);font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 1px;text-indent: 2em;">，这种不一致性在移动网络中也很常见，网络运营商为了更有效地利用有限的无线频谱资源，往往会分配更多的带宽给下行链路，以提供更好的媒体消费体验。考虑到这种上下行带宽的不一致性，</span><span style="font-size: 15px;color: rgb(0, 0, 0);"><strong style="color: rgba(0, 0, 0, 0.9);font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;text-indent: 2em;">上行包的优化往往比下行包的优化收益更大</strong></span><span style="font-size: 15px;color: rgba(0, 0, 0, 0.9);font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 1px;text-indent: 2em;">。因为下行通常有更多的可用带宽，即使存在一些性能瓶颈，用户也可能不会立即感受到明显的性能下降。而上行链路由于其固有的带宽限制，任何性能的微小提升都能给用户带来明显的体验改善。优化上行数据包，例如通过减少发送的数据量、实现数据包的压缩、优化传输协议以及应用智能队列管理，能够有效降低延迟、提高上传速度，从而在带宽受限的情况下尽量减少阻塞和等待时间。</span></h4><section style="margin-bottom: 8px;"><br></section><section style="margin-top: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;margin-bottom: 8px;"><span style="font-size: 15px;color: rgba(0, 0, 0, 0.9);font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 1px;text-indent: 2em;">上行包优化收益<strong>略大</strong>于下行包优化收益。</span></section><section style="margin-top: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;margin-bottom: 8px;"><span style="font-size: 15px;color: rgba(0, 0, 0, 0.9);font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 1px;text-indent: 2em;"><br></span></section><span id="OSC_h4_14"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 8px;margin-bottom: 8px;text-wrap: wrap;outline: 0px;letter-spacing: 0.544px;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><span style="outline: 0px;visibility: visible;letter-spacing: 1px;color: rgb(255, 66, 0);"><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">▐</span></strong><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">&nbsp;&nbsp;</span></strong><strong style="outline: 0px;visibility: visible;"><span style="color: rgb(255, 66, 0);outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">购物车状态协议缓存</span></strong></span></h4><section style="margin-top: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;margin-bottom: 8px;"><br></section><section style="outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><span style="font-size: 15px;color: rgba(0, 0, 0, 0.9);font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 1px;">回到购物车的场景，上行包</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong style="color: rgba(0, 0, 0, 0.9);font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: var(--articleFontsize);letter-spacing: 0.034em;">最直观的膨胀点</strong></span><span style="font-size: 15px;color: rgba(0, 0, 0, 0.9);font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.034em;">就在于请接口求中 params 字段：</span><br></section><section style="outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;text-align: center;"><span style="font-size: 15px;color: rgba(0, 0, 0, 0.9);font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.034em;"><img class="rich_pages wxw-img" data-imgfileid="503043369" data-ratio="0.23981481481481481" src="https://oscimg.oschina.net/oscnet/dcf49ce8-fbd9-439d-95f8-de3ac9b5fab1.png" data-type="png" data-w="1080" referrerpolicy="no-referrer"></span></section><section style="outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;margin-top: 8px;margin-bottom: 8px;"><br></section><section style="outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;text-indent: 0em;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9"></ne-clipboard></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">这一份长长的 params 里包含了，页面组件，页面状态等多个信息，其中页面组件是客户端渲染强依赖数据，而状态数据是服务端业务逻辑依赖数据。</span></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">状态数据同时存在于上下行协议中，且客户端不依赖其做逻辑处理，所以</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>理论上这份数据可以不作为协议下发</strong></span><span style="font-size: 15px;letter-spacing: 1px;">，并且在服务端的「历史长河」中，由于缺乏对该信息的管控，状态协议数据可以随意的追加，导致了这份大数据包逐渐成为上下行网络包中的一份包袱。</span></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></section><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">状态协议数据同时存在于上行与下行协议中，<strong>且客户端不依赖。</strong></span></p><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></section><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">为了达到和客户端解耦的效果，最直观的方法就是将这份数据存到缓存中。然而在结合交易流量和现有计算资源做一个简单估算后，我们发现事情并没有那么简单。结合淘宝购物车的峰值流量来测算，整体产生的带宽量级会达到数十 GB，在当前的规格资源下根本不够用。</span></p><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></section><ul class="list-paddingleft-1" style="list-style-type: disc;"><li style="color: rgb(255, 66, 0);"><span id="OSC_h3_15"></span><h3 style="min-height: 24px;text-align: justify;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(255, 66, 0);">压缩与缓存</span></h3></li></ul><section style="margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;">前文也提到了我们的终极目标是把服务端依赖数据放到缓存中，完全与客户端解耦。经过结合业务逻辑的状态协议裁剪，包大小已经有所降低，<strong>带宽瓶颈与可用性问题</strong>确实得到了缓解。那么在将这份数据存到缓存之前，还有没有可以继续「压榨」的空间呢？答案是当然是有。</span></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;"><strong>base64 和，压缩算法：</strong></span></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">在原有的模式下，状态协议通过客户端和服务端直接传输来做保持，故需要通过使用 base64 编码确保数据能正确地存储和传输，而不是通过原始的二进制格式。这种方式会带来</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>大约 33% 的数据膨胀</strong></span><span style="font-size: 15px;letter-spacing: 1px;">，在确定了状态数据往缓存中存储的优化方向后，状态数据可以不再做 base64 编码，而转为</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>直接存字节数组</strong></span><span style="font-size: 15px;letter-spacing: 1px;">。</span></section><ol class="list-paddingleft-1" style="padding-left: 23px;"><li style="font-size: 15px;letter-spacing: 1px;"><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">Base64 编码原理：Base64 编码将每组 3 个字节（共 24 位）的原始数据划分为 4 个单元，每个单元 6 位。由于每 6 位只能表示 64 种状态（2^6 = 64），Base64 编码选择了一个 64 字符的集合来表示这些状态。这个字符集通常包括大写和小写英文字母（A-Z, a-z）、数字（0-9）、加号（+）和斜杠（/）。实际编码时，Base64 处理器会查找这个字符集，将每个 6 位的值映射为相应的字符。</span></section></li><li style="font-size: 15px;letter-spacing: 1px;"><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">数据膨胀：考虑到大多数字符编码（如 ASCII，UTF-8）中，一个字符通常占用 8 位（1 字节）。在 Base64 编码中，每 4 个字符用来表示原始数据的 3 个字节。这意味着每个原始字节在编码后占用了 8 * 4 / 3 = 10.666...位。换言之，原始数据的大小会增加大约 1/3（33%）。</span></section></li></ol><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;">我们同时也测试了原始长度为 36KB（未压缩状态数据）在各个压缩算法下的表现，虽然部分算法（例如 Brotli）能实现更高的压缩比，但是综合解压和压缩时间来看，</span><span style="text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>gzip 仍然是最好的选型</strong></span><span style="text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;">。</span></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;"><strong>购物车状态缓存模式：</strong></span></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">经过上述优化后，状态数据的大小在网络传输包能进一步得到缩减，从而减小带宽和存储上的压力。状态数据在客户端与服务端的交互方式也由原先网络传输的模式，改为客户端解耦的服务端</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>缓存模式</strong></span><span style="font-size: 15px;letter-spacing: 1px;">。客户端上行数据中不再持有状态数据，业务状态的计算完全交付服务端，若出现缓存超时或异常则通知客户端降级为网络传输（原有模式）。</span></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></section><span id="OSC_h4_16"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 8px;margin-bottom: 8px;text-wrap: wrap;outline: 0px;letter-spacing: 0.544px;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><span style="outline: 0px;visibility: visible;letter-spacing: 1px;color: rgb(255, 66, 0);"><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">▐</span></strong><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">&nbsp;&nbsp;</span></strong><strong style="outline: 0px;visibility: visible;"><span style="color: rgb(255, 66, 0);outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">流式 Api</span></strong></span></h4><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;">经过上述的优化后，我们发现有一个遗留的「坑」点，为了能保证</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>异常情况下</strong><strong>用户操作能兜底上传一份状态数据</strong></span><span style="font-size: 15px;letter-spacing: 1px;">，下行包中仍然保留了</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>全量的状态协议</strong></span><span style="font-size: 15px;letter-spacing: 1px;">。此时就需要我们在保证兜底能力的情况下，把下行包中的状态协议也进行剔除。</span></section><section style="min-height: 24px;text-align: justify;text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></section><ul class="list-paddingleft-1" style="list-style-type: disc;"><li style="color: rgb(255, 66, 0);"><span id="OSC_h3_17"></span><h3 style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(255, 66, 0);">流式 api 介绍</span></h3></li></ul><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">参考业界流式 API 模型，说法各不相同，主要是以下三种：</span></section><ol class="list-paddingleft-1" style="list-style-type: decimal;"><li><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">request streaming: 多个上行对应一个下行；</span></section></li><li><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">response streaming: 一个上行对应多个下行；</span></section></li><li><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">bidirectional streaming: 端云双向流式服务；</span></section></li></ol><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="letter-spacing: 1px;font-size: 15px;color: rgb(0, 0, 0);">流式 API 是实现 「response streaming」，即</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>一个上行多个下行</strong></span><span style="letter-spacing: 1px;font-size: 15px;color: rgb(0, 0, 0);">，请求模型如下：</span></section><p style="min-height: 24px;text-align: justify;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></p><p style="min-height: 24px;text-align: center;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;"><img class="rich_pages wxw-img" data-croporisrc="https://oscimg.oschina.net/oscnet/3478f1d1-2be4-461f-8e75-6e8f59302b74.png" data-cropx1="67.56055363321799" data-cropx2="1453.903114186851" data-cropy1="0" data-cropy2="559.4013840830451" data-imgfileid="503043370" data-ratio="0.4027777777777778" src="https://oscimg.oschina.net/oscnet/0a01a674-358e-40b7-842d-30dc12838cb3.jpg" data-type="jpeg" data-w="1080" style="width: 513px;height: 207px;" referrerpolicy="no-referrer"></span></p><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></section><ul class="list-paddingleft-1" style="list-style-type: disc;"><li style="color: rgb(255, 66, 0);"><span id="OSC_h3_18"></span><h3 style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(255, 66, 0);">引入流式后</span></h3></li></ul><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></section><p style="min-height: 24px;text-align: justify;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;">通过流式 api 的引入，下行包拆成了主包与副包，</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>状态协议在副包中，其余数据保留在主包</strong></span><span style="font-size: 15px;letter-spacing: 1px;">。客户端在收到主包后即可执行渲染逻辑，等效于状态数据在网络传输中的耗时，</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>不再影响用户端到端体验耗时</strong></span><span style="font-size: 15px;letter-spacing: 1px;">。</span></p><p style="min-height: 24px;margin-top: 8px;line-height: 1.75em;text-indent: 0em;margin-bottom: 8px;"><br></p><section style="margin-right: 0cm;margin-bottom: 0px;margin-left: 0cm;outline: 0px;text-wrap: wrap;background-color: rgb(255, 255, 255);font-size: 11pt;font-family: DengXian;color: rgb(0, 0, 0);letter-spacing: normal;text-align: center;line-height: normal;"><img class="rich_pages wxw-img" data-croporisrc="https://oscimg.oschina.net/oscnet/b73ddb13-adda-48dd-8184-5dda60ad1ada.png" data-cropx1="72" data-cropx2="326" data-cropy1="157" data-cropy2="244" data-imgfileid="503043333" data-ratio="0.3438735177865613" data-s="300,640" src="https://oscimg.oschina.net/oscnet/9f922bd5-250c-4847-a4d1-12283f6a8bce.jpg" data-type="jpeg" data-w="253" style="outline: 0px;font-size: 14.6667px;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;visibility: visible !important;width: 134px !important;" referrerpolicy="no-referrer"></section><section style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);color: rgb(100, 99, 99);font-size: 15px;text-align: center;line-height: normal;"><span style="outline: 0px;font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 1px;font-size: 18px;color: rgb(255, 66, 0);">服务端接口</span></section><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 8px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"></h4><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 8px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><br></h4><span id="OSC_h4_19"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 8px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><span style="outline: 0px;visibility: visible;letter-spacing: 1px;color: rgb(255, 66, 0);"><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">▐</span></strong><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">&nbsp;&nbsp;</span></strong><strong style="outline: 0px;visibility: visible;"><span style="color: rgb(255, 66, 0);outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">接口耗时分析</span></strong><strong style="outline: 0px;visibility: visible;"></strong></span></h4><section style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;text-align: justify;"><br></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;"><strong><span style="color: rgb(0, 0, 0);">服务端耗时占比：</span></strong></span></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;"><span style="color: rgb(64, 64, 64);">从用户的操作数据来看，大部分用户操作商品数量较少，这些情况下服务端的性能表现尚可，这意味着服务端耗时对购物车这部分用户的影响不大。</span>但是随着商品数量的增加，服务端耗时在端到端耗时中占比不断攀升，这意味着</span><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 0, 0);"><strong>服务端性能</strong><strong>对购物车的深度用户影响较大</strong></span><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">。</span></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></section><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><strong><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">商品数据较少时：</span><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">服</span></strong><strong><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">务端优化点在于下发数据量，在网络包优化中已经得到了解决</span></strong></p><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><strong><span style="letter-spacing: 1px;font-size: 15px;color: rgb(64, 64, 64);">商品数据较大时：</span><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">服务端优化点在于降低耗时</span></strong></p><section style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><br></section><span id="OSC_h4_20"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 8px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><span style="outline: 0px;visibility: visible;letter-spacing: 1px;color: rgb(255, 66, 0);"><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">▐</span></strong><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">&nbsp;&nbsp;</span></strong><strong style="outline: 0px;visibility: visible;"><span style="color: rgb(255, 66, 0);outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">并行化改造</span></strong></span></h4><p style="min-height: 24px;text-align: justify;text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><section style="min-height: 24px;text-align: justify;text-indent: 0em;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><span style="letter-spacing: 1px;font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;text-align: justify;">购物车的服务端逻辑一大特点是</span><strong><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">平均商品数较大</span></strong><span style="letter-spacing: 1px;font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;text-align: justify;">，其中对于商品数的处理在历史上多使用简单的 foreach 直接遍历做计算。针对解决过多 foreach 逻辑最有效的方法自然是做</span><strong><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">并行化处理</span></strong><span style="letter-spacing: 1px;font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;text-align: justify;">。购物车的流程基于业务特性将各个独立域活动进行串联，流程简<span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;text-align: justify;">化图如下：<br></span></span></section><section style="min-height: 24px;text-align: center;text-indent: 0em;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><img class="rich_pages wxw-img" data-imgfileid="503043372" data-ratio="0.2777777777777778" src="https://oscimg.oschina.net/oscnet/b689cba3-d491-443e-9465-1a63d7bb61ad.png" data-type="png" data-w="1080" referrerpolicy="no-referrer"></section><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 8px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;text-align: justify;text-indent: 0em;"></h4><p style="min-height: 24px;text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">结合业务回头来看整个流程，会发现全串行流程中</span><strong><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">低效的点：</span></strong></p><ol class="list-paddingleft-1" style="list-style-type: decimal;"><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;">部分节点之间并</span><strong style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: var(--articleFontsize);letter-spacing: 0.034em;"><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">没有严格的顺序关系</span></strong><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;">，例如查服务数据在注入商品标签后即可执行，且服务数据当前只在视图层构建有用。</span></p></li><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><strong style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: var(--articleFontsize);letter-spacing: 0.034em;"><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">互不依赖</span></strong><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;">的下游服务例如库存查询、营销计算、查服务数据是低效的串行查询。</span></p></li><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;">购物车</span><strong style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: var(--articleFontsize);letter-spacing: 0.034em;"><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">平均商品数过大</span></strong><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;">的特点，导致和商品数相关的节点内部做 foreach 循环非常低效，典型的有例如注入商品标签、视图层构建。</span></p></li></ol><p style="min-height: 24px;text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><br></p><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">找到问题后，我们最终采用基于 ForkJoinPool 的方式实现购物车并行化改造：</span></p><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-indent: 0em;"><span style="font-size: 15px;letter-spacing: 1px;"><span style="background-color: rgb(247, 247, 247);">ForkJoinPool</span>主要针对那些可以拆分成多个子任务的大任务进行优化。它的核心技术原理是基于「工作窃取」算法，每个工作线程都有自己的任务队列，当线程完成自己队列里的任务后，它可以从其他线程的队列尾部窃取任务来继续工作，这样可以保持所有工作线程的高效运行，避免了线程闲置。<span style="background-color: rgb(247, 247, 247);">ForkJoinPool</span> 通过 <span style="background-color: rgb(247, 247, 247);">ForkJoinTask</span> 的子类如 <span style="background-color: rgb(247, 247, 247);">RecursiveAction</span> 和 <span style="background-color: rgb(247, 247, 247);">RecursiveTask</span> 来支持任务的分割（fork）和结果的合并（join）。</span></section><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">这种面向多子任务且支持并行化的方式，就非常适用于</span><strong><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">购物车场景中的多商品处理</span></strong><span style="font-size: 15px;letter-spacing: 1px;"><span style="color: rgb(64, 64, 64);">，例如</span>：</span></p><ol class="list-paddingleft-1" style="padding-left: 23px;"><li style="font-size: 15px;letter-spacing: 1px;"><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="font-size: 15px;letter-spacing: 1px;">并行处理多商品任务：购物车的一大特点就是</span><strong><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">平均商品数多</span></strong><span style="font-size: 15px;letter-spacing: 1px;">，每个商品标签注入、单个视图分组构建等操作都可以作为一个子任务独立执行。</span></p></li><li style="font-size: 15px;letter-spacing: 1px;"><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="font-size: 15px;letter-spacing: 1px;">任务可拆分性：购物车中的每个商品处理逻辑</span><strong><span style="color: rgb(64, 64, 64);font-size: 15px;letter-spacing: 1px;text-indent: 0em;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">都是独立</span></strong><span style="font-size: 15px;letter-spacing: 1px;">的，这使得任务可以很方便地被拆分成小任务并行执行。</span></p></li><li style="font-size: 15px;letter-spacing: 1px;"><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="font-size: 15px;letter-spacing: 1px;">提高响应性能：使用 <span style="background-color: rgb(247, 247, 247);">ForkJoinPool</span> 可以在多核处理器上同时执行多个商品的处理任务，从而减少总体的处理时间，提高系统的响应速度。</span></p></li><li style="font-size: 15px;letter-spacing: 1px;"><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="font-size: 15px;letter-spacing: 1px;">动态任务调度："工作窃取"算法能够在运行时动态地重新平衡任务负载，如果某些商品的处理耗时较长，<span style="background-color: rgb(247, 247, 247);">ForkJoinPool</span> 能够确保其他线程不会闲置，而是帮助处理剩余的工作。</span></p></li></ol><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">结合 ForkJoinPool 的方式做并行优化后的购物车流程简化图如下：</span></p><section style="min-height: 24px;text-align: center;margin-bottom: 8px;"><img class="rich_pages wxw-img" data-imgfileid="503043373" data-ratio="0.31203703703703706" src="https://oscimg.oschina.net/oscnet/12d85206-744a-4367-bedb-1189e471aa68.png" data-type="png" data-w="1080" width="2648" referrerpolicy="no-referrer"></section><p style="min-height: 24px;text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><ol class="list-paddingleft-1" style="list-style-type: decimal;"><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;"><strong>注入商品标签和视图层构建，</strong></span><span style="font-size: 15px;letter-spacing: 1px;"><strong>从商品维度拆分子任务，使用并行化。</strong></span></p></li><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;"><strong>将部分仅视图层且互不依赖的下游数据节点做聚合，内部做并行查询。</strong></span></p></li></ol><p style="min-height: 24px;text-indent: 0em;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><section style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);text-align: center;line-height: normal;"><img class="rich_pages wxw-img" data-croporisrc="https://oscimg.oschina.net/oscnet/86d7c377-8000-4c7c-a464-44a6d8abd420.png" data-cropx1="72" data-cropx2="324" data-cropy1="156" data-cropy2="244" data-ratio="0.3531746031746032" data-s="300,640" data-type="jpeg" data-w="252" data-imgfileid="503043338" src="https://oscimg.oschina.net/oscnet/6d3203e2-e819-4170-81f3-c2cc4d841d5e.jpg" style="outline: 0px;display: initial;visibility: visible !important;width: 136px !important;" referrerpolicy="no-referrer"></section><p style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);color: rgb(100, 99, 99);font-size: 15px;text-align: center;line-height: normal;"><span style="outline: 0px;font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 1px;font-size: 18px;color: rgb(255, 66, 0);">团队介绍</span></p><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fbonan.hbn%2Fgzxpdz%2Feh2ntavawlkxu7a9"></ne-clipboard></section><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">看到这里相信诸位能够感受到购物车技术体系的复杂度和深度，笔者所在的团队是淘天集团交易前链路技术团队（购物车&amp;下单），在这里，你能够不断被各种商业模式烧脑，也能够不断被各种新兴技术锤炼，更能收获一群志同道合的战友。值此变革关键时期，也急需有能力和有梦想的你一起参与：</span></p><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">1. 负责淘宝购物车、下单等面向全民用户的 C 端产品演进和迭代，每一次需求每一行代码都能创造巨大的商业价值。</span></p><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">2. 支撑集团 16N 组织下形态各异电商的购物车、下单平台应用的维护（buy2 carts2），在这里见证如何针对形态各异的电商进行架构抽象出电商内核，并通过高度灵活的开放扩展机制解决业务的差异性。</span></p><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">3. 操刀完整的端到端协议的设计、演进和优化（奥创），见证移动时代在客户端不发版的情况下，如何既能高效满足产品需求迭代，又能获得 native 一样优异的消费者体验。</span></p><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">4. 全程保障每一次大促流量洪峰背后的业务安全和稳定性，全力促成持续的平台架构演进，确保用户每一次购物车浏览，每一次下单能够丝滑顺畅。</span></p><section style="min-height: 24px;text-align: justify;margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;">如果您有兴趣，可以点击下面的链接或者通过邮箱 bonan.hbn@alibaba-inc.com 与我们联系和交流，期待您的加入。</span></section><section style="min-height: 24px;text-align: left;margin-bottom: 8px;"><span style="color: var(--common_text_blue1_color,#007fff);font-size: 14px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.034em;">https://talent.taotian.com/off-campus/position-detail?lang=zh&amp;positionId=1089401</span></section><p style="min-height: 24px;text-align: justify;margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><br></p><section data-role="outer" label="Powered by 135editor.com" style="margin-bottom: 0px;outline: 0px;letter-spacing: 0.544px;visibility: visible;"><section style="margin-top: 8px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;word-break: break-all;color: rgb(0, 0, 0);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif;text-align: center;line-height: 1.75em;"><span style="outline: 0px;color: rgb(255, 66, 0);"><strong style="outline: 0px;">¤</strong></span><span style="outline: 0px;"><strong style="outline: 0px;">&nbsp;拓展阅读&nbsp;</strong></span><span style="outline: 0px;color: rgb(255, 66, 0);"><strong style="outline: 0px;">¤</strong></span></section><section style="margin-top: 8px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;word-break: break-all;color: rgb(0, 0, 0);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif;text-align: center;line-height: 1.75em;"><br style="outline: 0px;"></section><section style="margin-top: 8px;margin-bottom: 8px;outline: 0px;font-family: -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-indent: 0em;text-align: center;line-height: 1.75em;min-height: 24px;clear: both;visibility: visible;"><a target="_blank" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D2565944923443904512%23wechat_redirect" textvalue="3DXR 技术" linktype="text" imgurl="" imgdata="null" tab="innerlink" data-linktype="2" style="outline: 0px;color: var(--weui-LINK);-webkit-user-drag: none;cursor: pointer;">3DXR 技术</a>&nbsp;|&nbsp; 
   <a target="_blank" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D1533906991218294785%23wechat_redirect" textvalue="终端技术" linktype="text" imgurl="" imgdata="null" tab="innerlink" data-linktype="2" style="outline: 0px;color: var(--weui-LINK);-webkit-user-drag: none;cursor: pointer;">终端技术</a>&nbsp;|&nbsp; 
   <a target="_blank" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D1592015847500414978%23wechat_redirect" textvalue="音视频技术" linktype="text" imgurl="" imgdata="null" tab="innerlink" data-linktype="2" style="outline: 0px;color: var(--weui-LINK);-webkit-user-drag: none;cursor: pointer;">音视频技术</a></section><section style="margin-top: 8px;margin-bottom: 8px;outline: 0px;min-height: 24px;font-family: -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-indent: 0em;text-align: center;line-height: 1.75em;visibility: visible;"><a target="_blank" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D1539610690070642689%23wechat_redirect" textvalue="服务端技术" linktype="text" imgurl="" imgdata="null" tab="innerlink" data-linktype="2" style="outline: 0px;color: var(--weui-LINK);-webkit-user-drag: none;cursor: pointer;">服务端技术</a><span style="outline: 0px;letter-spacing: 0.544px;">&nbsp;|&nbsp;</span><a target="_blank" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D2565883875634397185%23wechat_redirect" textvalue="技术质量" linktype="text" imgurl="" imgdata="null" tab="innerlink" data-linktype="2" style="outline: 0px;color: var(--weui-LINK);-webkit-user-drag: none;cursor: pointer;">技术质量</a>&nbsp;|&nbsp; 
   <a target="_blank" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D1522425612282494977%23wechat_redirect" textvalue="数据算法" linktype="text" imgurl="" imgdata="null" tab="innerlink" data-linktype="2" style="outline: 0px;color: var(--weui-LINK);-webkit-user-drag: none;cursor: pointer;">数据算法</a></section><p style="margin-top: 8px;margin-bottom: 8px;outline: 0px;min-height: 24px;font-family: -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-indent: 0em;text-align: center;line-height: 1.75em;visibility: visible;"><br style="outline: 0px;"></p><section class="mp_profile_iframe_wrp" style="margin-bottom: 24px;outline: 0px;"><mp-common-profile class="custom_select_card mp_profile_iframe js_wx_tap_highlight" data-pluginname="mpprofile" data-id="MzAxNDEwNjk5OQ==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju8t5nZGhAatCrc4e2iaDfAaoInribRKxc7MOqdTGygfcLqSDxhj0trCHVEh94Sjl7zuWYzwouYtJ0VQ/300?wx_fmt=png&amp;wxfrom=19" data-nickname="大淘宝技术" data-alias="AlibabaMTT" data-signature="大淘宝技术官方账号" data-from="2" data-index="0" data-origin_num="690" data-isban="0" data-weuitheme="light" data-biz_account_status="0" data-is_biz_ban="0"></mp-common-profile></section></section><p style="display: none;"><mp-style-type data-value="3"></mp-style-type></p></div><p style="color: #858585; font-size: 13px;">本文分享自微信公众号 - 大淘宝技术（AlibabaMTT）。<br>如有侵权，请联系 support@oschina.cn 删除。<br>本文参与「<a href="https://www.oschina.net/sharing-plan" target="_blank">OSC 源创计划</a>」，欢迎正在阅读的你也加入，一起分享。</p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 25 Jan 2024 01:54:00 GMT</pubDate>
            <guid isPermaLink="false">https://my.oschina.net/u/4662964/blog/10887355</guid>
            <link>https://my.oschina.net/u/4662964/blog/10887355</link>
            <author>
                <![CDATA[原创]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[1Panel 开源面板项目 GitHub Star 数量突破 15,000！]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#000000; text-align:start"><span><span style="color:#000000">截至 2024 年 1 月 24 日 14:00，FIT2CLOUD 飞致云旗下开源项目——1Panel 开源 Linux 服务器运维管理面板 GitHub Star 数超过 15,000 个！</span></span></p><p style="color:#000000; text-align:start"><img alt="" height="1770" src="https://oscimg.oschina.net/oscnet/up-2f2cdc0ce4073cbdc77bb5444ddfb79ab14.jpg" width="500" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 24 Jan 2024 16:55:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276570</guid>
            <link>https://www.oschina.net/news/276570</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Chrome 将添加多项生成式 AI 功能]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>从今天开始发布的 Chrome (M121) 版本起，Chrome 将引进一系列实验性的生成式 AI 功能。在未来几天内，如需尝试这些 Chrome 新功能。只需登录 Chrome，点击三点菜单中的「设置」，并前往「实验性 AI」页面。</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-b9cba575d4fce922f4f42aac0344cb6d9d9.png" referrerpolicy="no-referrer"></p><p>需要注意的是，鉴于这些功能处于初步公开实验阶段，目前尚未对企业和教育账户开放。</p><p><strong>1. 智能组织浏览器标签页</strong></p><p>标签组是管理众多标签页的便捷方式，但手动整理它们可能较为繁琐。Chrome 的「标签页组织器」能自动根据你当前打开的标签页建议并创建标签组。这一功能在处理多重任务时特别有用，比如在 Chrome 中同时规划旅行、研究某个主题和在线购物。只需右键点击一个标签页并选择「组织相似标签」，或点击标签左侧的下拉箭头即可使用此功能。Chrome 还会为这些新的标签组建议名称和 emoji，方便你下次快速找到它们。</p><p><img src="https://oscimg.oschina.net/oscnet/up-a1c0f41719a22527ad6fdd2856be376b9fc.png" referrerpolicy="no-referrer"></p><p><strong>2. 借助文本生成图像模型生成个性化壁纸图片</strong></p><p>可以用 AI 生成个性化壁纸图片，让你的浏览器更具个性化。你可以轻松地基于所选的主题、心情、视觉风格和颜色生成定制化主题。</p><p>操作很简单，访问「自定义 Chrome」侧面板，点击「更改主题」，然后选择「用 AI 创建」。例如，你或许喜欢「极光」主题，并希望以「动画」风格和「宁静」心情来展现它。只需选择这些选项，Chrome 就会为你展现创造性的结果。</p><p><img src="https://oscimg.oschina.net/oscnet/up-5755f6da1b336fed96230dde19e0481af5d.png" referrerpolicy="no-referrer"></p><p><strong>3. 辅助写作</strong></p><p>在下月发布的 Chrome 版本中，将推出另一个实验性的 AI 功能，帮助你在网络上写作 —— 无论是为餐馆写点评、回复邀请，还是咨询租房信息。</p><p>要开始使用，只需在 Chrome 中访问任何网站的文本框或字段，右键选择「帮助我写作」。输入几个词之后，AI 就会开始帮助你撰写文本。</p><p>例如，假设你在一个租房网站的联系表格中。初始草稿可能是「我对这个地方很感兴趣 - 你们允许养狗吗？」而 Chrome 的「帮我写作」功能则能为你提供更完整、更有说服力的文本建议。</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-e2e50a0592da5ac9a57d2dac2baef8646b1.png" referrerpolicy="no-referrer"></p><p>详情：<em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fblog.google%2Fproducts%2Fchrome%2Fgoogle-chrome-generative-ai-features-january-2024%2F" target="_blank">https://blog.google/products/chrome/google-chrome-generative-ai-features-january-2024/</a></u></em></p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 24 Jan 2024 10:40:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276552/chrome-generative-ai-features-january-2024</guid>
            <link>https://www.oschina.net/news/276552/chrome-generative-ai-features-january-2024</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[逆天神机 —— 17 寸的 64 核 AMD EPYC 工作站]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>广东湛江芯聚能科技有限公司最近<u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.techradar.com%2Fpro%2Fvideo-of-ridiculously-powerful-64-core-amd-epyc-workstation-laptop-emerges-but-that-pales-in-comparison-to-the-dual-socket-512-core-powerhouse-its-chinese-maker-is-working-on" target="_blank">引发了关注</a></u>，该公司发布了一款 64 核 AMD EPYC 笔记本电脑，并宣称正在研发双插槽 512 核 AMD EPYC 笔电。</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-98976404da8694f549b44bc840f81fe1501.png" referrerpolicy="no-referrer"></p><p>芯聚能称，笔记本电脑市场目前处理器核心数最多的是 i9-13980hx，有 24 核，它研发的内置液冷散热 64 核 17 寸桌面级显卡笔记本电脑，多核性能是 i9 13980hx 的两倍以上，整机厚度为 4.6 厘米，主机厚度仅 3.9 厘米，配备的显卡是桌面级 RTX4080 16G。</p><p>该笔电有两个版本，一个配备是基于 Zen3 的 EPYC 7713 CPU，另一个是配备基于 Zen4 的 EPYC 9554。考虑到 EPYC 9554 的价格 7000-9000 美元，这款笔电的价格将会非常昂贵。</p><p><img src="https://oscimg.oschina.net/oscnet/up-b79a3d6145f2049bf098fc17fb908c01094.png" referrerpolicy="no-referrer"></p><p><img src="https://oscimg.oschina.net/oscnet/up-962a7d2163eefd9af82c4da0903594a7f52.png" referrerpolicy="no-referrer"></p><p><em><u><a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fwww.xinjuneng.com.cn%2Fabout.html" target="_blank">http://www.xinjuneng.com.cn/about.html</a></u></em></p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 24 Jan 2024 10:17:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276550</guid>
            <link>https://www.oschina.net/news/276550</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[OBS Studio 支持 FFmpeg VAAPI AV1 编码器]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>OBS Studio 刚刚合并了支持&nbsp;FFmpeg VAAPI AV1 编码器的 PR，这意味它将支持使用 Linux 的视频加速接口 (Video Acceleration API, VA-API) 接口进行 AV1 视频编码。</p><blockquote><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-3831b08b3ec190e7ce23ab4742fc13c8d7c.png" referrerpolicy="no-referrer"><br><em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fobsproject%2Fobs-studio%2Fpull%2F8832" target="_blank">https://github.com/obsproject/obs-studio/pull/8832</a></u></em></p></blockquote><p>根据描述，该 PR 于去年 5 月开提交，主要是为了添加对 VA-API 的 AV1 支持。</p><p>维护者称已使用 Mesa 驱动程序成功测试了 VA-API AV1 编码。因此当涉及到开源 Mesa 驱动程序支持时，VA-API AV1 编码可用于 AMD Radeon RX 7000 系列显卡和 Intel Arc 显卡。</p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 24 Jan 2024 09:27:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276546/obs-lands-av1-va-api</guid>
            <link>https://www.oschina.net/news/276546/obs-lands-av1-va-api</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[FydeOS for You 增加对 Raspberry Pi 5 的支持，性能更优，体验更佳]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="margin-left:0px; margin-right:0px"><img alt="" height="720" src="https://oscimg.oschina.net/oscnet/up-fe04bc78f070724f462d97a2e829c3660f9.jpg" width="1280" referrerpolicy="no-referrer"></p><p style="margin-left:0px; margin-right:0px">2023 年底，树莓派基金会终于推出了众望所归的 Raspberry Pi 5。Raspberry Pi 5 配备了新的四核 2.4 GHz Cortex-A76 Arm CPU，据称 CPU 的处理能力是上一代产品的 2-3 倍，一时间成为开发者们的新宠。</p><div><div><img height="720" src="https://pic1.zhimg.com/80/v2-03997cccf738fdb13552a01ffe5ebd58_1440w.webp" width="1280" referrerpolicy="no-referrer"></div><p style="margin-left:0; margin-right:0">FydeOS v17.1 Nostalgic Reflection 是，针对 Raspberry Pi 5 的首个 FydeOS for You 版本。在此次的发布里，值得一提的修改的有：</p><ul><li>Chromium 已升级至<span>&nbsp;</span><code>114.0.5735.*</code>，Chromium OS 平台更新至<span>&nbsp;</span><code>15437.44.17.*</code>，伴随着以下上游新功能的同步： 
   <ul><li>添加了自定义系统 UI 配色的选择，让你的界面和壁纸更搭调，让系统整体的视觉效果更接近 Material You 设计语言。</li><li>新增窗体分屏管理小部件支持，只需将鼠标悬浮在「最大化」按钮上时即可出现所有选项，点击即可快速调整该窗口的尺寸。这项功能还在试验阶段，你需要手动在<span>&nbsp;</span><u><code>chrome://flags#window-layout-menu</code></u><span>&nbsp;</span>中启用它</li><li>优化了全局 emoji 输入面板，让你输入 emoji 更轻松；可以通过按下<span>&nbsp;</span><code>super</code>（<span>&nbsp;</span><code>❖</code><span>&nbsp;</span>或<span>&nbsp;</span><code>⌘</code><span>&nbsp;</span>） +<span>&nbsp;</span><code>Shift</code><span>&nbsp;</span>+<span>&nbsp;</span><code>Space</code><span>&nbsp;</span>呼出它</li><li>新增了在新标签页中自定义你的 Chromium 浏览器配色和主题的功能</li></ul></li><li>FydeOS 应用商店进行了全新设计，并更新了内容；同时改进了从 FydeOS 应用商店安装 Android 应用的机制</li><li>新增了「报告问题」和「发送反馈」功能，让你可以直接在系统内分享你的 FydeOS 使用体验。你可以通过按<span>&nbsp;</span><code>Alt</code><span>&nbsp;</span>+<span>&nbsp;</span><code>Shift</code><span>&nbsp;</span>+<span>&nbsp;</span><code>I</code><span>&nbsp;</span>调用，或者你也可以在 Chromium 菜单和「关于 FydeOS」页面中找到它。还请阅读这个<u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Ffydeos.com%2Fdocs%2Fknowledge-base%2Frecipes%2Ffeedback-howto" target="_blank">如何写出有用反馈的小建议</a></u></li><li>更新了 rEFInd 启动器二进制文件并且更新了 rEFInd 主题</li><li>更新了一些 FydeOS 系统内置程序的图标</li><li>增加了 HEVC（h265）视频播放解码功能</li><li>对系统备份和还原功能进行了优化</li><li>改进了 FydeOS 中 Linux 子系统的下载和更新方式</li><li>优化了将可选的 Widevine CDM 模块加载到系统的方式</li><li>其它系统稳定性和性能增强</li><li>优化了系统镜像的初始分区表及镜像包装方式：从 v17 开始，所有针对卡式电脑的 FydeOS for You 镜像均支持直接烧写在可启动的存储媒介上，无需额外完成一次「安装」即可直接支持系统的 OTA 升级</li><li>最后，一个小贴士：从 FydeOS v17 开始，你将无法在系统 bash shell 中使用<span>&nbsp;</span><code>sudo su</code><span>&nbsp;</span>来提权，请使用<span>&nbsp;</span><code>sudo -i</code><span>&nbsp;</span>替代</li></ul><p style="margin-left:0; margin-right:0">希望你喜欢本次更新，有什么想对我们说的，欢迎随时到<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcommunity.fydeos.com%2F" target="_blank"><u>FydeOS 社区</u></a>来告诉我们。</p><p style="margin-left:0; margin-right:0">我们希望也相信，FydeOS 将逐渐成为一个更加开放的平台，你想要的所有程序，都能在 FydeOS 上使用。千里之行，这是我们的第一步，只愿今后的每一步都有你相伴。</p></div></div>
                                    ]]>
            </description>
            <pubDate>Wed, 24 Jan 2024 09:26:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276545</guid>
            <link>https://www.oschina.net/news/276545</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[红帽预测开源在 2024 年发展的三个趋势]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="color:#000000">红帽全球高级副总裁兼亚太区总经理 Marjet Andriesse <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FtE2Sw1wyYTiBYVg9fbE29w" target="_blank">发文</a>，预测了开源在 2024 年发展的三个趋势。提出了以下三个可能会对亚太区产生重大影响的关键趋势：</span></p><p><strong><span style="color:#000000">一、超越云端</span></strong></p><p><span style="color:#000000">过去，企业曾发现从非结构化数据中提取价值是一项充满挑战的任务。随着数据分析的不断进步，尤其是生成式人工智能（gen AI）对非结构化数据进行获取和分析的能力，企业能够更充分地利用他们的数据。这也因此带来了对数据增加需求的情况，将所有这些数据存储和处理在云端可能不再是最为高效的选择。</span></p><p><span style="color:#000000">通过将边缘计算与当前的云策略整合，企业可以获得「优势」，更有效地管理预算和工作负载。边缘计算在亚太地区将继续发展，预计从 2023 年的 437 亿美元增长到 2027 年的 810 亿美元。</span></p><p><span style="color:#000000">今年，我们很可能会看到企业继续寻找优化成本和运营效率的方式，例如采用无服务器计算。开源解决方案也可以使这些企业定制基础架构，以满足其需求，在规模上实现更高水平的定制和控制。</span></p><p><strong><span style="color:#000000">二、创新的步伐由 AI 继续加速</span></strong></p><p><span style="color:#000000">Andriesse 认为，AI 将在 2024 年继续成为企业的重要优先事项，因为它几乎改变了每个行业，并以我们才刚刚开始理解的方式影响着社会。尽管这将激发出新工具超越基础模型的创新，但正是开源能够支持 gen AI 驱动的应用程序的激增，使业务领导者能够自信地应对变化的速度和规模。</span></p><p><span style="color:#000000">去年在 GitHub 上，首次为开源做贡献的人的数量创下了历史新高，而亚太区的开发者社区推动了相当大的增长。例如，印度拥有超过 1320 万的开发者，同比增长超过 30%。仅在去年上半年，生成式 AI 项目的数量已经超过了 2022 年的两倍以上。</span></p><p><span style="color:#000000">但是，当我们寻求利用 AI 解决我们最大的挑战并减少工作效率低下时，企业需要确保 AI 在访问、技能和知识上是包容的。业务领导者需要以身作则，引导企业朝着未来准备就绪的工作方式发展，以适应并茁壮成长。</span></p><p><strong><span style="color:#000000">三、安全仍然是首要任务</span></strong></p><p><span style="color:#000000">ChatGPT 将 gen AI 引入主流意识的前沿，改变了人们对 AI 的看法，并利用它改进了在经济不确定性中的业务工作流程和资源效率。</span></p><p><span style="color:#000000">然而，对这些技术的使用方式也是一个值得关注的问题。根据红帽 2023 全球科技展望报告，IT 领导者表示安全仍然是首要资金投入的焦点。随着在当今信息时代数据变得越来越容易获取，隐私和安全变得更加重要。与开源社区类似，我们可以预期对使用的软件和组件进行更严格的审查。例如，采用更强大的分析工具和自动化安全测试来在开发过程的早期识别任何漏洞。这种范式转变可能会影响开发人员的工作方式，更加强调在某些设计决策中将安全性作为核心考虑因素。</span></p><p><span style="color:#000000">Andriesse 预计，对安全的持续关注也将改变企业管理数据的方式。为了从数据中获取最有效的见解，企业必须确保其数据准确且及时。我们将看到更多企业更加关注数据溯源，了解其数据的起源、完整性和真实性。</span></p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 24 Jan 2024 08:02:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276536</guid>
            <link>https://www.oschina.net/news/276536</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[【直播预告】DBA 会被云淘汰吗？]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>DBA（Database Administrator），即数据库管理员，专门负责管理和维护公司的数据库。然而，随着上云的趋势渐盛，许多企业都把数据库迁到了云平台上。云服务提供商通常会提供自动化工具和标准化服务，这让 DBA 的工作得到了解放，也产生了一丝危机——有人质疑：毕竟最重要的硬件管理和架构管理已经没了需求，而日常的监控和优化工作借助工具就能完成，是否也意味着，DBA 这一岗位要被云淘汰了？</p><p>但持相反意见的人认为，现在谈 DBA 被云淘汰还为时过早，云服务更多是辅助工具而非生产工具，它并没有完全取代 DBA，只是改变了 DBA 的工作方式和职责，让 DBA 更专注于高级的数据库管理任务，在数据优化、安全管理、成本管理和合规性方面发挥更大的作用。</p><p>那么，你怎么看呢？随着云数据库越来越火，企业对 DBA 这一岗位的需求会减少吗？云环境对 DBA 的工作产生了哪些新要求？作为个人的我们，又该补充哪些新知识，才能跟上云时代的发展呢？</p><p>本期，OSCHINA【开源漫谈】特地邀请了 5 位业内具有代表性的专家，直播探讨一下，接下来，DBA 会被云淘汰吗？</p><p>&nbsp;</p><p><strong>直播主题：</strong>DBA 会被云淘汰吗？</p><p><strong>直播时间：</strong>1 月 31 日 19:00 - 20:30</p><p><strong>直播平台：</strong>「OSC 开源社区」视频号</p><p><strong>主办方：</strong>开源中国</p><p><strong>特邀嘉宾：</strong>马工</p><p>&nbsp;</p><p><strong>直播亮点：</strong></p><p>1、DBA 对组织的价值是什么？是不是不可替代的？</p><p>2、DBA 哪些工作内容是可以用云数据库替代的？哪些是不能被云数据库替代的？</p><p>3、云数据库引入解决了什么问题？又有什么新的问题？</p><p>4、云数据库究竟普及到什么程度了？未来究竟会怎么样？</p><p>5、普通 DBA 应该怎么应对云数据库？不上云的企业怎么应对？</p><p>&nbsp;</p><p><strong>直播嘉宾：</strong></p><div><div><div><p>&nbsp;&nbsp;<strong>主持人：</strong></p><p>&nbsp;&nbsp;冯若航，磐吉云数 CEO / 创始人，Pigsty 作者，PostgreSQL 中文社区开源技术委员。公众号《非法加冯》主理人。</p><p>&nbsp;&nbsp;<strong>正方：</strong></p><p>&nbsp;&nbsp;马工，在北欧从事 Infra 工程师，公众号《瑞典马工》主理人。</p><p>&nbsp;&nbsp;李令辉，云原生数据库 clapdb 创始人，前乘法云 CTO，美洽 CTO，滴滴出行首席架构师。目前致力于基于云上的基础设施新范式，提供新时代的分析型数据服务。</p><p>&nbsp;&nbsp;<strong>反方：</strong></p><p>&nbsp;&nbsp;李真旭，云和恩墨的数据库技术负责人，前 Oracle ACE，数据库恢复专家。公众号《Roger 的数据库专栏》主理人。个人网站 www.killdb.com。</p><p>&nbsp;&nbsp;薛晓刚，Oracle ACE-Pro。PostgreSQL ACE Partner。阿里云 MVP，墨天轮 MVP。TiDB MVA。ITPUB 论坛内存数据库版主、核心专家、金牌顾问。个人公众号：《四海内皆兄弟》。</p></div></div></div><p>&nbsp;</p><p>随着上云大潮的到来，传统的 DBA 岗位会不会被云服务所替代呢？快扫码预约直播，谈谈你的看法吧~还可以进我们的 OSC 技术交流群，一起抱团学习哦~</p><p style="text-align:center"><img height="2828" src="https://oscimg.oschina.net/oscnet/up-c6a3432048f888f0596656cfb3a5a7fe12b.png" width="750" referrerpolicy="no-referrer"></p><p>&nbsp;</p><p style="text-align:left"><strong>直播福利</strong></p><ul><li><p>互动抽奖：在直播评论区提问，被直播嘉宾回复的用户可获 OSC 魔方一个，名额不限。</p></li><li><p>福袋抽奖：直播中将有多轮抽奖，参与就有机会获得 OSC T 恤、魔方等。</p></li></ul><p style="text-align:center"><img height="2160" src="https://oscimg.oschina.net/oscnet/up-4828cfaa2774ad6ebd1bd4394f0129e2ea7.png" width="3840" referrerpolicy="no-referrer"></p><p>我们直播间见吧~</p><p>&nbsp;</p><p><strong>特别鸣谢本次合作社区：</strong></p><ul><li><p><strong>Gitee</strong></p></li></ul><p>Gitee（码云）是开源中国于 2013 年推出的基于 Git 的代码托管平台、企业级研发效能平台，提供中国本土化的代码托管服务。</p><p>截止 2023 年 7 月，Gitee 已经有 1000 万名注册用户和 2500 万个代码仓库，是中国境内规模最大的代码托管平台。同时，旗下企业级 DevOps 研发效能管理平台 Gitee 企业版已服务超过 26 万家企业。</p><p>网址：https://gitee.com/</p><p>&nbsp;</p><ul><li><p><strong>PostgreSQL</strong><strong>中文社区</strong></p></li></ul><p>PostgreSQL 中文社区是一个非盈利的民间组织，目前成员都以志愿者身份加入，成立的目的在于构建 PG 数据库技术生态圈子 (内核、用户培训机构、厂商、服务商、软件开发商、高校形成 「业务与利益双向驱动」 的良性发展生态圈); 帮助企业解决人才培养和企业商用数据库成本问题，社区会在各运营平台发布 PostgreSQL 最新信息和 PostgreSQL 相关技术文章，推动 PG 技术在中国的发展。</p><p>官网链接：http://www.postgres.cn/index.php/v2/home</p><p>&nbsp;</p><ul><li><p><strong>Pigsty</strong></p></li></ul><p style="text-align:left">Pigsty 是本地优先的 RDS 开源替代，开箱即用的 PostgreSQL 发行版，自带高可用、监控系统，PITR，IaC 与部署方案。</p><p style="text-align:left">官网链接：https://pigsty.cc</p><p>&nbsp;</p><ul><li><p><strong>爱可生开源社区</strong></p></li></ul><p>爱可生开源社区，一个有深度的数据库开源社区。社区成立于 2017 年，由上海爱可生信息技术股份有限公司发起。以开源高质量的运维工具、日常分享技术干货内容、数据库技术布道为己任；目前开源的产品有：SQL 质量管理平台 SQLE、分布式中间件 DBLE 和数据传输组件 DTLE 等。在这里，你将收获：高质量的技术内容、企业级数据库工具及服务、丰富的社区活动。</p><p>社区地址：opensource.actionsky.com</p><p>&nbsp;</p><ul><li><p><strong>TiDB</strong></p></li></ul><p>由 TiDB 生态中的开发者、用户、合作伙伴一起建立的分享、学习平台。TiDB 线上社区汇聚了 33448 位 TiDB 资深用户（注册用户数），所有成员都可以在这里自由发声，互相协助解决问题。社区线上论坛 asktug.com 已经积累 23,000+ 个问题帖（主题帖数），90% 的问题都得到了解决，累计总回复 243,000+ 个（主题帖回复数）。</p><p>社区地址：asktug.com</p><p>&nbsp;</p><ul><li><p><strong>中国</strong><strong>开源软件</strong><strong>推进联盟 </strong><strong>PostgreSQL</strong><strong> 分会</strong></p></li></ul><p>中国开源软件推进联盟 PostgreSQL 分会（简称中国 PG 分会）于 2017 年成立，是开源联盟旗下致力于推动 PostgreSQL 技术应用与生态发展的组织。我们的运营范围包括技术布道、用户社群、峰会与沙龙、培训与认证、高校教育。</p><p>问答社区：www.pgfans.cn</p><p>&nbsp;</p><ul><li><p><strong>PolarDB</strong></p></li></ul><p>PolarDB&nbsp;开源社区是阿里云数据库开源产品 PolarDB 的技术交流平台，PolarDB 可以 100% 兼容 MySQL 和 PostgreSQL 生态，助力开发者和客户通过开源版本快速使用阿里云数据库产品技术，并参与到技术产品的迭代过程中来。</p><p>社区地址：openpolardb.com</p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 24 Jan 2024 07:19:00 GMT</pubDate>
            <guid isPermaLink="false">https://my.oschina.net/u/6852546/blog/10929981</guid>
            <link>https://my.oschina.net/u/6852546/blog/10929981</link>
            <author>
                <![CDATA[原创]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[开源向量数据库 Qdrant 融资 2800 万美元]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="color:#000000">继 2023 年 4 月完成 750 万美元种子轮融资后，开源向量数据库公司 Qdrant <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fqdrant.tech%2Fblog%2Fseries-a-funding-round%2F" target="_blank">宣布</a>完成 2800 万美元的 A 轮融资。由 Spark Capital 领投，公司现有投资者 Unusual Ventures 和 42CAP 参投。</span></p><p><span style="color:#000000">总部位于柏林的 Qdrant 成立于 2021 年，定位是面向下一代 AI 应用的向量数据库，采用 Rust 编写。Qdrant 是一个向量相似度搜索引擎和向量数据库，提供了一个生产就绪的服务，带有一个方便的 API 来存储、搜索和管理点 —— 带有额外有效载荷的向量 Qdrant 是为扩展过滤支持而定制的。使它可用于各种神经网络或基于语义的匹配、分面搜索和其他应用程序。</span></p><p><span style="color:#000000"><img alt="" height="250" src="https://oscimg.oschina.net/oscnet/up-22538a14f07005d4eab56ed5ab65cabd5b7.jpg" width="500" referrerpolicy="no-referrer"></span></p><p><span style="color:#000000">向量数据库领域在近两年炙手可热。向量数据库公司 Zilliz 于 2022 年 8 月宣布完成 6000 万美元 B+ 轮融资，用于 Milvus 开源向量数据库的商业化；Weaviate 在 2023 年 4 月完成 B 轮 5000 万美元融资。此外，开源向量数据库研发商 Chroma 公司也在去年获得 1800 万美元种子轮融资，Pinecone 公司则为其专有替代方案筹集了 1 亿美元资金。</span></p><p><span style="color:#000000">Qdrant 在公告中表示，他们在过去的两年里看到了令人难以置信的用户增长和开源社区的支持，其最近的下载量已经超过了 500 万次。目前，Qdrant 的一些知名采用者包括德勤、埃森哲以及马斯克旗下的 xAI 公司。</span></p><p><span style="color:#000000">Qdrant 首席执行官兼联合创始人 Andre Zayarni 向 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ftechcrunch.com%2F2024%2F01%2F23%2Fqdrant-open-source-vector-database%2F" target="_blank">TechCrunch</a> 解释称，「我们的计划是在今年第二季度进行下一次融资，但几个月前我们收到了一份报价，因此决定节省一些时间，现在就开始扩大公司规模。筹资和聘用合适的人总是需要时间的。」</span></p><p><span style="color:#000000">值得注意的是，Zayarni 表示，在收到后续投资报价的同时，公司实际上拒绝了一家"主要数据库市场参与者"的潜在收购要约。并补充说，鉴于公司目前主要由工程师组成，他们将利用新注入的现金组建业务团队。</span></p><p><span style="color:#000000">Qdrant 没有透露哪些客户正在使用开源 Qdrant 版本，哪些客户正在使用其托管服务。不过，Zayarni 坚称，即使公司选择付费购买附加服务，公司的开源特质也是主要卖点之一。</span></p><p><span style="color:#000000">「在使用专有或纯云计算解决方案时，始终存在被供应商锁定的风险。如果供应商决定调整价格或更改其他条款，客户需要同意或考虑迁移到其他替代方案，如果是重型生产用例，这并不容易。通过开源，对数据的控制总是更多一些，而且可以在不同的部署选项之间切换。」</span></p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 24 Jan 2024 07:17:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276529/qdrant-series-a-funding-round</guid>
            <link>https://www.oschina.net/news/276529/qdrant-series-a-funding-round</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[龙芯 LoongArch 架构在 Linux 6.8 内核初步支持 Rust]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>根据内核列表消息，龙芯 LoongArch 架构已在最新 Linux 6.8 版本中提供初步 Rust 支持。</p><blockquote><p><img src="https://oscimg.oschina.net/oscnet/up-ec1300f650a539acb9a091893e4201647df.png" referrerpolicy="no-referrer"><br><em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flore.kernel.org%2Flkml%2F20240119110700.335741-1-chenhuacai%40loongson.cn%2FT%2F%23u" target="_blank">https://lore.kernel.org/lkml/20240119110700.335741-1-chenhuacai@loongson.cn/T/#u</a></u></em></p></blockquote><p>Linux 6.8 内核和 LoongArch 架构相关的变化还包括将最低 Clang 编译器版本提升至 v18，为架构添加了内置 DTB 支持，并更新了默认内核配置文件。此外，补丁中还包含了一系列错误修复，以提升系统的稳定性和兼容性。</p><p>目前，Linux 6.8 内核的 LoongArch 相关 PR 已经被合并到主线 mainline。</p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 24 Jan 2024 06:01:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276520/loongarch-linux-6-8</guid>
            <link>https://www.oschina.net/news/276520/loongarch-linux-6-8</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[200 小时深度体验分析，DevOps 选型重磅发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#191b1f; margin-left:0px; margin-right:0px; text-align:center"><img alt="" src="https://oscimg.oschina.net/oscnet/up-b31aff555046a4c349e6e088370a204b798.png" referrerpolicy="no-referrer"></p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">打造一个功能全面、稳定且用户体验友好的 DevOps 平台对于推动持续集成、持续交付、团队协作和效率提升至关重要。企业在选择 DevOps 平台时，有的倾向于采用平台类产品，如 Zadig、云效、Coding 等；而另一些企业则基于企业文化和项目需求，在已有的 CI/CD 工具（如 Jenkins、GitLab、Argo、Tekton）基础上自建 DevOps 平台，以实现对企业内部 DevOps 方案的定制。无论是选择平台类产品还是自建平台，都需要在搭建之前进行充分的规划和评估，以确保满足企业的需求并提升 DevOps 实践的效率。</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">本文将详细分析各个 DevOps 平台和工具的设计理念、特点、局限性等，并从多个维度（团队规模和业务复杂度、多云策略和厂商关联、使用场景和业务需求等）出发，结合企业实际的业务需求给出建议，为企业 DevOps 选型指明方向。</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">&nbsp;</p><span id="OSC_h2_1"></span><h2><strong>DevOps 平台类产品</strong></h2><span id="OSC_h3_2"></span><h3><em><strong>Zadig</strong></em></h3><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">Zadig 是由 KodeRover 公司基于 Kubernetes 研发的自助式云原生 DevOps 平台，服务端源码 100% 开放。Zadig 提供灵活可扩展的工作流支持、多种发布策略编排以及一键安全审核等特性。该平台还支持定制的企业级 XOps 敏捷效能看板，深度集成多种企业级平台，并通过项目模板化批量快速接入，实现数千个服务的一键纳管治理。其主要目标是帮助企业实现产研的数字化转型，使工程师成为创新引擎，并为数字经济的无限价值链接提供支持<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocs.koderover.com" target="_blank">[1]</a>。</p><span id="OSC_h4_3"></span><h4><strong>01-Zadig 具有以下几个核心特性：</strong></h4><ul><li>灵活易用的高并发工作流</li><li>面向开发者的云原生环境</li><li>高效协同的测试管理</li><li>强大免运维的模板库</li><li>安全可靠的发布管理</li><li>稳定高效的客户交付</li><li>客观精确的效能度量</li><li>云原生 IDE 插件</li></ul><span id="OSC_h4_4"></span><h4><strong>02-Zadig 的核心优势：</strong></h4><ul><li>设计理念：产品级交付，包含代码、配置、数据全要素的交付</li><li>底座真云原生架构：Zadig 基于 k8s 底座，支持较高规模的构建部署并发、多个微服务同时交付场景</li><li>用户接入难度低：Zadig 支持导入和托管现有服务，并对现有流程几乎无侵入极简、开放，易于企业内落地，不需要改变用户行为</li><li>产品可用性较强：3 年开源、大量一线真实场景高频使用打磨，积众家之所长，积累 15 万企业开发者，全球累计部署 50 万应用，2000 家企业高频使用，稳定可靠保证，内置众多最佳实践工作模式</li><li>产品开放性较强：天生支持企业私有化部署，支持全球多地部署、分布式交付分发，针对具有全球化战略的企业更为友好</li></ul><span id="OSC_h4_5"></span><h4><strong>03-Zadig 的局限性：</strong></h4><ul><li>设计理念和其他 DevOps 平台存在不同，初次接触的用户需要一定时间学习和掌握</li><li>系统依赖 K8s，对于对于未采用 K8s、完全处于传统主机环境的企业项目而言并不适用</li></ul><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">&nbsp;</p><span id="OSC_h3_6"></span><h3><em><strong>云效</strong></em></h3><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">云效是阿里云提供的一站式 DevOps 平台，提供涵盖软件研发全生命周期的研发工具链和研发管理服务，并支持公共云、专有云多种部署形态。通过云原生新技术和研发新模式，助力创新创业和数字化转型企业快速实现研发敏捷和组织敏捷，打造「双敏」组织，实现多倍效能提升<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhelp.aliyun.com%2Fdocument_detail%2F153739.html" target="_blank">[2]</a>。</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">云效具有项目协作、代码管理、流水线、制品仓库、测试管理、应用交付平台、效能洞察等核心能力。</p><span id="OSC_h4_7"></span><h4><strong>01-云效主要特点：</strong></h4><ul><li>开箱即用</li><li>企业级安全保障</li><li>实践经验模板化沉淀</li><li>无缝对接阿里云产品</li></ul><span id="OSC_h4_8"></span><h4><strong>02-云效的局限性：</strong></h4><ul><li>系统比较厚重，迁移成本比较高</li><li>耦合度较高，跟阿里云产品深度绑定，对于多云架构的支持不够友好</li><li>对于非阿里云工具链的扩展较困难</li></ul><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">云效与其他平台在设计理念上存在显著差异，云效专注於单应用的交付，将环境管理能力主要集中在应用维度。云效流水线以代码库为主要视角，随着业务增长，流水线数量迅速增加，配置管理难度加大，所以云效更适用于初期快速启动 DevOps 的场景。云效天然亲和阿里云资源和产品，对于多云需求或全球交付需求的企业而言，接入云效可能面临一定的适应难度。</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">&nbsp;</p><span id="OSC_h3_9"></span><h3><em><strong>Coding</strong></em></h3><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">Coding DevOps 是面向软件研发团队的一站式研发协作管理平台，提供从需求到设计、开发、构建、测试、发布到部署的全流程协同及研发工具支撑<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcoding.net%2Fhelp%2Fdocs%2Fstart%2Fnew.html" target="_blank">[3]</a>。</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">Coding 具有团队管理、项目协同、代码仓库、代码扫描、持续集成、持续部署、应用管理等核心能力</p><span id="OSC_h4_10"></span><h4><strong>01-Coding 主要特点：</strong></h4><ul><li>一站式协作平台及研发工具链</li><li>支持双态研发体系建设（瀑布模型、敏捷模型）</li><li>项目度量数据可视化</li><li>无缝集成第三方平台</li></ul><span id="OSC_h4_11"></span><h4><strong>02-Coding 的局限性：</strong></h4><ul><li>以代码库为核心的工作流，管理成本较高</li><li>现有工程体系迁移有一定的成本</li><li>耦合度较高，跟腾讯云产品深度绑定，对于多云架构的支持不够友好</li></ul><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">和其他平台的定位上存在不同，Coding 是流程协同平台，一站式为开发者提供完整的 DevOps 工具链。由于其天然亲和腾讯云资源和产品，对于存在多云架构以及现有业务由其他云平台支撑的场景不够友好。在接入 Coding 过程中，需要做服务的初始化，有一定迁移成本。此外，Coding 构建和部署为两个单独的模块，对于习惯在一条工作流走完所有流程（构建、部署、测试、配置变更、数据变更等）的用户，可能需要重新适应或者调整使用方式。</p><span id="OSC_h2_12"></span><h2>&nbsp;</h2><span id="OSC_h2_13"></span><h2><strong>DevOps 工具类产品</strong></h2><span id="OSC_h3_14"></span><h3><em><strong>Jenkins</strong></em></h3><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">Jenkins 是一款开源、可扩展的自动化构建和交付工具。其设计初衷是为了满足不同团队和项目的需求，提供高度可扩展和灵活的平台。通过插件和扩展，Jenkins 赋予开发团队持续集成和交付的能力，帮助实现软件开发的自动化、协作和快速交付<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.jenkins.io%2Fdoc" target="_blank">[4]</a>。</p><span id="OSC_h4_15"></span><h4><strong>01-Jenkins 的主要特点：</strong></h4><ul><li>扩展性非常强，有大量的插件支持</li><li>分布式构建</li><li>流水线项目 pipeline as code 支持在代码仓库中管理</li></ul><span id="OSC_h4_16"></span><h4><strong>02-Jenkins 的局限性：</strong></h4><ul><li>系统本身安装过程不复杂，但对于插件管理非常繁琐</li><li>项目实施难度大，所有任务都需要写脚本，维护成本高</li><li>Jenkinsfile 分散到不同的工程中，对于后期维护成本比较高</li></ul><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">对用户而言，Jenkins 需依赖众多插件和大量脚本来解决业务交付过程中的构建、部署、测试和自动化流程串接的难题。对于云原生的场景而言需要通过脚本的方式来操作集群，对脚本维护和管理要求比较高。此外 Jenkins 通过插件来管理工作流的权限，权限管理负担较重。</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">Zadig 和 Jenkins 的比对请参阅 「<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg4NDY0NTMyNw%3D%3D%26mid%3D2247490637%26idx%3D1%26sn%3D6e0498b37fb15f8b8903c4997e5611d8%26chksm%3Dcfb450edf8c3d9fb758d691081f09fd85d91dbb17534ba9c18c2300725462d3806581efbd237%26scene%3D21%23wechat_redirect" target="_blank"><span style="color:#5f9cef">Zadig vs. Jenkins 详细比对：时代的选择与开发者之选</span></a>」一文。</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">&nbsp;</p><span id="OSC_h3_17"></span><h3><em><strong>GitLab CI/CD</strong></em></h3><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">GitLab 是一个基于 Git 的版本控制和协作平台。它提供了一套强大的工具，支持团队协作、代码托管、持续集成、持续交付等软件开发过程中的多个方面<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocs.gitlab.com%2Fee" target="_blank">[5]</a>。</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">GitLab 具有代码仓库管理、CI/CD 流水线、效能管理、敏捷项目管理、集成其他工具等核心能力。</p><span id="OSC_h4_18"></span><h4><strong>01-GitLab 的主要特点：</strong></h4><ul><li>一站式管理 DevOps 工具</li><li>自动化工作流程加速软件交付</li><li>与云厂商解耦</li></ul><span id="OSC_h4_19"></span><h4><strong>02-GitLab 的局限性：</strong></h4><ul><li>As code 工作流配置不直观，学习和维护成本较高</li><li>缺少基本环境管理能力，需另外搭建其他平台观测服务的情况</li><li>多角色协同过程中，权限管理比较难，需要给运维测试代码仓库权限才能做 CI/CD，风险较大</li></ul><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">GitLab CI/CD 设计理念是以代码仓库为核心，对于小型项目、单仓库顺序交付的场景较为友好，而对于更为复杂的项目和团队多角色协作，使用方面和管理上存在一定局限性。</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">&nbsp;</p><span id="OSC_h3_20"></span><h3><em><strong>Argo</strong></em></h3><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">Argo 是一个基于 Kubernetes CRD 实现的一个开源工具，基于 Kubernetes 的调度能力实现了工作流的控制和任务的运行。同时提供了一个 UI 方便用户查看任务的详情<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fargoproj.github.io" target="_blank">[6]</a>。</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">Argo 有三个核心产品 Workflows 、CD、Rollouts，为持续集成、持续交付、持续部署提供底层能力。</p><ul><li>Workflows：云原生工作流引擎，支持编排构建、测试、部署等场景，支持声明式地管理复杂任务的执行流程</li><li>CD：基于 GitOps 的理念实现自动化部署、回滚和版本管理</li><li>Rollouts：用于实现 Kubernetes 上的蓝绿发布、金丝雀发布、渐进式发布等发布策略，确保生产发布的稳定性</li></ul><span id="OSC_h4_21"></span><h4><strong>01-Argo 的局限性：</strong></h4><ul><li>声明式的配置，维护和管理成本较高</li><li>本身提供的 Web UI 无法企业级安全性和合规性要求</li><li>适用 K8s 场景，对于传统主机场景并不适用</li></ul><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">尽管 Argo 在云原生工作流引擎方面表现卓越，但对于完整的 DevOps 解决方案仍有欠缺，缺乏一系列企业管理功能，如环境管理、测试管理和权限控制，因此企业可能需要二次开发以建设相应的管理能力，以满足多角色协作的需求。</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">&nbsp;</p><span id="OSC_h3_22"></span><h3><em><strong>Tekton</strong></em></h3><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">Tekton 是一个谷歌开源的基于 Kubernetes 的云原生 CI/CD 框架，通过定义 CRD 的方式，让用户可以灵活的自定义流水线以满足自身 CI/CD 需求<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ftekton.dev%2Fdocs" target="_blank">[7]</a>。</p><span id="OSC_h4_23"></span><h4><strong>01-Tekton 的主要特点：</strong></h4><ul><li>高度抽象底层，方便企业定制工作流程</li><li>与云原生环境无缝对接</li><li>跨云厂商、技术栈和部署环境，帮助实现标准化的 CI/CD</li></ul><span id="OSC_h4_24"></span><h4><strong>02-Tekton 的局限性：</strong></h4><ul><li style="color: rgb(25, 27, 31); margin-left: 0px; margin-right: 0px; text-align: start;">适用 K8s 场景，对于传统主机场景并不适用</li><li style="color: rgb(25, 27, 31); margin-left: 0px; margin-right: 0px; text-align: start;">自定义资源，有一定的学习成本</li></ul><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">Tekton 注重底层灵活性，尽管灵活性强，但也显著增加了使用的难度。因此，要在 Tekton 上实现完整的 CI/CD 过程，就必须进行二次开发，门槛高，需要消耗一定建设成本。</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">&nbsp;</p><span id="OSC_h2_25"></span><h2><strong>各平台和工具之间的比较</strong></h2><div><img src="https://pic1.zhimg.com/80/v2-5bae69be9f8a1aa5fe51311b1f0fd99c_1440w.webp" referrerpolicy="no-referrer"></div><span id="OSC_h2_26"></span><h2>&nbsp;</h2><span id="OSC_h2_27"></span><h2><strong>DevOps 体系选型建议</strong></h2><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">企业在选择 DevOps 平台时，可以从多个角度进行考量，具体选择取决于企业的需求、文化和项目特点。以下是一些建议：</p><span id="OSC_h4_28"></span><h4><strong>01-团队规模和业务复杂度：</strong></h4><ul><li><strong>小型团队：</strong>适用于业务相对简单，研发为主的团队，可考虑选择 GitLab 方案，以代码管理作为入口，开启 GitLab CI/CD 功能，适用于强调全方位版本控制的企业。</li><li><strong>中型企业：</strong>对于复杂业务、多角色协作的情况，可选择一站式平台，如云效、Coding、Zadig，提供开箱即用的协作工具链。</li><li><strong>大型团队：</strong><span>&nbsp;</span>针对复杂场景、历史负担重的团队，建议选择功能全面、灵活可扩展的平台，如 Zadig，适用于复杂的异构环境交付流程和大规模的微服务架构。</li></ul><span id="OSC_h4_29"></span><h4><strong>02-多云架构及全球化战略需求：</strong></h4><ul><li><strong>多云架构需求：</strong>若企业有多云和全球化战略，首选 Zadig。它天然支持企业私有化部署，厂商中立，友好支持多云架构，并满足国际化政策需求（i18n、出海合规等）。</li><li><strong>特定云服务需求：</strong><span>&nbsp;</span>对于已深度关联某一云厂商的企业，可考虑选择该厂商提供的平台，如云效（阿里云关联）或 Coding（腾讯云关联）。</li></ul><span id="OSC_h4_30"></span><h4><strong>03-使用场景和业务需求：</strong></h4><ul><li><strong>全生命周期管理需求：</strong>若企业需全面管理全流程，可选择 Coding、云效提供的一站式协作平台。Zadig 平台侧重于研发和发布侧的一站式协同，需结合第三方实现业务到研发的衔接。</li><li><strong>云原生和微服务需求：</strong><span>&nbsp;</span>针对云原生和微服务架构，Zadig 提供灵活可扩展的工作流支持，适合大规模的构建、部署并发和产品级交付。</li><li><strong>传统单体业务：</strong>对于传统的单体业务，Jenkins 是一个灵活且支持强大插件的选择，满足基本的构建部署需求。</li><li><strong>K8s 生态需求：</strong>Argo 是专注于 Kubernetes GitOps 持续交付工具，适用于新兴企业没有历史负担的情况。</li></ul><span id="OSC_h4_31"></span><h4><strong>04-DevOps 平台建设成本考量：</strong></h4><ul><li><strong>围绕 CI/CD 工具自建平台成本估算：</strong>围绕 Jenkins、Tekton、Argo 工具搭建 DevOps 流程串接管理平台，需要组建跨职能、有丰富 DevOps 经验的团队，人力成本预估至少 300 万元/每年。</li><li><strong>直接购买商业 DevOps 平台成本估算：</strong>直接使用云厂商公有云或采用 Zadig 私有化 DevOps 平台。成本根据团队规模不同在 5 万元-20 万元/每年，可与供应商商谈获取更有竞争力的报价。</li><li><strong>开源商业产品与自研结合成本估算：</strong>针对 200 人以上团队，推荐选择 Zadig 作为自研平台的底层「平台工程」框架，结合自身业务进行定制开发。总体成本预估在 50 万元/每年左右，相较于从零开始搭建团队，采用 Zadig 可在成本上更具优势，同时满足企业特定需求。</li></ul><span id="OSC_h4_32"></span><h4><strong>05-数据的安全与合规考量：</strong></h4><ul><li><strong>下公有云、上行业云：</strong>随着技术发展和政企数字化的深入，数据已成为组织中最核心的资产。数据的安全与合规已经成为国内越来越多组织的核心关注点。在这个背景下，将核心的生产过程及数据从公有云转移到行业私有云，已成为刻不容缓的时代需求。Zadig 作为提供标准私有模式的 DevOps 平台可以直接对接自建云、私有云，通过云原生技术架构迭代业务的同时又能满足数据本地化安全管理的诉求。</li></ul><span id="OSC_h4_33"></span><h4><strong>06-原厂实施考虑因素：</strong></h4><ul><li><strong>专业支持和最佳实践需求：</strong>如果企业注重由产品开发者提供的专业支持和最佳实践，以降低试错成本和减少建设周期，可优先考虑 Zadig 作为原厂实施的选择。云效和 Coding 生态伙伴实施，提供的技术支持和最佳实践可能受制于生态伙伴的服务范围和能力。</li></ul><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">&nbsp;</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">后续将推出云效、Coding 等平台与 Zadig 之间详细对比文章，提供更全面的选型分析。敬请期待！</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">&nbsp;</p><span id="OSC_h2_34"></span><h2>参考链接：</h2><p style="color:rgba(0, 0, 0, 0.9); margin-left:0; margin-right:0; text-align:left">[1] Zadig 官方资料：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocs.koderover.com" target="_blank"><span style="color:#5f9cef">https://docs.koderover.com</span></a></p><p style="color:rgba(0, 0, 0, 0.9); margin-left:0; margin-right:0; text-align:left">[2] 云效官方资料：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhelp.aliyun.com%2Fdocument_detail%2F153739.html" target="_blank"><span style="color:#5f9cef">https://help.aliyun.com/document_detail/153739.html</span></a></p><p style="color:rgba(0, 0, 0, 0.9); margin-left:0; margin-right:0; text-align:left">[3] Coding 官方资料：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcoding.net%2Fhelp%2Fdocs%2Fstart%2Fnew.html" target="_blank"><span style="color:#5f9cef">https://coding.net/help/docs/start/new.html</span></a></p><p style="color:rgba(0, 0, 0, 0.9); margin-left:0; margin-right:0; text-align:left">[4] Jenkins 官方资料：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.jenkins.io%2Fdoc" target="_blank"><span style="color:#5f9cef">https://www.jenkins.io/doc</span></a></p><p style="color:rgba(0, 0, 0, 0.9); margin-left:0; margin-right:0; text-align:left">[5] GitLab 官方资料：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocs.gitlab.com%2Fee" target="_blank"><span style="color:#5f9cef">https://docs.gitlab.com/ee</span></a></p><p style="color:rgba(0, 0, 0, 0.9); margin-left:0; margin-right:0; text-align:left">[6] Argo 官方资料：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fargoproj.github.io" target="_blank"><span style="color:#5f9cef">https://argoproj.github.io</span></a></p><p style="color:rgba(0, 0, 0, 0.9); margin-left:0; margin-right:0; text-align:left">[7] Tekton 官方资料：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ftekton.dev%2Fdocs" target="_blank"><span style="color:#5f9cef">https://tekton.dev/docs</span></a></p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">&nbsp;</p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><span style="background-color:#ffffff; color:rgba(0, 0, 0, 0.9)">立即体验 Zadig V2.0 新架构，开启高效交付之旅！🚀&nbsp;</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><strong><span style="color:#ff2968">Zadig，让工程师更加专注创造</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><img alt="" src="https://oscimg.oschina.net/oscnet/up-16e6b25cd9b3c92bc711c17b21e99e9b040.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg4NDY0NTMyNw%3D%3D%26mid%3D2247491542%26idx%3D1%26sn%3D007a0329060f75cd6daa225fb4c3ed0e%26chksm%3Dcfb45376f8c3da6052fc628ed3083e2c27aa6f64b0b4efb8ee6473e663d62b91de05d7d067c4%26token%3D2032062673%26lang%3Dzh_CN%23rd" target="_blank">阅读原文</a>&nbsp;/&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fkoderover%2Fzadig" target="_blank">Zadig 在 Github</a>&nbsp;/&nbsp;<a href="https://gitee.com/koderover/zadig">Zadig 在 Gitee</a></p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start"><strong>推荐阅读 :&nbsp;</strong><a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg4NDY0NTMyNw%3D%3D%26mid%3D2247491527%26idx%3D1%26sn%3D6024fc78adfb92892c170ecc41704e3a%26chksm%3Dcfb45367f8c3da71eff88b1220aef48e5de6ff54788bff81012906443f135e77a99df07f265a%26scene%3D21%23wechat_redirect" target="_blank">Zadig v2.1.0 版本发布：工作流与环境全面协同升级！</a>&nbsp;/&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg4NDY0NTMyNw%3D%3D%26mid%3D2247490637%26idx%3D1%26sn%3D6e0498b37fb15f8b8903c4997e5611d8%26chksm%3Dcfb450edf8c3d9fb758d691081f09fd85d91dbb17534ba9c18c2300725462d3806581efbd237%26scene%3D21%23wechat_redirect" target="_blank">Zadig vs. Jenkins 详细比对：时代的选择与开发者之选</a>&nbsp;/&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg4NDY0NTMyNw%3D%3D%26mid%3D2247491499%26idx%3D1%26sn%3D0bf38f5bde35f9f0aec0cedca79d74b4%26chksm%3Dcfb4530bf8c3da1d9e9aad6af00d150be6ffd231a3e7801512cb8b749746e3c8ceca2feafadd%26scene%3D21%23wechat_redirect" target="_blank">探索 Zadig 自测模式，一套环境多人协同，释开发者创造力！</a>&nbsp;/&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg4NDY0NTMyNw%3D%3D%26mid%3D2247491474%26idx%3D1%26sn%3D5f7c40d430e16fcbfa69104c4a46a797%26chksm%3Dcfb45332f8c3da247c792998c84b0885a3b40a534cfd2011e0e7ea30a51cadeeabb37fdba14d%26scene%3D21%23wechat_redirect" target="_blank">阿里云 MSE + Zadig，面向开发者的全链路灰度发布解决方案</a>&nbsp;/&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg4NDY0NTMyNw%3D%3D%26mid%3D2247491336%26idx%3D1%26sn%3D805f7d2c44c96cab529ffef120d84ca0%26chksm%3Dcfb453a8f8c3dabe83163a873135f2a72cdddcb9faeecefe5e40f20a358681304484c56cce51%26scene%3D21%23wechat_redirect" target="_blank">ZADIG 专家版倾情上线：一键高效发布，119 元/人月起，社区老友享年终福利！</a></p><p style="color:#191b1f; margin-left:0; margin-right:0; text-align:start">&nbsp;</p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 24 Jan 2024 05:51:00 GMT</pubDate>
            <guid isPermaLink="false">https://my.oschina.net/koderover/blog/10926966</guid>
            <link>https://my.oschina.net/koderover/blog/10926966</link>
            <author>
                <![CDATA[原创]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[开源截图程序 ScreenCapture 渲染引擎迁移到 Skia]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>功能介绍：&nbsp;</p><ul><li><span style="background-color:#ffffff; color:#333333">多屏幕截图、跨屏幕截图。</span></li><li><span style="background-color:#ffffff; color:#333333">画椭圆、正圆、矩形、正方形、箭头、标号、直线、画自由路径线条（填充、非填充、不同颜色、不同线框粗细、可调整大小和位置）。</span></li><li><span style="background-color:#ffffff; color:#333333">马赛克、橡皮擦（矩形、自由路径）、文本（滚轮调整文字大小）。</span></li><li><span style="background-color:#ffffff; color:#333333">上一步（Ctrl+Z）、下一步（Ctrl+Y）（历史路径中的图形元素可以调整大小和位置）。</span></li><li><span style="background-color:#ffffff; color:#333333">保存成文件（Ctrl+S）、保存到剪切板（Ctrl+C）。</span></li><li><span style="background-color:#ffffff; color:#333333">取景框，支持快捷键复制 RGB 颜色 （Ctrl+R）</span><span style="background-color:#ffffff; color:#333333">和 HEX 颜色（Ctrl+H）。</span></li><li><span style="background-color:#ffffff; color:#333333">在新窗口中钉住截图区域（Ctrl+P）。</span></li><li><span style="background-color:#ffffff; color:#333333">非常快、低内存消耗、低 CPU 使用率。</span></li><li><span style="background-color:#ffffff; color:#333333">非常小、仅一个可执行文件（4.9M），无需安装，不依赖任何动态链接库。</span></li><li><span style="background-color:#ffffff; color:#333333">可以非常容易的集成到其他应用中。</span></li><li><span style="background-color:#ffffff; color:#333333">可以随时修改已绘制的元素（鼠标移到元素上等待 1.6 秒）。</span></li></ul><p>本次更新内容：</p><ul><li>渲染引擎从 Blend2D 切换到 Skia，体积变大了少许，能力增强了很多</li><li>CMake 支持，不再是一个简单的 VisualStudio 工程</li><li>几乎重写了整个项目的代码，代码更加易读，易学，易维护</li><li>优化了很多细节，绘制元素更快，更好。</li></ul><p>项目地址：</p><ul><li><a href="https://gitee.com/horsejs_admin/ScreenCapture">https://gitee.com/horsejs_admin/ScreenCapture</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxland%2FScreenCapture" target="_blank">https://github.com/xland/ScreenCapture</a></li></ul><p><img alt="" height="357" src="https://oscimg.oschina.net/oscnet/up-20b2b15f3e4c3a1dee46f6f75c3049b00c6.png" width="500" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 24 Jan 2024 05:17:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276513/screencapture-skia</guid>
            <link>https://www.oschina.net/news/276513/screencapture-skia</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[ioGame17 文档或将强制收费，netty java 游戏服务器]]>
            </title>
            <description>
                <![CDATA[<div class="content"><h3>公告</h3><p>不久之后，将会发布 ioGame21；当 ioGame21 发布后，在线文档将对应最新版本的 ioGame21；</p><p>开发者如果不打算升级到 ioGame21 的，请提前保存好 ioGame17 相关文档。当 ioGame21 发布后，旧的文档（ioGame17）将从自愿付费模式转为强制付费文档。<strong>简单的说，如果你不打算支付这部分文档费用，请私下保存一份自留使用，但不得以任何形式传播及公开</strong>。</p><p>同时，ioGame21 在线文档依旧采用自愿付费模式策略。简单的说，我们提供了最新在线文档的白嫖方式，如果你打算跟进框架最新版本的，依旧可以选择白嫖在线文档。</p><p>最后，由于精力有限，在 ioGame21 发布后，ioGame17 将不再提供免费的修复。通常一个 fix 的批发价是 8k ~ 50k，如果你的实力雄厚，不想升级且需要 fix 时，请联系我们。</p><p>综上，想继续白嫖的，请跟进最新版本。ioGame21 在性能、简化并发编程、吞吐量、编码方式、全链路调用日志跟踪、 文档阅读...等各方面均有质的飞越。</p><h3>ioGame 是什么？</h3><blockquote><p>ioGame 的学习成本非常低，可以说是<strong>零学习成本</strong>，即使没有游戏编程（网络编程）经验，也能轻松上手。开发者只需掌握普通的 java 方法或 webMVC 相关知识，就能用框架开发业务，通常在 10 分钟内就能掌握。框架不要求开发者改变编码习惯，而是自身适应开发者的需求。</p><p>同时，ioGame 也适用于<strong>网络游戏服务器、物联网、内部系统</strong>及各种需要长连接的场景；框架采用无锁异步化、事件驱动的架构设计；轻量级，无需依赖任何第三方中间件或数据库就能支持集群、分布式。通过 ioGame 可以很容易的搭建出一个集群无中心节点、集群自动化、多进程的分布式游戏服务器。</p><p>ioGame 是一个非常适合网络游戏开发的框架。可以让你轻松地创建高性能、低延迟、易扩展的游戏服务器，并且节省时间和资源。如果你想要快速地开发出令人惊艳的网络游戏，请不要犹豫，立即选择 ioGame 吧！框架屏蔽了很多复杂且重复性的工作，并可为项目中的功能模块结构、开发流程等进行<strong>清晰的组织定义</strong>，减少了后续的项目维护成本。</p></blockquote><h3>ioGame 使用趋势数据</h3><p>关注 ioGame 的游戏服务器开发者持续增多，<strong>2022-09 ~ 至今</strong>各月的统计数据；</p><p>这里的统计信息是关于开发者关注 ioGame 框架相关的，从统计数据中可以看出，由于 ioGame 上手简单，功能强大等优点，得到了众多开发者的关注。如果你想知道 ioGame 有没有人在使用，可以先到这里看下统计数据、开发者的评价与讨论。</p><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.yuque.com%2Fiohao%2Fgame%2Fgpxk93%23TwVa8" target="_blank">https://www.yuque.com/iohao/game/gpxk93#TwVa8</a></p><p>这里展示了每月的统计数据，统计数据来源于语雀后台，这些数据都是<strong>真实的、客观存在的、活的</strong>。</p><blockquote><p><span style="color:#e74c3c"><strong>因为成本的原因，某宝某多还没有出现能提供这种服务的商家，所以这样的统计数据也更具真实性。</strong></span></p></blockquote><p>通过统计数据，我们可以看到每天会有很多开发者在访问 ioGame 的在线文档，并且这些统计数据不是来源于口嗨的，也不是主观创造的。</p><p>所以，还在犹豫要不要使用 ioGame 的开发者们，更应该讨论的是「为什么这些开发者会选择使用 ioGame」，而不是 ioGame 有没有人在使用的问题。</p><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.yuque.com%2Fiohao" target="_blank">点击我，到语雀后台查看 ioGame 的数据</a></p><p><img alt="" height="434" src="https://foruda.gitee.com/images/1704787607029603343/5c1f2c07_5475.png" width="700" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 24 Jan 2024 04:45:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276508</guid>
            <link>https://www.oschina.net/news/276508</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
    </channel>
</rss>
