<?xml version="1.0" encoding="UTF-8"?>
<rss
    xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"


>
    <channel>
        <title>
            <![CDATA[開源中國-綜合資訊]]>
        </title>
        <link>https://www.oschina.net/news/industry</link>
        <atom:link href="https://rsshub.app/oschina/news/industry" rel="self" type="application/rss+xml" />
        <description>
            <![CDATA[開源中國-綜合資訊 - Made with love by RSSHub(https://github.com/DIYgod/RSSHub)]]>
        </description>
        <generator>RSSHub</generator>
        <webMaster>i@diygod.me (DIYgod)</webMaster>
        <language>zh-cn</language>
        <lastBuildDate>Fri, 03 Nov 2023 04:09:12 GMT</lastBuildDate>
        <ttl>120</ttl>
        <item>
            <title>
                <![CDATA[等了 7 年，呼聲極高的 vscode 「浮動窗口」 特性，終於實現了]]>
            </title>
            <description>
                <![CDATA[<div class="content"><blockquote><p>7 年，你知道我這 7 年怎麼過來的嗎？</p></blockquote><p><img alt="張家輝表情包 gif，抖音張家輝表情包合集_手機搜狐網" src="https://p3.itc.cn/q_70/images03/20201128/2e725ba530fe473c9fe1f94abbb86ce9.gif" referrerpolicy="no-referrer"></p><p>等了 7 年，開發者呼聲極高的 vscode 「浮動窗口」 特性，終於實現了。</p><p><img height="1400" src="https://static.oschina.net/uploads/space/2023/1103/120112_40ZK_3820517.png" width="2174" referrerpolicy="no-referrer"></p><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmicrosoft%2Fvscode%2Fissues%2F10121" target="_blank">https://github.com/microsoft/vscode/issues/10121</a></p><p>該提案是 2016 年就有人提出，數千人贊同，期間帖子也增長到 300 多條，可見這一特性的呼聲之高。</p><p>就在近期發佈的 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcode.visualstudio.com%2Fupdates%2Fv1_84%23_floating-editor-windows" target="_blank">vscode October 2023 (version 1.84) </a>更新中，終於實現了對浮動窗口的支持（預覽特性）：</p><div class="ckeditor-html5-video" style="text-align:center"><video controls="controls" controlslist="nodownload" src="https://code.visualstudio.com/assets/updates/1_84/floating-windows.mp4">
  &nbsp;
 </video></div><p>vscode 團隊也開心地在 issue 最後「結帖」。</p><p><img height="1540" src="https://static.oschina.net/uploads/space/2023/1103/120113_i7Zd_3820517.png" width="1872" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 03 Nov 2023 04:04:07 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/264749/vscode-floating-editor-windows</guid>
            <link>https://www.oschina.net/news/264749/vscode-floating-editor-windows</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[工信部印發《人形機器人創新發展指導意見》]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="color:#000000">工信部印發《<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.miit.gov.cn%2Fzwgk%2Fzcwj%2Fwjfb%2Ftz%2Fart%2F2023%2Fart_48fe01d562644aedb7ea3f4256df8190.html" target="_blank">人形機器人創新發展指導意見</a>》（以下簡稱《意見》），稱人形機器人集成人工智能、高端製造、新材料等先進技術，有望成為繼計算機、智能手機、新能源汽車後的顛覆性產品，深刻變革人類生產生活方式，重塑全球產業發展格局。</span></p><p><span style="color:#000000"><img alt="" height="235" src="https://oscimg.oschina.net/oscnet/up-e0dd1b4474430fc2cabd5233ea56d86217a.png" width="500" referrerpolicy="no-referrer"></span></p><p><span style="color:#000000">《意見》制定了「<strong>發展目標</strong>」，提出到 2025 年，人形機器人創新體系初步建立，「大腦、小腦、肢體」等一批關鍵技術取得突破，確保核心部組件安全有效供給。整機產品達到國際先進水平，並實現批量生產，在特種、製造、民生服務等場景得到示範應用，探索形成有效的治理機制和手段。培育 2-3 家有全球影響力的生態型企業和一批專精特新中小企業，打造 2-3 個產業發展集聚區，孕育開拓一批新業務、新模式、新業態。</span></p><p><span style="color:#000000">到 2027 年，人形機器人技術創新能力顯著提升，形成安全可靠的產業鏈供應鏈體系，構建具有國際競爭力的產業生態，綜合實力達到世界先進水平。產業加速實現規模化發展，應用場景更加豐富，相關產品深度融入實體經濟，成為重要的經濟增長新引擎。</span></p><p><span style="color:#000000">在人形機器人「<strong>關鍵技術</strong>」方面，實現「大腦、小腦、肢體」等一批關鍵技術的突破，構建完善人形機器人制造業技術創新體系。</span></p><p><span style="color:#000000"><img alt="" height="324" src="https://oscimg.oschina.net/oscnet/up-33f7aa057684c9a6e96f4feafd4136da564.png" width="500" referrerpolicy="no-referrer"></span></p><p><span style="color:#000000">《意見》還提出要培育重點產品，包括打造整機產品、夯實基礎部組件以及推動軟件創新。</span></p><p><span style="color:#000000"><img alt="" height="76" src="https://oscimg.oschina.net/oscnet/up-6c4003a2566dddbba0b4f95f929adc9dea1.png" width="500" referrerpolicy="no-referrer"></span></p><p><span style="color:#000000"><img alt="" height="388" src="https://oscimg.oschina.net/oscnet/up-3b2fde75892e62a9b44b6a627ae12e14c24.png" width="500" referrerpolicy="no-referrer"></span></p><p><span style="color:#000000">在人形機器人的<strong>場景應用</strong>方面，特種環境和製造業是有望最先應用的領域。除此之外，《意見》還提出要加快民生及重點行業推廣，拓展人形機器人在醫療、家政等民生領域服務應用，重點提升人機交互可靠性和安全性，開發具有複雜區域引導、靈活操作、魯棒行走、多模態人機交互的解決方案，滿足生命健康、陪伴護理等高品質生活需求。推動人形機器人在農業、物流等重點行業應用落地，提升人機交互、靈巧抓取、分揀搬運、智能配送等作業能力。</span></p><p><span style="color:#000000">《意見》的最後部分，提出了營造產業生態、健全產業標準體系、加強安全治理能力等舉措。其中在「營造產業生態」部分，提到了要「<strong>完善創新載體和開源環境</strong>」。</span></p><p><span style="color:#000000">包括支持建設人形機器人重點實驗室、製造業創新中心，凝聚產學研各界優勢力量，提升關鍵共性技術供給能力。成立人形機器人百人會等行業組織，促進技術交流、供需對接、國際合作，深化創新鏈產業鏈資金鍊人才鏈融合。以及建設人形機器人開源社區，推進開源基金會能力建設，加強對重點企業開源項目的支持力度，匯聚全球開發者協同創新。</span></p><p><span style="color:#000000">完整內容可<strong><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.miit.gov.cn%2Fzwgk%2Fzcwj%2Fwjfb%2Ftz%2Fart%2F2023%2Fart_48fe01d562644aedb7ea3f4256df8190.html" target="_blank">查看官方公告</a></strong>。</span></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 03 Nov 2023 04:02:07 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/264748</guid>
            <link>https://www.oschina.net/news/264748</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[LAMMPS —— 分子動力學模擬工具包]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>LAMMPS （"Large-scale Atomic/Molecular Massively Parallel Simulator"，大尺度原子/分子並行模擬工具）是由桑迪亞國家實驗室開發的一套分子動力學模擬的開源程序包。LAMMPS 當前使用 C++編寫，早期版本使用 Fortran77 以及 Fortran90。</p><p>LAMMPS 使用 MPI 實現多機器並行計算，在新的版本中，支持基於 CUDA 和 OpenCL 的 GPU 計算。</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-fa7cce2ba0e5a4796cb2d6eb8a1e3dccd07.png" referrerpolicy="no-referrer"></p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-323a95d8c05b97b23b41450fa6c6867b9f0.png" referrerpolicy="no-referrer"></p><p>&nbsp;</p><p>LAMMPS 提供了元素週期表中原子對應的經驗勢函數，可進行與實際體系對應的分子動力學模擬，例如計算金屬鋁的晶格常數，或水的密度，得到與實驗吻合的結果。另一方面也提供了多種模型勢函數，可用於進行粗粒化模擬，例如模擬基於粒子-彈簧模型的高分子鏈的性質。</p><p>LAMMPS 作為實用程序包，採取了很多成熟的優化算法。例如在短程相互作用的計算中運用韋爾萊表和元胞列表優化臨近粒子的掃描。</p><p>用户可在下至個人電腦，上至計算機集羣上運行 LAMMPS。在並行環境下，LAMMPS 使用空間分解技術，將整個模擬體系分解成若干個更小的體系傳遞給不同處理器執行，邊界的處理則使用「幽靈原子」保證整體的連續。LAMMPS 對粒子密度均勻的立方體盒子體系的效率最高。</p><p>LAMMPS 具有廣泛的硬件加速支持，例如 GPU (CUDA, OpenCL, HIP, SYCL), Intel Xeon Phi, 以及基於 OpenMP 多線程支持。</p><p>LAMMPS 最初為一美國政府與私人機構合作項目，由美國能源部與另外三所私有企業實驗室合作開發。目前由桑迪亞國家實驗室負責維護和發佈。</p></div>
                                                                ]]>
            </description>
            <pubDate>Fri, 03 Nov 2023 03:20:13 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/p/lammps</guid>
            <link>https://www.oschina.net/p/lammps</link>
        </item>
        <item>
            <title>
                <![CDATA[Gitee 推薦 | 開源的知識圖譜抽取與構建工具 DeepKE]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Farxiv.org%2Fpdf%2F2201.03335.pdf">DeepKE</a><span>&nbsp;</span>是一個開源的知識圖譜抽取與構建工具，支持<strong>cnSchema、低資源、長篇章、多模態</strong>的知識抽取工具，可以基於<strong>PyTorch</strong>實現<strong>命名實體識別</strong>、<strong>關係抽取</strong>和<strong>屬性抽取</strong>功能。同時為初學者提供了<a href="https://gitee.com/ZJU_NLP/DeepKE">用户手冊</a>,<span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fzjunlp.github.io%2FDeepKE%2F">文檔</a>，<a href="https://gitee.com/link?target=https%3A%2F%2Fcolab.research.google.com%2Fdrive%2F1vS8YJhJltzw3hpJczPt24O0Azcs3ZpRi%3Fusp%3Dsharing">Google Colab 教程</a>,<span>&nbsp;</span><a href="https://gitee.com/link?target=http%3A%2F%2Fdeepke.zjukg.cn%2FCN%2Findex.html">在線演示</a>,<span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Farxiv.org%2Fpdf%2F2201.03335.pdf">論文</a>和<a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fzjunlp%2FDeepKE%2Fblob%2Fmain%2Fdocs%2Fslides%2FSlides-DeepKE-cn.pdf">演示文稿</a>。</p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 03 Nov 2023 03:16:13 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/264738</guid>
            <link>https://www.oschina.net/news/264738</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[每日一博 | 同城售後系統退款業務重構心得]]>
            </title>
            <description>
                <![CDATA[<div class="content"><span id="OSC_h1_1"></span><h1><span><span><span>一、重構背景</span></span></span></h1><span id="OSC_h3_2"></span><h3><span><span><span>1.1、退款</span></span></span></h3><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>到家、小時購、天選退款有</span></span></span><span><span><strong><span>2 套</span></strong></span></span><span><span><span>結構，代碼邏輯混亂；</span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>其中小時購、天選部分售後單是和平生 pop 交互退款，部分是和售後中台交互退款；並且</span></span></span><span><span><strong><span>兼容 3 套</span></strong></span></span><span><span><span>邏輯；</span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><strong><span>痛點</span></strong></span></span><span><span><span>：代碼繁重，缺乏合理性的設計，後續迭代</span></span></span><span><span><strong><span>開發</span></strong></span></span><span><span><span>以及</span></span></span><span><span><strong><span>維護成本高</span></strong></span></span><span><span><span>，同時增加了系統的</span></span></span><span><span><strong><span>風險和不穩定性</span></strong></span></span></p><span id="OSC_h3_3"></span><h3><span><span><span>1.2、金額計算</span></span></span></h3><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>到家、小時購兩套獨立的邏輯結構計算，在此基礎上針對退差和非退差又實現了</span></span></span><span><span><strong><span>2 套</span></strong></span></span><span><span><span>邏輯；</span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>針對商品件維度、商品行維度、售後單維度計算金額混亂，</span></span></span><span><span><strong><span>缺乏領域邊界</span></strong></span></span><span><span><span>和</span></span></span><span><span><strong><span>分層設計</span></strong></span></span><span><span><span>；</span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><strong><span>痛點</span></strong></span></span><span><span><span>：售後單維度、商品行維度、拆分件維度金額</span></span></span><span><span><strong><span>計算混亂</span></strong></span></span><span><span><span>，代碼</span></span></span><span><span><strong><span>缺乏層次結構</span></strong></span></span><span><span><span>；代碼</span></span></span><span><span><strong><span>易讀性</span></strong></span></span><span><span><span>、</span></span></span><span><span><strong><span>維護成本</span></strong></span></span><span><span><span>、後續</span></span></span><span><span><strong><span>擴展性</span></strong></span></span><span><span><span>存在問題</span></span></span></p><span id="OSC_h3_4"></span><h3><span><span><span>1.3、售後逆向賬</span></span></span></h3><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>售後單詳情接口、申訴單詳情接口，針對到家和小時購做了</span></span></span><span><span><strong><span>兩套</span></strong></span></span><span><span><span>邏輯；</span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>其中售後單詳情接口針對小時購黑名單、小時購白名單、天選、到家退差、到家非退差做了</span></span></span><span><span><strong><span>5 套</span></strong></span></span><span><span><span>邏輯處理；</span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>並且這兩個接口都是實時從拆分獲取金額進行售後逆向拆分計算，可以直接從數據庫中進行取值賦值，不需要進行售後單維度的拆分計算；</span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><strong><span>痛點</span></strong></span></span><span><span><span>：代碼大量</span></span></span><span><span><strong><span>冗餘</span></strong></span></span><span><span><span>、改動</span></span></span><span><span><strong><span>成本高</span></strong></span></span><span><span><strong><span>、</span></strong></span></span><span><span><span>增加了系統的</span></span></span><span><span><strong><span>風險</span></strong></span></span><span><span><span>和</span></span></span><span><span><strong><span>不穩定性</span></strong></span></span></p><span id="OSC_h1_5"></span><h1><span><span><span>二、重構思路和方案</span></span></span></h1><span id="OSC_h3_6"></span><h3><span><span><span>2.1、重構思路</span></span></span></h3><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><strong><span>什麼是重構呢？</span></strong></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><strong><span>名詞</span></strong></span></span><span><span><span>：對軟件內部結構的一種調整，目的是在不改變軟件觀察行為的的前提下提高其可理解性、降低其修改成本；</span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><strong><span>動詞</span></strong></span></span><span><span><span>：使用一系列手法，在不改變軟件可觀察行為的前提下，調整其結構</span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>重構的目的是使系統或代碼更容易被理解、修改、迭代</span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><strong><span>重構秘訣：膽大心細</span></strong></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><strong><span>膽大</span></strong></span></span><span><span><span>（意味着有勇氣和決心去改變和改進現有的代碼。重構可能涉及對複雜的代碼結構進行修改，甚至可能需要重寫部分代碼。膽大的開發者願意麪對這些挑戰，相信通過改變可以帶來更好的結果）</span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><strong><span>心細</span></strong></span></span><span><span><span>（指的是在進行重構時保持細緻入微的思考和行動。這包括仔細分析代碼的結構和邏輯，理解代碼的功能和依賴關係，以及考慮每個重構步驟可能帶來的潛在影響。心細的開發者會在重構過程中小心翼翼地處理每個細節，以確保代碼的正確性和可維護性）</span></span></span></p><div><span>1.</span><span><span><span><span>把握好重構時機：當我發現售後退款、金額計算等業務模塊代碼存在質量問題、可讀性差、可維護性差或存在壞味道時，並且在項目需求排期並不緊張的情況下，是進行重構的好時機；</span></span></span></span></div><div><span>2.</span><span><span><span><span>前期梳理很重要，先找到痛點 ；不宜長線作戰，不宜和業務並行</span></span></span></span></div><div><span>3.</span><span><span><span><span>明確出目標和價值：售後退款、金額計算重構後能提高開發效率、降低維護、開發成本等</span></span></span></span></div><div><span>4.</span><span><span><span><span>確定重構的目標：首先要明確需要進行重構的代碼塊或功能，並明確重構的目標是什麼。例如，可能需要提高代碼的可讀性、可維護性或性能。</span></span></span></span></div><div><span>5.</span><span><span><span><span>分析代碼壞味道：使用代碼靜態分析工具或手動檢查代碼，識別出可能存在的</span></span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.qinglite.cn%2Fdoc%2F87036476d565d55f9" target="_blank" rel="nofollow"><span><span><span>代碼壞味道</span></span></span></a><span><span><span>；例如退款業務中存在 1000 多行的類、600 多行的方法，過多的變量參數、諸多重複代碼等</span></span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.qinglite.cn%2Fdoc%2F87036476d565d55f9" target="_blank" rel="nofollow"><span><span><span>代碼壞味道</span></span></span></a><span><span><span>。</span></span></span></span></div><div><span>6.</span><span><span><span><span>選擇適當的重構技術：根據售後</span></span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.qinglite.cn%2Fdoc%2F87036476d565d55f9" target="_blank" rel="nofollow"><span><span><span>代碼壞味道</span></span></span></a><span><span><span>的種類和重構的目標，選擇適當的重構技術。我採用的重構手法是：</span></span></span><span><span><strong><span>小規模重構--&gt;大規模重構--&gt;頂層設計模式；</span></strong></span></span><span><span><span>採用</span></span></span><span><span><strong><span>先小後大，從大到全</span></strong></span></span><span><span><span>的思路進行重構設計</span></span></span><span><span><strong><span>。小規模重構</span></strong></span></span><span><span><span>：提取方法、消除超大類或函數方法、提取類、重命名、合併重複代碼等方法；</span></span></span><span><span><strong><span>大規模重構：</span></strong></span></span><span><span><span>採用的是</span></span></span><span><span><span style="background-color:#ffffff; color:#121212">分層、模塊化、解耦、抽象可複用性等手法；</span></span></span><span><span><strong><span>設計模式</span></strong></span></span><span><span><span>：退款業務採用策略模式+抽象工廠；金額計算業務採用策略模式+抽象工廠+責任鏈模式</span></span></span></span></div><div><span>7.</span><span><span><span><span>編寫測試用例：在進行重構之前，編寫適當的測試用例來驗證重構後的代碼的正確性。測試用例應該覆蓋重構的代碼塊或功能的各種情況。</span></span></span></span></div><div><span>8.</span><span><span><span><span>執行重構：根據選擇的重構技術，逐步修改代碼。確保每次修改後的代碼仍然通過之前編寫的測試用例。</span></span></span></span></div><div><span>9.</span><span><span><span><span>運行測試用例：在每次重構之後，運行之前編寫的測試用例，確保重構後的代碼仍然正確。</span></span></span></span></div><div><span>10.</span><span><span><span><span>重構後的代碼評估：評估重構後的代碼是否達到了預期的目標，例如是否提高了代碼的可讀性、可維護性或性能。</span></span></span></span></div><span id="OSC_h3_7"></span><h3><span><span><span>2.2、重構方案</span></span></span></h3><span id="OSC_h4_8"></span><h4><span><span><span>2.2.1、重構前系統交互圖</span></span></span></h4><div><img alt="" src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2023-10-26-11-376gFGFKNu12gfcLVl.jpg" referrerpolicy="no-referrer"></div><span id="OSC_h4_9"></span><h4><span style="color:transparent"><span><span><span>﻿</span></span></span></span><span><span><span>﻿</span></span></span><span><span><span>2.2.2、重構後系統交互圖</span></span></span></h4><div><img alt="" src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2023-10-24-14-36ObaevqtLBg9cVzc.jpg" referrerpolicy="no-referrer"></div><p><span style="color:transparent"><span><span><span>﻿</span></span></span></span><span><span><span></span></span></span><span><span><span>退款業務強耦合到售後系統中，並且業務代碼分散到各個業務層，嚴重缺乏系統的領域邊界和分層設計，重構後退款業務邏輯不強依賴售後核心業務邏輯，做到可以獨立部署。</span></span></span></p><span id="OSC_h4_10"></span><h4><span><span><span>2.2.3、重構前金額計算流程圖</span></span></span></h4><div><img alt="" src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2023-10-24-14-36iGWAfxWUQyTZ36p7.jpg" referrerpolicy="no-referrer"></div><span id="OSC_h4_11"></span><h4><span style="color:transparent"><span><span><span>﻿</span></span></span></span><span><span><span></span></span></span><span><span><span>2.2.4、重構後金額計算流程圖</span></span></span></h4><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>﻿</span></span></span><img alt="" src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2023-10-24-14-36j10tVMXAKR9byPI10.jpg" referrerpolicy="no-referrer"></p><p><span style="color:transparent"><span><span><span>﻿</span></span></span></span><span><span><span></span></span></span><span><span><span>將 2 套金額計算業務邏輯利用設計模式將其合併為 1 套金額計算業務邏輯，打造防腐層</span></span></span></p><span id="OSC_h3_12"></span><h3><span><span><span>2.3、重構設計類圖</span></span></span></h3><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>依據上述制定的設計方案流程圖，我進行了 UML 類圖的繪製，以下是關於金額計算業務模塊的類圖</span></span></span></p><span id="OSC_h4_13"></span><h4><span><span><span>2.3.1、抽象工廠+策略模式類圖</span></span></span></h4><div><img alt="" src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2023-10-26-20-06MV8CDpmNrSRORvC.jpg" referrerpolicy="no-referrer"></div><p><span style="color:transparent"><span><span><span>﻿</span></span></span></span><span><span><span></span></span></span></p><span id="OSC_h4_14"></span><h4><span><span><span>2.3.2、責任鏈模式類圖</span></span></span></h4><div><img alt="" src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2023-10-24-19-53VbsjALJmOdmrz24d.jpg" referrerpolicy="no-referrer"></div><p><span style="color:transparent"><span><span><span>﻿</span></span></span></span><span><span><span></span></span></span></p><span id="OSC_h1_15"></span><h1><span><span><span>三、系統穩定性保障</span></span></span></h1><span id="OSC_h3_16"></span><h3><span><span><span>3.1、小步重構</span></span></span></h3><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>將售後重構分成退款、金額計算、逆向賬三個步驟，並在每個步驟之後運行測試用例。這樣可以及時發現並修復引入的錯誤，避免錯誤在整個系統中蔓延</span></span></span></p><span id="OSC_h3_17"></span><h3><span><span><span>3.2、逐步驗證</span></span></span></h3><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>在每個重構步驟之後，進行系統的逐步驗證。分批次進行上線灰度，灰度配置絕對隔離，不能複用。確保系統的各個部分在重構過程中都能正常運行，並與其他部分協調良好。</span></span></span></p><span id="OSC_h3_18"></span><h3><span><span><span>3.3、監控和性能測試</span></span></span></h3><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>在重構完成後，進行系統的監控和性能測試，確保重構沒有引入性能問題或影響系統的穩定性。如果發現問題，及時進行修復和優化。</span></span></span></p><span id="OSC_h3_19"></span><h3><span><span><span>3.4、團隊代碼審查和測試</span></span></span></h3><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>在進行重構時，與團隊成員進行合作，並進行代碼審查。多個人的視角和經驗可以幫助發現潛在的問題，並提供改進的建議；針對重構代碼進行深度解刨，能更有效地保障重構的安全性。</span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>重構業務及時通知測試人員，使測試人員能夠評估到測試點，更加完善測試用例</span></span></span></p><span id="OSC_h3_20"></span><h3><span><span><span>3.5、灰度步驟</span></span></span></h3><span id="OSC_h4_21"></span><h4><span><span><span>3.5.1、bcp 持續比對校驗</span></span></span></h4><div><img alt="" src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2023-10-24-18-21kccs6qUAZpiH6EU.jpg" referrerpolicy="no-referrer"></div><span id="OSC_h4_22"></span><h4><span style="color:transparent"><span><span><span>﻿</span></span></span></span><span><span><span>﻿</span></span></span><span><span><span>3.5.2、按照商家灰度</span></span></span></h4><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>依據售後單量 </span></span></span><span><span><span style="color:#c41d7f">小-&gt;中-&gt;大 </span></span></span><span><span><span>的順序逐步進行灰度切量，觀察其退款、金額計算等售後單數據是否異常</span></span></span></p><span id="OSC_h1_23"></span><h1><span><span><span>四、重構成果</span></span></span></h1><div><span>1.</span><span><span><span><span>降低開發、維護成本</span></span></span></span></div><div><span>2.</span><span><span><span><span>提升代碼質量、系統穩定性</span></span></span></span></div><div><span>3.</span><span><span><span><span>系統擴展性和靈活性的加強；</span></span></span></span></div><div><span>4.</span><span><span><span><span>系統應用、業務邊界定位更加清晰</span></span></span></span></div><div><span>5.</span><span><span><span><span>統一和規範售後核心業務脈絡，降低業務學習成本，提升開發效率</span></span></span></span></div><div><span>6.</span><span><span><span><span>提升自己的技術能力、代碼質量意識、問題解決能力、團隊合作和溝通能力；經典著作《重構》這本書中有這麼一段話：</span></span></span></span></div><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span style="color:#e13c39">一開始，我所做的重構都停留在細枝末節上。隨着代碼趨向簡潔，我發現自己可以看到一些設計層面的東西了，這些是我以前理解不到的，如果沒有重構，我達不到這種高度</span></span></span></p><span id="OSC_h1_24"></span><h1><span><span><span>五、code show</span></span></span></h1><span id="OSC_h3_25"></span><h3><span><span><span>5.1、重構前金額計算</span></span></span></h3><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>到家售後單金額計算 service 方法</span></span></span></p><div><img alt="" src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2023-10-24-17-21suiEaSppoaot524r.png" referrerpolicy="no-referrer"></div><p><span style="color:transparent"><span><span><span>﻿</span></span></span></span><span><span><span> 京東售後單金額計算 service 方法 </span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>一個大的金額計算 class 類就有 1000 多行代碼，每個方法中都有幾百行代碼，以下是到家售後單金額計算部分代碼</span></span></span></p><div><img alt="" src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2023-10-24-17-24SIMdGahcCnlwMft.png" referrerpolicy="no-referrer"></div><span id="OSC_h3_26"></span><h3><span style="color:transparent"><span><span><span>﻿</span></span></span></span><span><span><span></span></span></span><span><span><span>5.2、重構後金額計算</span></span></span></h3><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>到家和京東售後單金額計算用同一個接口才承接業務實現，並且使用策略+抽象工廠模式實現到家、小時購、天選業務的金額計算</span></span></span></p><div><img alt="" height="485" src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2023-10-24-16-06zo6Ussx10DiTM9aZ.png" width="949" referrerpolicy="no-referrer"></div><p><span style="color:transparent"><span><span><span>﻿</span></span></span></span><span><span><span></span></span></span></p><p><span><span><span>策略模式獲取金額拆分結果集</span></span></span></p><div><img alt="" src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2023-10-24-16-197BtKUjnliCO0tWL.png" referrerpolicy="no-referrer"></div><p><span style="color:transparent"><span><span><span>﻿</span></span></span></span><span><span><span></span></span></span></p><p><span><span><span>金額計算核心方法只有 4 步驟</span></span></span></p><div><img alt="" src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2023-10-24-16-07Hh7lMDbD24dz710Z8.png" referrerpolicy="no-referrer"></div><p><span style="color:transparent"><span><span><span>﻿</span></span></span></span><span><span><span></span></span></span></p><p><span><span><span>其中金額計算的核心則採用的是責任鏈業務進行計算</span></span></span></p><div><img alt="" src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2023-10-24-16-18tYPt18htIb24Wqq18K.png" referrerpolicy="no-referrer"></div><p><span style="color:transparent"><span><span><span>﻿</span></span></span></span><span><span><span></span></span></span></p><p><span><span><span>在件維度、sku 維度針對不同的業務又採用了責任鏈模式進行金額計算</span></span></span></p><div><img alt="" src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2023-10-24-16-20yiO6J10jVGmJJdK.png" referrerpolicy="no-referrer"></div><p><span style="color:transparent"><span><span><span>﻿</span></span></span></span></p><span id="OSC_h1_27"></span><h1><span><span><span>六、參考文獻</span></span></span></h1><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>代碼的壞味道： </span></span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.qinglite.cn%2Fdoc%2F87036476d565d55f9" target="_blank" rel="nofollow"><span><span><span>https://www.qinglite.cn/doc/87036476d565d55f9</span></span></span></a><span><span><span>﻿</span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span style="background-color:#ffffff; color:#202124">《重構改善既有代碼的設計》：[美]MartinFowler</span></span></span></p><p style="color:#393c5a; margin-left:0; margin-right:0; text-align:start"><span><span><span>《敏捷軟件開發》：[美]RobertC.Martin</span></span></span></p><blockquote><p>作者：京東零售，高凱</p><p>來源：京東雲開發者社區，轉載請註明來源</p></blockquote></div>
                                    ]]>
            </description>
            <pubDate>Fri, 03 Nov 2023 03:12:13 GMT</pubDate>
            <guid isPermaLink="false">https://my.oschina.net/u/4090830/blog/10140342</guid>
            <link>https://my.oschina.net/u/4090830/blog/10140342</link>
            <author>
                <![CDATA[原創]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[中國信通院杜劉通等：全球 6G 技術產業發展態勢]]>
            </title>
            <description>
                <![CDATA[<div class="content"><h4><strong>0&nbsp; 引言</strong></h4><p>當前，以移動通信技術為代表的信息通信技術蓬勃發展，已成為加速數字經濟與實體經濟融合的重要推動力，在推動全球經濟社會發展、產業結構變革和技術迭代創新方面持續發揮關鍵作用。縱觀全球，5G 已進入規模化商用階段。據全球移動供應商協會統計，截至 2023 年 5 月，全球已有 99 個國家和地區的 254 家運營商推出了商用 5G 網絡服務[1]。我國已建成規模較大、技術較先進的 5G 網絡。與此同時，隨着移動通信技術的持續演進，6G 逐漸成為全球科技創新的重點領域。本文將從國際標準研究進展、全球發展態勢、國內相關研究工作三個角度梳理全球 6G 發展現狀，提出推動 6G 發展建議，為開展 6G 研究提供有益參考。</p><h4><strong>1&nbsp; 6G 發展概述</strong></h4><p>按照移動通信技術「十年一代」的發展規律，6G 最早將於 2030 年進入商用階段。2022 年 3 月，國際電信聯盟（International Telecommunication Union，ITU）正式啓動 6G 研究，明確了 6G 國際標準工作計劃。2022 年 6 月，ITU 發佈了面向 2030 及未來國際移動通信（International Mobile Telecommunications，IMT）技術趨勢的報告[2]，其中指出，未來移動通信的關鍵使能技術將包括增強型無線空口技術（如超大規模天線、新型調製編碼技術與多址接入技術等）、感知與通信融合、人工智能與通信融合、新維度無線通信（如智能超表面等）、高頻段（如太赫茲等）通信以及新型無線網絡架構等，6G 總體技術框架逐步形成。2023 年 6 月 12 日至 22 日，ITU 完成《IMT 面向 2030 及未來發展的框架和總體目標建議書》（簡稱《建議書》）[3]，明確了 6G 發展目標、典型場景、能力指標等內容，對後續 6G 技術和標準研究有重要指導作用[4]。</p><p>在發展目標方面，6G 將推動實現包容性、泛在連接、可持續性、創新、安全性/隱私性/韌性、標準化和互操作、互通性七大目標，成為更好連接物理世界和虛擬世界、承載新用户、賦能新應用的新型數字基礎設施；在典型場景方面，6G 將在 5G 三大典型場景的基礎上持續增強和擴展，包含沉浸式通信、超大規模連接、極高可靠低時延、人工智能與通信融合、感知與通信融合、泛在連接六大場景；在性能指標方面，《建議書》明確了 6G 的 15 個關鍵能力指標，除傳統移動通信的峯值速率、體驗速率、頻譜效率、區域流量密度、連接密度、覆蓋、移動性、時延、可靠性等指標外，6G 還將在安全性/隱私/韌性、定位、感知、智能、可持續發展、互操作等維度新增性能指標。</p><p>筆者根據移動通信國際標準制定的經驗發現，ITU 作為國際移動通信標準的評估及認定機構，將在 2024—2026 年進一步細化和完善 6G 性能指標要求，制定相應評估方法；2027 年將針對制定的指標開展候選技術方案徵集，預計在 2029 年完成 6G 基礎版本標準，2030 年左右啓動 6G 商用部署。作為目前影響力較大的移動通信國際標準制定組織，第三代合作伙伴計劃（The 3rd Generation Partnership Project，3GPP）在 2022 年 6 月宣佈正式凍結 5G 移動通信國際標準 Release 17，並正式啓動了 Release 18 版 5G 國際標準研製工作，5G 標準制定進入 5G 增強（5G-Advanced，5G-A）發展階段，感知與通信融合、人工智能與通信融合的部分功能將在此階段逐步實現，為後續 6G 標準制定奠定有力基礎。根據 3GPP 已公佈的標準制定計劃，最早將於 2025 年啓動 6G 有關國際標準研製工作，並預計 2029 年左右完成 6G 國際標準基礎版本。</p><h4><strong>2&nbsp; 全球主要國家和地區 6G 發展情況</strong></h4><p><strong>2.1&nbsp; 美國</strong></p><p>美國在產業組織和政府等層面積極推動 6G 研發合作。在產業組織層面，美國由電信行業解決方案聯盟（Alliance for Telecommunications Industry Solutions，ATIS）牽頭成立了 Next G 聯盟，旨在加強 6G 技術、網絡、應用等領域的合作。除傳統通信設備商及運營商外，還積極吸納微軟、谷歌、英特爾等信息技術領域軟/硬件企業，實現從 6G 研發、測試到商用的全流程合作。2022 年 8 月 11 日，ATIS 與歐洲 6G 智慧網絡和業務產業協會（6G Smart Networks and Services Industry Association，6G-IA）簽署了一份 6G 合作諒解備忘錄。雙方將在 6G 通信系統和網絡領域強化交流合作，開展 6G 研討會、試驗等多項活動，並計劃共同推動全球 6G 統一標準的相關合作。2021 年 12 月，Next G 聯盟和韓國 5G 論壇宣佈簽署諒解備忘錄，共同促進下一代移動通信方面的合作。在政府層面，2021 年 12 月，美國通過《未來網絡法案》，要求美國聯邦通信委員會（Federal Communications Commission，FCC）建立 6G 工作組，6G 工作組由政府、通信設備商、運營商等組成，負責向美國國會提交與 6G 國際標準、建設部署、產業鏈、供應鏈等相關的報告。2022 年 1 月，FCC 成立了技術諮詢委員會（Technical Advisory Council，TAC），領導人工智能和 6G 等技術的研究，重點關注新型頻譜共享和新型無線通信等技術。2023 年 4 月，美國政府召集學術界、工業界、社會組織、政府部門、參眾兩院等代表在白宮召開 6G 研討會，並以美國國家安全委員會（National Security Council，NSC）名義發佈關於 6G 設計原則的報告，在技術可信及國家安全、開放及互操作、安全及隱私保護、成本可控及可持續發展、頻率及製造、標準及國際合作 6 個方面闡述了對 6G 設計原則的考慮，強調 6G 應建立在與美國及其盟友價值觀相符的技術標準之上。2023 年 5 月，Next G 聯盟發佈「6G——創新和投資的下一個前沿」倡議書（簡稱「倡議書」），指出 6G 作為下一代移動通信技術將定義 2030 年以後的國際經濟格局。倡議書認為，當前是強化政府、行業和學術界合作以保持美國未來領先優勢的關鍵時刻，呼籲國會和政府充分資助已有的 6G 法案，並啓動 6G 立法新進程，強化美國在無線技術創新領域的領導者地位。2023 年 6 月，美國和英國聯合發佈《二十一世紀美英經濟夥伴關係大西洋宣言》，宣佈將在 6G 等關鍵和新興技術領域加強合作，包括共同制定願景，深化在 5G 及 6G 解決方案領域的技術創新合作，推進聯合研發項目。</p><p><strong>2.2&nbsp; 歐盟</strong></p><p>歐盟設立 6G 相關研發項目，加大資金投入，積極推進 6G 研發。2017 年，歐盟便啓動了包括糾錯碼、信道編碼、調製技術在內的 6G 基礎技術研究項目。2018 年，芬蘭國家技術研究中心聯合奧盧大學、諾基亞公司等實施為期 8 年的 6G 旗艦項目，計劃總投資 2.9 億美元，研究內容為包含 6G 願景、挑戰、應用和技術方案在內的完整 6G 生態系統[5]。2020 年，歐盟推出了 2021—2027 年的科研資助框架「歐洲地平線」，開展包括下一代移動通信網絡在內的六大關鍵技術研究，並於 2021 年 1 月正式啓動 6G 旗艦項目 Hexa-X，該項目為期兩年半，項目整體由諾基亞負責，愛立信為技術負責單位，此外西門子、英特爾、法國電信 Orange、芬蘭阿爾託大學等在內的多家設備商、運營商及科研機構也參與其中。Hexa-X 項目包括智能連接、多網聚合、可持續性、全球服務覆蓋、極致體驗和安全性六大研究方向。2021 年 2 月，歐盟通過立法提案，由歐盟聯合私營企業資助設立「智能網絡和服務聯合夥伴」（Smart Network and Services Joint Undertaking，SNS-JU）項目，用於構建服務全歐洲的 6G 試驗性基礎設施。目前，該計劃已分別於 2022 年 10 月和 2023 年 1 月啓動了兩批次項目。此外，歐盟成立了 6G-IA 作為歐洲下一代移動通信網絡與業務研究的重要平台，6G-IA 在 5G 基礎設施公私合作伙伴關係（5G Infrastructure Public Private Partnership，5G-PPP）和 SNS-JU 中代表私營企業，歐盟則代表公共部門。6G-IA 匯聚了歐洲運營商、製造商、研究機構、垂直行業等多方參與者，組織開展面向超五代移動通信（Beyond 5G，B5G）及 6G 的技術研發、試驗驗證、標準研製、頻譜規劃等研究。</p><p><strong>2.3&nbsp; 日本</strong></p><p>日本政府通過推出相關政策和設立研究項目，立足產業優勢推動 6G 發展。2020 年 6 月，日本總務省發佈《Beyond 5G 推進戰略》，明確 6G 發展目標及研究開發、知識產權和標準化推進戰略。2020 年底，成立 B5G 推進聯盟以實現 B5G 標準和知識產權戰略及進一步增強日本在 B5G 領域的國際競爭力。2021 年 10 月，日本政府宣佈擬放寬 6G 頻段試驗牌照，簡化申請手續，縮短審批時間，並進一步放寬試驗頻段範圍，提升日本本土製造商國際競爭力。2023 年 3 月，日本總務省宣佈在情報通信研究機構（National Institute of Information and Communications Technology，NICT）設立信息通信研究開發基金，用於實施創新信息通信技術（Beyond 5G（6G））基金項目。該基金以成功開發下一代信息通信基礎設施、實現 30% 國際市場份額為目標，重點支持以下三類項目：一是對於具有技術優勢、有明確海外擴張戰略及計劃並且技術相對成熟（即在假設場景下已開發出初步原型樣機用於性能測試）的研發項目，基金最多可支持此類項目一半的總研發成本，即每個項目每年可獲數十億日元（原則上不超過 100 億日元）資金支持；二是對於處在研發早期階段（即技術處在概念形成及應用探索階段），需較長時間才能落地的項目，每年可支持 1 億日元（原則上不超過 10 億日元）；三是對於提升無線電頻譜效率的研發項目，每年資助資金則取決於項目規模[6]。</p><p><strong>2.4&nbsp; 韓國</strong></p><p>韓國以實現全球最早 6G 商用為目標，強化政府引導和產業帶動模式加速 6G 創新。韓國政府成立了由科學和信息通信技術部、運營商、設備企業、研究機構等組成的 6G 研發戰略委員會，該委員會將負責制定韓國 6G 相關研究項目，定期組織召開研討會以評估審查現有 6G 研發戰略中各子項計劃的進度，以及基於實際情況調整後續策略。2021 年 6 月，韓國科學和信息通信技術部宣佈將於 2025 年前投入 2 200 億韓元（約合人民幣 12.6 億元）用於加強韓國在未來的技術競爭力，研究領域包括研發 6G 關鍵技術、研製國際標準、夯實產業基礎三大戰略領域[7]。2022 年 11 月，韓國宣佈設立面向 6G 服務應用的商業化研究項目，計劃於 2026 年進行 6G 技術的早期商業化展示，並於 2027 年啓動 6G 早期商用網絡部署。2023 年 2 月，韓國發布「K-Network 2030」戰略，將原計劃 2026 年啓動的 6G 商業化項目提前至 2024 年，並投入 6 253 億韓元用於技術研發、產業基礎、人才培養等方面，推動韓國 6G 商用從 2030 年提前到 2028 年[8]。</p><h4><strong>3&nbsp; 我國 6G 發展情況</strong></h4><p>我國前瞻啓動 6G 研究，在政策文件、技術研究、標準推進、技術試驗等多方面採取有力舉措，紮實推動 6G 發展。在政策文件方面，2021 年 3 月至 12 月，我國先後發佈了《中華人民共和國國民經濟和社會發展第十四個五年規劃和 2035 年遠景目標綱要》《「十四五」信息通信行業發展規劃》《「十四五」數字經濟發展規劃》《「十四五」國家信息化規劃》[9-11]，提出要「前瞻佈局 6G 網絡技術儲備」「開展 6G 基礎理論及關鍵技術研發，構建 6G 願景、典型應用場景和關鍵能力指標體系，鼓勵企業深入開展 6G 潛在技術研究」「積極參與 6G 標準研究，形成一批 6G 核心研究成果」「前瞻佈局第六代移動通信（6G）網絡技術儲備，加大 6G 技術研發支持力度，積極參與推動 6G 國際標準化工作」「加強新型網絡基礎架構和 6G 研究，加快地面無線與衞星通信融合、太赫茲通信等關鍵技術研發」。</p><p>2019 年 6 月，我國工業和信息化部會同國家發展和改革委員會、科學技術部指導產業界成立了 IMT-2030（6G）推進組（簡稱「6G 推進組」），作為我國推進 6G 發展的主要產業平台，聯合產、學、研、用各方力量在 6G 願景需求、技術研發、試驗驗證、國際合作等方面持續推動 6G 發展。在願景需求研究方面，6G 推進組先後發佈《6G 總體願景與潛在關鍵技術白皮書》等[12-13]，提出 6G 總體願景、典型場景、關鍵能力指標，展現產業界對 6G 發展目標如何發展的階段性思考，凝聚業界關於 6G 發展的廣泛共識。ITU 於 2023 年 6 月召開第 44 次會議，完成《IMT 面向 2030 及未來發展的框架和總體目標建議書》，我國提出的 5 類典型場景和 14 項關鍵能力指標等核心研究成果成功納入其中[2]。技術研究方面，6G 推進組聯合產業界開展系統整體架構、新型無線技術、新型網絡技術等 6G 潛在關鍵技術研究，持續發佈系列研究報告，有力推動形成 6G 創新發展共識。2022 年 8 月，6G 推進組啓動 6G 技術試驗，針對太赫茲通信、通信感知一體化、智能超表面 3 項無線關鍵技術和算力網絡、分佈式自治網絡 2 項網絡關鍵技術開展測試。2022 年 11 月，啓動面向 6G 的關鍵技術全球徵集，針對技術跨域融合發展趨勢帶來的 6G 技術創新難度大、更新速度快等挑戰，面向全球高等院校、科研院所、科技企業、推進組織等開展 6G 潛在關鍵技術徵集。同時，積極參與 ITU 相關研討會,輸出我國 6G 研究成果，支撐 ITU 完成面向 2030 及未來 IMT 技術趨勢的報告，推動我國技術研究納入 6G 總體框架，助力全球 6G 技術產業發展。在國際交流合作方面，6G 推進組已與歐洲 6G-IA 和韓國 5G 論壇等產業組織簽署了合作意向，在 6G 願景需求、技術研究等領域開展合作，共同發佈研究成果。2022 年 6 月，6G 推進組與 6G-IA 簽署 6G 合作備忘錄。2023 年 5 月，6G 推進組與 6G-IA 共同舉辦線上 6G 主題研討會，雙方代表就 6G 願景需求、技術趨勢等熱點議題進行了深入交流。</p><h4><strong>4&nbsp; 結束語</strong></h4><p>當前，移動通信產業發展如火如荼，有助於全球經濟和社會可持續發展。未來，可以從以下幾方面加強技術研究和產業研發。</p><p>一是立足 5G 基礎推動 6G 發展。移動通信產業發展代際演進明顯，6G 的發展離不開 5G 的堅實基礎。當前正處在 5G 規模應用和 5G-A 標準制定的關鍵時期，一方面，要進一步凝聚產業力量，特別是垂直行業的力量，深挖產業需求，加快推動 5G 在生產生活關鍵領域的深入融合應用；另一方面，要繼續強化 5G-A 關鍵技術研究和標準推進，持續打造良好產業生態，為 6G 發展築牢基礎。</p><p>二是強化 6G 潛在關鍵技術研究。產業代際演進的核心動力是關鍵技術的突破，面臨跨域融合的技術發展趨勢。要積極發揮產業推進平台作用，持續開展面向 6G 的關鍵技術徵集活動，匯聚產、學、研、用各方面力量，從基礎技術、原創技術、應用技術等多個角度推動 6G 理論創新和工程實現取得突破；同時，要注重發揮技術試驗承擔「研」與「產」之間橋樑的作用，用好橫向對比和縱向突破，推動技術不斷迭代成熟，加速技術產業化。</p><p>三是深化國際交流合作。歷經數十年發展，移動通信的蓬勃健康發展離不開全球產業界的共同努力。要不斷深化 6G 技術、標準、市場等領域交流合作與協同創新。一方面鼓勵與國際產業組織、科研院所等共同開展 6G 研究項目，互相參與試驗驗證，積極參與 ITU、3GPP 等國際標準化組織的技術和標準化交流活動，深化全球 6G 創新共識；另一方面積極召開全球 6G 發展大會等活動，邀請國內外專家分享最新研究成果，推動技術研究和產業發展不斷取得更廣泛共識。</p><h4><strong>作者簡介</strong></h4><blockquote><p style="margin-left:0; margin-right:0"><strong><span style="color:#3e3e3e">杜劉通</span></strong><strong><span style="color:#3e3e3e">&nbsp;&nbsp;</span></strong></p><p>中國信息通信研究院移動通信創新中心工程師，博士，主要從事 5G、6G 技術產業研究等方面的研究工作。</p><p style="margin-left:0; margin-right:0"><strong><span style="color:#3e3e3e">徐曉燕&nbsp; &nbsp;</span></strong></p><p>通信作者。中國信息通信研究院移動通信創新中心高級工程師，博士，主要從事面向 6G 的技術預研、ITU 相關標準化活動等方面的研究工作。</p><p style="margin-left:0; margin-right:0"><strong><span style="color:#3e3e3e">杜瀅&nbsp;&nbsp;</span></strong></p><p>中國信息通信研究院移動通信創新中心副主任，教授級高級工程師，主要從事無線移動通信技術和標準等方面的研究工作。</p><p style="margin-left:0; margin-right:0"><strong><span style="color:#3e3e3e">魏克軍&nbsp; &nbsp;</span></strong></p><p>中國信息通信研究院移動通信創新中心副總工程師，教授級高級工程師，主要從事無線移動通信技術等方面的研究工作。</p><p style="margin-left:0; margin-right:0"><strong><span style="color:#3e3e3e">金彎彎&nbsp; &nbsp;</span></strong></p><p>中國人民大學經濟學院本科生在讀，主要從事信息通信行業產業經濟政策等方面的研究工作。</p></blockquote></div>
                                    ]]>
            </description>
            <pubDate>Fri, 03 Nov 2023 03:06:46 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/264732</guid>
            <link>https://www.oschina.net/news/264732</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Arm 投資樹莓派]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>Arm <u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fnewsroom.arm.com%2Fnews%2Fraspberry-pi-investment" target="_blank">宣佈</a></u>已對樹莓派 (Raspberry Pi) 進行戰略投資，並收購了後者的少部分股權，進一步擴大兩家公司之間的長期合作伙伴關係，攜手為物聯網開發者社區提供關鍵解決方案。</p><blockquote><p><img src="https://static.oschina.net/uploads/space/2023/1103/103538_1Bm3_2720166.png" referrerpolicy="no-referrer"></p></blockquote><p>Arm 表示，這項投資進一步鞏固了自 2008 年開始的合作伙伴關係，並見證了許多基於 Arm 的熱門樹莓派產品的發佈，而樹莓派最新一代旗艦產品 <a href="https://www.oschina.net/news/259858/introducing-raspberry-pi-5">Raspberry Pi 5 已於 10 月底上市</a>。</p><p>Arm 物聯網業務線高級副總裁兼總經理 Paul Williamson 表示：「隨着邊緣和端點人工智能應用的快速增長，基於 Arm 的平台（如樹莓派）對於推動全球高性能物聯網設備的採用至關重要，因為它們使開發人員能夠更快、更輕鬆地進行創新。這項戰略投資進一步證明瞭我們對開發者社區的持續承諾，以及我們與樹莓派的合作關係。」</p><p>樹莓派首席執行官 Eben Upton 表示：Arm 技術一直是我們創建的平台的核心，而這項投資是我們長期合作關係的重要里程碑。</p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 03 Nov 2023 02:40:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/264730/arm-raspberry-pi-investment</guid>
            <link>https://www.oschina.net/news/264730/arm-raspberry-pi-investment</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[谷歌宣佈「移動優先索引」工作已完成]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>Google 搜索的博客<u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdevelopers.google.com%2Fsearch%2Fblog%2F2023%2F10%2Fmobile-first-is-here" target="_blank">近日更新的文章稱</a></u>，<span style="background-color:rgba(255, 255, 255, 0.65); color:#000000">七年前開始的<strong>移動優先索引&nbsp;</strong></span><strong>(Mobile-FirstIndexing) </strong>工作<span style="background-color:rgba(255, 255, 255, 0.65); color:#000000">現已完成。</span></p><blockquote><p><img src="https://static.oschina.net/uploads/space/2023/1102/184543_fsMq_2720166.png" referrerpolicy="no-referrer"></p></blockquote><p>Google 在 6 年半前就開始採用移動優先索引，在發佈了一個又一個截止日期後，Google 最終取消了截止日期。</p><p>2016 年 11 月，Google 首次推出了移動優先索引。到 2018 年 12 月，Google 搜索結果中的一半網站都來自移動優先索引。簡單地説，移動優先索引就是 Google 將從移動瀏覽器的視角抓取你的網站，並使用該移動版本進行索引和排名。</p><p>Google 在 2020 年 3 月初，宣佈所有網站切換到移動優先索引的截止日期為 2020 年 9 月。當時 Google 表示："為了簡化，我們將從 2020 年 9 月開始對所有網站切換到移動優先索引。隨後在 2020 年 7 月，Google 再次將最後期限推遲到 2021 年 3 月。"</p><p>但在今年 5 月份，Google 事實上已經完成了網站移動索引的切換，但直到現在才正式宣佈。Google 將減少傳統桌面 Googlebot 的抓取次數。</p><p>Google 解釋説，「有一小部分網站根本無法在移動設備上運行，這些網站主要是頁面向所有移動用户顯示錯誤，移動版網站被 robots.txt 屏蔽，而桌面版網站允許抓取，或者移動網站上的所有頁面都重定向到主頁。」</p><p>Google 表示，這類問題是搜索引擎無法解決的，目前將繼續嘗試用我們傳統的桌面版 Googlebot 爬蟲抓取這些網站，並將每年對名單進行幾次重新評估。</p><p>Search Console 的變化方面，Google 宣佈將關閉 Google 搜索控制枱設置頁面中的索引爬蟲信息。Google 解釋説："由於所有在移動設備上運行的網站現在都主要由我們的移動爬蟲抓取，因此不再需要這些信息。"</p><p>由於移動優先索引現在已經真正完成，這意味着 Google 很快將完全停止通過其傳統的桌面爬蟲進行抓取。</p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 02 Nov 2023 10:51:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/264670/mobile-first-is-here</guid>
            <link>https://www.oschina.net/news/264670/mobile-first-is-here</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[谷歌：正在完善 Android 中的 RISC-V 支持]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="color:#000000">谷歌曾在 2022 年 11 月的 RISC-V 峯會上宣佈已開始接受 RISC-V 補丁。一年後的現在，該公司則表示其正在完善 Android 中對 RISC-V 的支持。「我們的最新更新是，現在我們不僅接受補丁，而且還開始在 Android 中成熟地支持 RISC-V。」</span></p><p><span style="color:#000000">負責 Android 平台編程語言的 Lars Bergstrom 和負責低級操作系統的 Greg Simon <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fopensource.googleblog.com%2F2023%2F10%2Fandroid-and-risc-v-what-you-need-to-know.html" target="_blank">在博客中表示</a>，他們已經確定了一組關鍵的擴展（包括 rva22 配置文件和矢量/加密擴展），以確保運行 RISC-V 的 CPU 具有高性能。</span></p><p><span style="color:#000000">開發人員現在可以在自己的計算機上構建、測試和運行對 RISC-V 的 Android 支持。可以使用 Cuttlefish 虛擬設備支持：</span></p><pre><code>$ lunch aosp_cf_riscv64_phone-userdebug
$ m -j
$ launch_cvd -cpus=8 -memory_mb=8192</code></pre><p><span style="color:#000000">然後可以使用 vncviewer 連接到正在運行的設備並進行交互。</span></p><p><span style="color:#000000"><img alt="" height="278" src="https://oscimg.oschina.net/oscnet/up-f4e707629f0afb6b046e5c2c412f90a99fd.gif" width="500" referrerpolicy="no-referrer"></span></p><p><span style="color:#000000">目前，這些補丁將支持構建和運行基本的 Android 開源項目體驗，但尚未完全優化。例如，針對 Android Runtime (ART) 的完全優化後端工作仍在進行中。此外，AOSP、外部項目和編譯器還沒有生成經過全面優化的精簡代碼，這些代碼也沒有利用最新批准的擴展（如向量擴展）。但谷歌方面表示，他們相信<span style="background-color:#ffffff">該平台已經為實驗和協作做好了準備。</span></span></p><p><span style="color:#000000">展望未來，<span style="background-color:#ffffff">該公司的目標是在今年年底最終確定 NDK ABI，以及在 Android 的公共 CI 上提供金絲雀構建；同時提供 x86-64 和 ARM64 上的 RISC-V，以便在主機上更輕鬆地測試 riscv64 Android 應用程序。</span></span></p><p><span style="color:#000000"><span style="background-color:#ffffff">到 2024 年，他們則計劃推出公開可用的模擬器</span><span style="background-color:#ffffff">；</span><span style="background-color:#ffffff">具有完整的功能集，可以測試各種設備外形尺寸的應用程序。</span>「<span style="background-color:#ffffff">正如我們最近與高通公司合作宣佈的那樣，我們預計可穿戴設備將成為第一個可用的形式因素</span>」。本月早些時候，高通曾宣佈正在與谷歌合作開發&nbsp;RISC-V Wear OS 芯片。</span></p><p><span style="color:#000000">不僅限於 <span style="background-color:#ffffff">Android 操作系統</span>，谷歌方面還透露其正在與社區和 RISE（RISC-V 軟件生態系統）積極合作。並表示，接下來將繼續並擴大對 RISC-V International 的投資。「Android 對 RISC-V 的支持依賴於從工具鏈到基本支持庫的廣泛貢獻。我們非常感謝無數項目為支持 RISC-V 構建配置和高質量實施所做的不懈努力。」</span></p><p><span style="color:#000000">RISE 項目的成立旨在為運行高級操作系統的高性能、高能效 RISC-V 處理器內核提供一種加速軟件可用性的方法，不僅包括 Android，還包括 Linux 和其他操作系統，涉及高性能計算等多個應用領域。RISE 項目的成員包括 Andes、谷歌、英特爾、Imagination Technologies、聯發科、英偉達、高通技術、紅帽、Rivos、三星、SiFive、T-Head 和 Ventana。</span></p><p><span style="color:#000000">有興趣為 Android 中的 RISC-V 支持做出貢獻的開發人員可以</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgoogle%2Fandroid-riscv64" target="_blank">在 GitHub 上</a><span style="color:#000000">找到有關構建和測試的詳細信息。谷歌鼓勵開發者社區的參與，以進一步增強該平台。</span></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 02 Nov 2023 10:35:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/264668/android-and-risc-v</guid>
            <link>https://www.oschina.net/news/264668/android-and-risc-v</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[OpenFunction 1.2.0 發佈：集成 KEDA http-addon 作為同步函數運行時]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FOpenFunction%2FOpenFunction" target="_blank">OpenFunction</a> 是一個開源的雲原生 FaaS（Function as a Service，函數即服務）平台，旨在幫助開發者專注於業務邏輯的研發。我們非常高興地宣佈 OpenFunction 又迎來了一次重要的更新，即 v1.2.0 版本的發佈！</p><p>本次更新中，我們繼續致力於為開發者們提供更加靈活和強大的工具，並在此基礎上加入了一些新的功能點。該版本集成了 KEDA http-addon 作為同步函數運行時；支持在啓用 SkyWalking 跟蹤時添加環境變量；支持記錄構建時間等。此外，還升級了部分組件及修復了多項 bug。</p><p>以下是該版本更新的主要內容：</p><h2>集成 KEDA http-addon 作為同步函數運行時</h2><p>KEDA http-addon 是一個 KEDA 的附加組件，它可以根據 HTTP 流量的變化自動地調整 HTTP 服務器的規模（包括從零開始擴容和縮容到零）。</p><p>KEDA http-addon 的工作原理是，它會在 Kubernetes 集羣中創建一個名為 Interceptor 的組件，用來接收所有的 HTTP 請求，並將請求轉發給目標應用。同時，它會將請求隊列的長度報告給一個名為 External Scaler 的組件，用來觸發 KEDA 的自動擴縮容機制。這樣，你的 HTTP 應用就可以根據實際的流量需求動態地調整副本數。</p><p>在 OpenFunction v1.2.0 版本中，我們集成了 KEDA http-addon 作為同步函數運行時的一種選擇。這意味着，你可以使用 OpenFunction 來創建和管理基於 HTTP 的函數，並利用 KEDA http-addon 的能力來實現高效且靈活的彈性伸縮。你只需在創建 Function 資源時指定 <code>serving.triggers[*].http.engine</code> 的值為 keda ，並且在 <code>serving.scaleOptions</code> 中配置 <code>keda.httpScaledObject</code> 相關參數，就可以部署和運行你的 HTTP 函數了。</p><h2>支持在啓用 SkyWalking 跟蹤時添加環境變量</h2><p>SkyWalking 是一個開源的應用性能監控（APM）系統，它可以幫助你觀察和分析你的應用在不同環境中的運行狀況。OpenFunction 支持在部署函數時啓用 SkyWalking 跟蹤，以便你可以更好地理解和優化你的函數性能。</p><p>在 OpenFunction v1.2.0 版本中，我們增加了一個新的功能，即支持在啓用 SkyWalking 跟蹤時添加環境變量。這樣，你可以在創建 Function 資源時指定一些自定義的環境變量來控制 SkyWalking 的一些配置參數。這些環境變量會被傳遞給函數容器，並影響 SkyWalking 的採集和上報行為。</p><h2>當 Function、Builder 和 Serving 狀態變化時支持記錄事件</h2><p>事件（Event）是 Kubernetes 中一種重要的資源類型，它可以記錄集羣中發生的一些重要或者有趣的事情。事件可以幫助用户和開發者瞭解集羣中資源的狀態變化和異常情況，並採取相應的措施。</p><p>在 OpenFunction v1.2.0 版本中，我們支持當 Function、Builder 和 Serving 狀態變化時記錄事件。這樣，你可以通過查看事件來獲取更多關於函數構建和運行過程中發生的事情的信息。例如，你可以看到函數構建開始、結束、失敗等事件；函數運行時創建、更新、刪除等事件。</p><h2>其他的改進和優化</h2><p>除了上述的主要變化，該版本還有以下更改和增強：</p><ul><li>升級了 KEDA 到 v2.10.1 ，HPA（自動伸縮）API 版本到 v2 ，提高了穩定性和兼容性</li><li>支持記錄構建時間，以便你可以瞭解函數構建的耗時情況</li><li>調整了 CI 流程，修復了一些小問題</li><li>修復了一個在 keda http-addon 運行時中的 bug ，該 bug 會導致函數無法正常運行</li><li>升級了 charts 中的一些組件，包括 keda ，dapr 和 contour ，以保持最新的版本和功能</li></ul><p>以上就是 OpenFunction v1.2.0 的主要功能變化，在此十分感謝各位貢獻者的參與和貢獻。</p><p>瞭解更多關於 OpenFunction 和本次版本更新的信息，歡迎訪問我們的官方網站和 Github 頁面。</p><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fopenfunction.dev%2F" target="_blank">官網</a>：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fopenfunction.dev%2F" target="_blank">https://openfunction.dev/</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FOpenFunction%2FOpenFunction%2Freleases%2Ftag%2Fv1.2.0" target="_blank">Github</a>：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FOpenFunction%2FOpenFunction%2Freleases%2Ftag%2Fv1.2.0" target="_blank">https://github.com/OpenFunction/OpenFunction/releases/tag/v1.2.0</a></li></ul><blockquote><p>本文由博客一文多發平台 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fopenwrite.cn%3Ffrom%3Darticle_bottom" target="_blank">OpenWrite</a> 發佈！</p></blockquote></div>
                                    ]]>
            </description>
            <pubDate>Thu, 02 Nov 2023 06:01:00 GMT</pubDate>
            <guid isPermaLink="false">https://my.oschina.net/u/4197945/blog/10140452</guid>
            <link>https://my.oschina.net/u/4197945/blog/10140452</link>
            <author>
                <![CDATA[原創]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Mozilla 計劃移除 Firefox 中的 Theora 支持]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="color:#000000">繼谷歌<a href="https://www.oschina.net/news/263239/chrome-remove-theora-support">計劃</a>從 Chrome/Chromium 瀏覽器中移除對 Theora 編解碼器格式的支持之後，Mozilla 也計劃採取類似舉措，逐步將 Theora 從 Firefox 中淘汰。</span></p><p><span style="color:#000000">目前，Theora 約佔 Firefox 媒體資源負載的約 0.09%。開發者 Paul Adenot 指出，擁有大量 Theora 內容的大型服務（如維基百科）已不再使用 Theora，而是使用更現代的編解碼器。事實上，大多數 Web 服務早已從 Theora 轉向 VP9 和 AV1 等更好的替代品，Theora 如今的使用率已經變得很低。</span></p><p><img height="292" src="https://oscimg.oschina.net/oscnet/up-5fc9ddca26e00a210b18198e0b2f1969b65.png" width="700" referrerpolicy="no-referrer"></p><p><span style="color:#000000">其起草的計劃是在 Firefox Nightly&nbsp; 中禁用 Theora 支持，添加一點遙測技術來跟蹤是否有任何 Theora 加載嘗試發生；然後等待幾個 Firefox 的發佈週期，再在測試階段將其移除，最後繼續從 Firefox 中移除 Theora 支持。</span></p><ul><li><span style="color:#000000">在 Firefox Nightly 中禁用 Theora，修復大量依賴 Theora 的測試，在合理的情況下將測試向量轉換為 vp9 等，否則刪除測試。刪除 Theora 意味着 Firefox 中不再有 OGG 視頻編解碼器，並且還簡化了 OGG 解碼器。</span></li><li><span style="color:#000000">添加一些遙測功能，在以下情況下進行 pings back：</span><ul><li><span style="color:#000000">媒體加載失敗 —— 唯一的源是包含 Theora 音軌的媒體</span></li><li><span style="color:#000000">媒體加載成功，但 HTMLMediaElement 有多個 &lt;source&gt; 且 Theora 源高於最終選中的源列表</span></li></ul></li><li><span style="color:#000000">再等待幾個週期，也許可以將其擴展到「early beta」，類似於測試版週期的前 3 個或第 4 個測試版。</span></li><li><span style="color:#000000">如果一切順利，在 Chromium 穩定版發佈的同一時間棄用該版本。</span></li></ul><p><span style="color:#121212">更多詳情可查看<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fbugzilla.mozilla.org%2Fshow_bug.cgi%3Fid%3D1860492" target="_blank">此處</a>。</span></p><p><strong><span style="color:#121212">相關閲讀：</span></strong></p><ul><li style="text-align:start"><a href="https://www.oschina.net/news/263239/chrome-remove-theora-support" target="_blank">Chrome 將移除 Theora 支持</a></li></ul></div>
                                    ]]>
            </description>
            <pubDate>Thu, 02 Nov 2023 03:34:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/264570/firefox-investigate-removing-theora-support</guid>
            <link>https://www.oschina.net/news/264570/firefox-investigate-removing-theora-support</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Redis 創始人用 C 語言編寫最小聊天服務器：Smallchat]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>Redis 創始人 antirez 用純 C 語言代碼寫了一個聊天服務器的最小編程示例：Smallchat。</p><p><img height="1662" src="https://static.oschina.net/uploads/space/2023/1102/110119_qGgj_2720166.png" width="3050" referrerpolicy="no-referrer"></p><p><em>Smallchat 源代碼已託管至 GitHub：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fantirez%2Fsmallchat" target="_blank">https://github.com/antirez/smallchat</a></em></p><p>可以看到，Smallchat 的核心代碼僅 300 多行。antirez 稱刪除空行和註釋後其實只有 200 多行。</p><p><img height="524" src="https://static.oschina.net/uploads/space/2023/1102/110146_uksl_2720166.png" width="1406" referrerpolicy="no-referrer"></p><p>antirez&nbsp;表示，編寫這個示例是為了幫助他的前端開發朋友瞭解系統編程知識，比如單個進程執行多路複用、獲取客户端狀態，並在客户端擁有新數據後嘗試快速訪問此類狀態，等等。</p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 02 Nov 2023 03:07:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/264564</guid>
            <link>https://www.oschina.net/news/264564</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[蘋果 M3、M3 Max 芯片首個 Geekbench 跑分出爐]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>iMac 2023 已經出現在了 Geekbench 上。這款 iMac 搭載了 4.05 GHz 的<strong>基礎版 M3 芯片</strong>，配備 16GB 內存，運行 macOS 14.1，單核最高 3076 分，多核 11863 分。</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-966efdd0f8e637293209051e4e7778eb47d.png" referrerpolicy="no-referrer"></p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-9e898b0752bd8dd21c976fd8a07c2fa8397.png" referrerpolicy="no-referrer"></p><p>作為對比，目前 Geekbench 中收錄的 Mac 單核最高分為 Mac Studio (2023) 的 2803 分<strong>（M2 Max）</strong>，多核為 21316 分<strong>（M2 Ultra）</strong>。</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-d660971c507ccf85d086bf70470a9bad4be.png" referrerpolicy="no-referrer"></p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-c8c00a499453f65a78223339cd941c947bd.png" referrerpolicy="no-referrer"></p><hr><p>M3 Max 的 Geekbench 初步跑分結果顯示，16 英寸 MacBook Pro 與配備 M2 Ultra 的 Mac Studio 不相上下。</p><p>配備 M3 Max 的 16 英寸 MacBook Pro 要到 11 月中旬才能與用户見面，但已經有人開始進行基準測試。初步結果顯示，蘋果的 M3 系列的高階型號性能進步驚人。</p><blockquote><p><em>via&nbsp;<u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fbrowser.geekbench.com%2Fsearch%3Fq%3Dm3%2Bmax" target="_blank">https://browser.geekbench.com/search?q=m3+max</a></u></em></p></blockquote><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-2edfd240050d6e885d3408299f3a04622c2.png" referrerpolicy="no-referrer"></p><p>在 GeekBench 跑分庫上，搭載 M3 Max 芯片的設備標識符為 Mac15,9，目前共有 4 條信息，其中一條單核成績跑分為 2943 分，多核為 21084 分。</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-4930b3391b64b1d8b89c8a69491dafe7e6e.png" referrerpolicy="no-referrer"></p><p>相比較而言，搭載 M2 Ultra 的 Mac Studio 單核得分為 2692 分，多核得分為 21231 分。以上述多核成績最高的一條進行比較，<strong>M3 Max 單核比 M2 Ultra 高 9%，多核僅低 0.6%。</strong></p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-5c4d0ffb64990a9490c6f696fa881992046.png" referrerpolicy="no-referrer"></p><hr><p>Geekbench 等基準測試工具提供的分數是比較性能指標的簡單參考點。由於環境、温度、電池壽命、後台任務等因素的影響，不同硬件在運行時分數會略有波動。</p><p>此外，Geekbench 也無法測試特定的硬件系統，如媒體引擎、硬件光線追蹤支持、動態緩存或加速網格映射。更廣泛的實際測試數據將揭示 M3 Max 到貨後的實際性能表現。</p><p><strong>相關閲讀：<u><a href="https://www.oschina.net/news/264233/apple-m3-silicon">蘋果發佈 M3 系列芯片，採用 3nm 工藝、支持「動態緩存」技術</a></u></strong></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 02 Nov 2023 02:43:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/264561</guid>
            <link>https://www.oschina.net/news/264561</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[DoltgreSQL 發佈，基於 Git 的 PostgreSQL]]>
            </title>
            <description>
                <![CDATA[<div class="content"><blockquote><p>DoltSQL 的工作原理是模擬 PostgreSQL 服務器，並將接收到的命令轉換為交給底層 Dolt 服務器的 AST。</p></blockquote><p>Dolt 是一個基於 Git 協議的開源 SQL 數據庫，「版本控制的數據庫」，使用 Golang 語言編寫。首先它和 MySQL 關係型數據庫一樣，用於存儲和管理數據，具有表、視圖等概念，支持數據的增刪改查等操作。它還提供了一個命令行工具，完美支持所有的 Git 命令，允許用户像使用一個 git 倉庫一樣對數據進行 fork、clone、branch、merge、push 和 pull 等操作。</p><p>Dolt 可以替代 MySQL，因為它實現了 MySQL 的語法和線協議，但它並不包含任何 MySQL 的代碼，因為解決數據庫版本控制問題的複雜性和挑戰需要定製的解決方案。目前 Dolt 也已經準備好投入生產。</p><p><img height="920" src="https://static.oschina.net/uploads/space/2023/1102/183217_nsBr_3820517.png" width="1636" referrerpolicy="no-referrer"></p><p>而當前發佈的 DoltSQL 是對 PostgreSQL 的支持。DoltSQL 的工作原理是模擬 PostgreSQL 服務器，並將接收到的命令轉換為交給底層 Dolt 服務器的 AST。這使得能夠快速啓動並運行，同時利用 Dolt 已經提供的特性。DoltSQL 團隊解決，在採取這種方法之前，考察了很多其它方法，從編寫外部數據包裝器，到為 PostgreSQL 構建新的存儲後端，甚至是分叉 PostgreSQL 本身。但許多方法都無法完全支持版本控制功能，而其它方法（如分叉 PostgreSQL）可能需要數年的開發時間。</p><p>使用方式：</p><ol><li><p>Download the <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fdolthub%2Fdoltgresql%2Freleases" target="_blank"><strong>latest release</strong></a></p></li><li><p>Put the binary on your PATH.</p></li><li><p>Navigate to a directory you want your database data stored (eg. <code>~/doltgresql</code>).</p></li><li><p>Run <code>doltgres</code>. This will create a <code>doltgres</code> user and a <code>doltgres</code> database.</p></li><li><p>Open a new terminal. Connect with the following command: <code>psql -h localhost -U doltgres</code>. This will connect to the <code>doltgres</code> database with the <code>doltgres</code> user.</p></li><li><p>Run <code>CREATE TABLE example (pk INT8 PRIMARY KEY);</code>&nbsp;運行 <code>CREATE TABLE example (pk INT8 PRIMARY KEY);</code></p></li></ol><p>詳情查看：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.dolthub.com%2Fblog%2F2023-11-01-announcing-doltgresql%2F" target="_blank">https://www.dolthub.com/blog/2023-11-01-announcing-doltgresql</a></p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 01 Nov 2023 10:30:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/264666/announcing-doltgresql</guid>
            <link>https://www.oschina.net/news/264666/announcing-doltgresql</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[macOS Sonoma 中的 grep 命令被損壞]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>蘋果開發者論壇上的一則帖子<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdeveloper.apple.com%2Fforums%2Fthread%2F738862" target="_blank">寫道</a>：</p><blockquote><p>macOS Sonoma 中的 grep 命令遭到了損壞，具體情況是出現<strong>斷言失敗 (Assertion Fails) 問題</strong>。</p><p>目前在新版系統中，macOS 上最新的<code>grep</code><strong>會索引到當前字符串超出的範圍</strong>，由於<code>grep</code>終止了當前行緩衝區帶有一個額外的空字符（不是原始輸入文件的一部分），所以它恰好觸發了<code>assert</code>來檢查當前字符（在字符串之外）有多少字節寬。</p><p><img src="https://static.oschina.net/uploads/space/2023/1102/180554_3aG1_2720166.png" referrerpolicy="no-referrer"></p><p><em><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdeveloper.apple.com%2Fforums%2Fthread%2F738862" target="_blank">https://developer.apple.com/forums/thread/738862</a></em></p></blockquote><p>這名發帖者表示，macOS 工程師原本是試圖修復一個錯誤，沒想到卻破壞了另一個正常的功能 —— grep 命令。</p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 01 Nov 2023 10:17:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/264665</guid>
            <link>https://www.oschina.net/news/264665</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[計算流體力學 (CFD) 開源軟件精選合集]]>
            </title>
            <description>
                <![CDATA[計算流體力學 (CFD) 開源軟件精選合集]]>
            </description>
            <pubDate>Wed, 01 Nov 2023 04:08:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/project/awesome?columnId=17</guid>
            <link>https://www.oschina.net/project/awesome?columnId=17</link>
        </item>
        <item>
            <title>
                <![CDATA[搭建高效推薦系統]]>
            </title>
            <description>
                <![CDATA[<div class="content"><div class="rich_media_content js_underline_content
                       autoTypeSetting24psection
            " id="js_content"><p style="margin-bottom: 0px;"><img class="rich_pages wxw-img" data-ratio="0.3220338983050847" data-s="300,640" src="https://oscimg.oschina.net/oscnet/07d405a0-fa42-41fe-9e0e-93ef7f5df2f0.png" data-type="png" data-w="708" style="" referrerpolicy="no-referrer"></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><span style="font-family: PingFangSC-light;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(0, 0, 0);font-size: 15px;overflow-wrap: break-word !important;">如何搭建一個高效的推薦系統？</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">簡單來説，現代推薦系統由訓練/推理流水線（pipeline）組成，涉及數據獲取、數據預處理、模型訓練和調整檢索、過濾、排名和評分相關的超參數等多個階段。走遍這些流程之後，推薦系統能夠給出高度個性化的推薦結果，從而提升產品的用户體驗。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">為了方便大家對此進行深入瞭解，我們邀請到 NVIDIA Merlin 團隊，他們將詳細介紹推薦系統的上述多個階段的工作流程，以及推薦系統在電商、流媒體、社交媒體等多個行業領域的實踐和用例。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="color: rgb(20, 114, 255);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 32px;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);outline: 0px;">01.</strong></span></p><span id="OSC_h1_1"></span><h1 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;visibility: visible;font-size: 18px;box-sizing: border-box !important;overflow-wrap: break-word !important;">NVIDIA Merlin</span></strong><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;visibility: visible;font-size: 18px;box-sizing: border-box !important;overflow-wrap: break-word !important;"> &amp; Milvus</span></strong></h1><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">推薦系統 pipeline 中至關重要的一環便是為用户檢索並找到最相關的商品。為了實現這一目標，通常會使用低維向量（embedding）表示商品，使用數據庫存儲及索引數據，最終對數據庫中數據進行近似最近鄰（ANN）搜索。這些向量表示是通過深度學習模型獲取的，而這些深度學習模型基於用户和產品或服務之間的交互進行訓練。使用計算機視覺算法或語言模型，還可以從各種數據模態（例如圖像、視頻或產品與用户的文本描述）中生成向量表示。獲取向量表示後便迎來關鍵步驟——對數十萬甚至數百萬/數十億的向量嵌入數據集（例如電商庫存產品 embedding）進行高效的 top-k（即 k 個最相似）搜索。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">NVIDIA Merlin （</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">https://github.com/NVIDIA-Merlin）</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 是一個開源框架，用於訓練端到端模型，從而為各類規模的數據生成推薦，輕鬆集成高效的向量數據庫索引和搜索框架。而 Milvus 作為大模型時代備受關注的向量數據庫可以提供高效索引和查詢功能。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">最近，<strong>Milvus&nbsp;（</strong>https://zilliz.com/what-is-milvus）新增</span><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">支持 NVIDIA </span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">GPU 加速&nbsp;</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">https://github.com/milvus-io/milvus/releases/tag/v2.3.0</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">，可提升查尋的併發和速度，這對於現代推薦系統十分有用。截至 2023 年 10 月，Milvus 獲得了 689 萬次 docker pull 及 2.3 萬顆 GitHub Star，被業界<strong>廣泛應用 </strong>https://zilliz.com.cn/blog?tag=4。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">接下來，我們將演示 Milvus 如何與 Merlin RecSys 框架集成、Milvus 如何在項目檢索階段與高效的 top-k 向量搜索技術相結合以及如何在推斷時使用 NVIDIA Triton Inference Server (TIS)。根據 NVIDIA 性能測試結果顯示：使用 Merlin 模型生成向量並使用 GPU 加速版的 Milvus 可以將搜索速度提升 37 至 91 倍。我們使用的 <strong>Merlin-Milvus 集成代碼和詳細性能測試結果</strong>均可在 （https://github.com/bbozkaya/merlin-milvus/tree/main）處獲取。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><img class="rich_pages wxw-img" data-height="596" data-ratio="0.4685185185185185" src="https://oscimg.oschina.net/oscnet/5f8b2f72-9e1d-4427-b54b-f5824a280393.png" data-type="png" data-w="1080" data-width="1272" referrerpolicy="no-referrer"></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: left;overflow-wrap: break-word !important;"><span style="font-size: 14px;"><strong><span style="font-size: 14px;outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;font-family: system-ui, Pingfang-SC, sans-serif;visibility: visible;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">圖 1｜Milvus 框架為多階段推薦系統的檢索階段做出貢獻。（原始多階段圖的來源：https://medium.com/nvidia-merlin/recommender-systems-not-just-recommender-models-485c161c755e）</span></strong></span></p><h1 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></h1><ul class="list-paddingleft-1" style="list-style-type: square;"><li><span id="OSC_h1_2"></span><h1 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="font-size: 15px;"><strong><span style="font-size: 15px;outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">挑戰</span></strong></span></h1></li></ul><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">由於推薦系統具備的多階段的性質以及各種組件和庫的可用性問題，其主要挑戰就是在端到端流程中無縫集成所有組件，因此我們的目標是在示例 notebook 中儘可能簡化集成工作。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">另一個挑戰是加速整個推薦流程。雖然加速在訓練大型神經網絡中扮演着重要的角色，但 GPU 是在近期才被添加到向量數據庫和 ANN 搜索領域中的。隨着電商庫存產品、流媒體等數據規模爆炸式增長和用户數量的井噴，CPU 從性能上而言已經無法滿足服務數百萬用户的推薦系統的需求。為瞭解決這個挑戰，需要在流程的其他部分進行 GPU 加速。本文提出的解決方案展示了 ANN 搜索時使用 GPU 加速可以有效解決這一問題。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><ul class="list-paddingleft-1" style="list-style-type: square;"><li><span id="OSC_h1_3"></span><h1 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">技術棧</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"></span></h1></li></ul><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">現在，介紹一下即將用到的技術棧。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">首先需要一個推薦系統框架作為基礎，本例中我們使用 </span><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">NVIDIA Merlin</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">&nbsp;https://github.com/NVIDIA-Merlin/Merlin</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">，因為這個開源庫提供在 NVIDIA GPU 上加速推薦系統的高級 API （high-level API）。Merlin 可以助力數據科學家、機器學習工程師和研究人員構建高性能推薦系統。除了 Merlin 以外，本例中還使用了以下開源工具/庫：</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><ul start="1" class="list-paddingleft-1" style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><li style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">NVTabular</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">：用於預處理輸入表格數據和特徵工程 https://github.com/NVIDIA-Merlin/NVTabular。</span></p></li><li style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong>Merlin Models</strong></span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">：用於訓練深度學習模型，從用户交互數據中學習獲取用户和商品向量 https://github.com/NVIDIA-Merlin/models。</span></p></li><li style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Merlin Systems</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">：用於集成基於 TensorFlow 的推薦模型與其他組件（例如特徵存儲、Milvus 的 ANN 搜索功能），以便在 TIS 中提供服務 https://github.com/NVIDIA-Merlin/systems。</span></p></li><li style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Triton Inference Server</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">：</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">用於在推斷階段傳遞用户特徵向量並生成產品推薦 https://github.com/triton-inference-server/server。</span></p></li><li style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">容器化：上述所有內容都可以在 NVIDIA 提供的 </span><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">NGC 目錄</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">（https://catalog.ngc.nvidia.com/）</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">中獲取。本例使用 </span><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Merlin TensorFlow 23.06 容器</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">（https://catalog.ngc.nvidia.com/orgs/nvidia/teams/merlin/containers/merlin-tensorflow）&nbsp;</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">。</span></p></li><li style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Milvus 2.</span></strong><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">3</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">：用於啓用 GPU 加速的向量索引和查詢 https://github.com/milvus-io/milvus/releases/tag/v2.3.0。</span></p></li><li style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Milvus 2.2.11</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">：與上述相同，但在 CPU 上執行向量索引和查詢 https://github.com/milvus-io/milvus/releases。</span></p></li><li style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">pymilvus SDK：用於連接 Milvus 服務器、創建向量數據庫索引並通過 Python 接口運行查詢命令。</span></p></li><li style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Feast</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">：用作端到端 RecSys 流程中保存和檢索用户、商品向量的（開源）特徵存儲 https://github.com/feast-dev/feast。</span></p></li></ul><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">此外，我們還用到了許多底層庫和框架。例如，Merlin 依賴於 cuDF 和 Dask 等其他 NVIDIA 庫，這兩個庫均可在 </span><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">RAPIDS cuDF</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">&nbsp;（https://github.com/rapidsai/cudf）中獲取。同樣，Milvus 依賴於 </span><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">NVIDIA RAFT</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">&nbsp;（https://github.com/rapidsai/raft）實現 GPU 加速，HNSW &nbsp;和 FAISS 等進行搜索。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><span id="OSC_h1_4"></span><h1 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="letter-spacing: 0.544px;text-align: left;text-wrap: wrap;color: rgb(20, 114, 255);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 32px;background-color: rgb(255, 255, 255);outline: 0px;">02.</strong></span></h1><p><span style="font-size: 18px;"><strong><span style="font-size: 18px;background-color: rgb(255, 255, 255);color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;letter-spacing: 0.544px;text-align: unset;">瞭解向量數據庫</span></strong></span><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">ANN 搜索是關係型數據庫無法提供的功能。關係型數據庫只能用於處理具有預定義結構、可直接比較值的表格型數據。因此，關係數據庫索引也是基於這一點來比較數據。但是 Embedding 向量無法通過這種方式直接相互比較。因為我們不知道向量中的每個值代表什麼意思，無法使用關係型數據庫來確定一個向量是否一定小於另一個向量，唯一能做的就是計算兩個向量之間的距離。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">如果兩個向量之間的距離很小，可以假設它們所代表的特徵相似；如果距離很大，可以假設它們代表的數據十分不同。對我們而言，向量距離及其含義是有用的。我們可以創建索引結構，高效搜索這些數據。但是為向量數據構建索引也有不小挑戰：計算兩個向量間距離成本高昂，而且向量索引一旦構建完成後，不易於修改。因此，我們無法直接使用傳統的關係型數據庫來處理向量數據，需要使用專為向量數據而打造的</span><span style="color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-align: unset;">向量數據庫。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-align: unset;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Milvus</span><span style="letter-spacing: 0.544px;">&nbsp;</span><span style="letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;">是一款專為向量數據處理而設計的向量數據庫，可以解決傳統關係型數據庫無法處理向量的問題，為海量向量數據高效構建索引。為了滿足雲原生的要求，Milvus 將計算和存儲以及不同的計算任務（查詢、數據處理和索引）分離開來。用户可以根據不同的應用靈活擴展每個組件。無論是數據插入密集型應用還是搜索密集型應用， Milvus 都能夠輕鬆應對。如果有大量插入請求湧入，用户可以臨時水平和垂直擴展索引節點以處理數據。同樣，如果沒有大量插入數據，但有大量搜索操作，用户可以減少索引節點的數量，並提高查詢節點的吞吐量。Milvus 的系統架構設計（見圖 2）採用並行計算的思維方式，助力我們進一步優化本例中的推薦系統應用。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><img class="rich_pages wxw-img" data-height="903" data-ratio="0.7055555555555556" src="https://oscimg.oschina.net/oscnet/f29cb938-19a8-4b9f-8ec8-f04f86af455c.png" data-type="png" data-w="1080" data-width="1280" referrerpolicy="no-referrer"></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;letter-spacing: 0.544px;text-align: left;text-wrap: wrap;background-color: rgb(255, 255, 255);"><span style="outline: 0px;letter-spacing: 0.544px;text-align: unset;font-family: system-ui, Pingfang-SC, sans-serif;visibility: visible;color: rgb(136, 136, 136);">圖 2｜Milvus 架構設計</span></strong></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">此外，Milvus 還整合了許多最先進的索引庫，以便為用户提供儘可能多的系統自定義功能。稍後，我們將討論這些索引的區別以及各自的優缺點。</span></p><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></h2><ul class="list-paddingleft-1" style="list-style-type: square;"><li><span id="OSC_h2_5"></span><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">向量數據索引</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"></span></h2></li></ul><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">大多數向量索引可以分成兩種類型——聚類和圖。IVF 是聚類類別中的一種算法，它使用 k-means 來計算最近鄰的聚類。然後，將查詢向量與最近的質心聚類進行比較，並在搜索時進行搜索。</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">HNSW</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">、</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">DiskANN</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 和圖類別中的其他基於圖的算法主要圍繞着導航擴展圖進行搜索，這些圖在 ANN 搜索時效率更高。但是圖算法往往也更加複雜。如果大家對此感興趣，可以<strong>閲讀</strong>（https://zilliz.com/learn/hierarchical-navigable-small-worlds-HNSW）。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">除了上述這些算法，還有一類叫做乘積量化 (PQ) 的算法。PQ 是一種將向量數據壓縮以減少資源使用並提高性能的方法，但其代價是降低召回率/準確性。該領域中的大多數算法都是量化的變體，以允許降低內存使用或提高其方法的性能。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">所有這些算法和組合之間的區別是什麼？為什麼有這麼多算法呢？它們之間的區別在於性能、召回率和內存使用之間的權衡。例如，IVF_FLAT 索引是一個平衡了上述 3 個方面的索引，可以在不過多增加內存開銷的情況下以較快的速度獲得良好的結果。基於壓縮的索引，如 IVF_SQ8 和 IVF_PQ，在速度和減少內存使用方面更強大，但根據所使用的壓縮級別，會降低召回率。HNSW 則以性能和召回率為目標，但代價是內存消耗。與其他索引相比，DiskANN 是最獨特的，因為它是一種基於磁盤的索引。前面的索引都完全存儲在內存中，需要大量的 RAM。DiskANN 只在內存中保存少量索引數據，並將大部分數據保存在磁盤存儲器中，這樣可以大大減少內存使用量，同時仍然保持較高的召回率。但是，使用 DiskANN 會降低吞吐性能，並且根據所使用的 SSD 類型，會影響延遲性能。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">如今，並非只有大型用户/公司才能訪問非常大的數據集，小型用户可能會從其數據中生成數十億個向量，並需要以最經濟的方式進行搜索。相比之下，大型用户有時雖然只有幾十萬個數據，但每秒需要處理數萬個查詢。為瞭解決這些問題，索引層面提供很多定製化的參數來支持不同的用例。更多詳情，請<strong>訪問</strong>&nbsp;（https://milvus.io/docs/index.md）查看。</span></p><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></h2><ul class="list-paddingleft-1" style="list-style-type: square;"><li><span id="OSC_h2_6"></span><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">GPU vs CPU</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"></span></h2></li></ul><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">對於大多數用户來説，GPU 索引是獲得所需性能的關鍵。GPU 索引提供了許多用例所需的高吞吐量，同時從長期而言可以節省成本。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">構建和搜索索引主要依賴向量化計算，可以在 CPU 上完成，但使用 GPU 效率大大提升。Milvus 將搜索計算遷移到 GPU 後，查詢每秒 (QPS) 的性能提高了 37 至 91 倍，性能提升非常顯著。想要獲得如此大的性能提升的唯一其他途徑就是擴展集羣規模。但是這種方式開銷較大。通過使用 GPU，用户可以提升性能的同時簡化集羣，減少額外節點和調度開銷。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">然而，基於 GPU 的搜索有一個限制，那就是低併發情況。</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Milvus 對高併發有優化，會嘗試合併查詢並一起做主存和 GPU 內存的搬移，來降低單個查詢需要的搬移次數。</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">在低併發情況下，GPU 的延遲較大，因為 CPU 可以比將數據傳輸到 GPU 再從 GPU 傳回的時間內更快地完成搜索。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><span id="OSC_h1_7"></span><h1 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="letter-spacing: 0.544px;text-align: left;text-wrap: wrap;color: rgb(20, 114, 255);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 32px;background-color: rgb(255, 255, 255);outline: 0px;">03.</strong></span></h1><p><span style="font-size: 18px;"><strong><span style="font-size: 18px;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;letter-spacing: 0.544px;text-align: unset;background-color: rgb(255, 255, 255);">示例</span></strong></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">我們提供的示例演示了在商品檢索階段如何集成 Milvus 與 Merlin，其中用到了來自 RecSys Challenge 2015 的真實數據集進行訓練。同時，我們也訓練了一個雙塔深度學習模型，用於學習用户和商品向量。在本章節的最後，我們還會提供一些性能測試相關的信息，包括在性能測試過程中觀察的指標和使用的參數範圍。</span></p><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></h2><ul class="list-paddingleft-1" style="list-style-type: square;"><li><span id="OSC_h2_8"></span><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong>數據集</strong></span></h2></li></ul><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">在集成和性能測試時，我們使用了由 YOOCHOOSE GmbH 在 RecSys Challenge 2015 中提供的數據集，可在 Kaggle 上下載。這個數據集中包含了歐洲在線零售商提供的用户點擊/購買事件，其中包括與點擊/購買相關的會話 ID、時間戳、商品 ID 和商品類別等信息。這些內容均可在文件</span><code style="letter-spacing: 0px;text-align: justify;color: rgb(62, 62, 62);font-size: 14px;padding: 2px 4px;border-radius: 4px;margin-right: 2px;margin-left: 2px;background-color: rgba(27, 31, 35, 0.05);font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break: break-all;">yoochoose-clicks.dat</code><span style="font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;text-align: unset;color: rgb(62, 62, 62);letter-spacing: 0.544px;">中獲取。</span><span style="font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;text-align: unset;color: rgb(62, 62, 62);letter-spacing: 0.544px;">各個會話都是獨立的，不考慮回購用户的情況。</span><span style="font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;text-align: unset;color: rgb(62, 62, 62);letter-spacing: 0.544px;">因此我們將每個會話視為屬於不同用户的會話。</span><span style="font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;text-align: unset;color: rgb(62, 62, 62);letter-spacing: 0.544px;">該數據集包含 9,249,729 個會話（用户）和 52,739 個商品。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="letter-spacing: 0.544px;text-align: unset;font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;color: rgb(62, 62, 62);"></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">工作流程主要包括：a) 數據獲取和預處理。b) 搭建雙塔深度學習模型，訓練數據。c) 在 Milvus 向量數據庫中創建索引。d) 在 Milvus 向量數據庫中進行向量相似性搜索。接下來，我們會簡要描述每個步驟，如果大家對每個步驟的詳情感興趣，請<strong>參考</strong>&nbsp;（https://github.com/bbozkaya/merlin-milvus/tree/main/notebooks）。</span></p><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></h2><ul class="list-paddingleft-1" style="list-style-type: square;"><li><span id="OSC_h2_9"></span><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">數據獲取和預處理</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"></span></h2></li></ul><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">用 </span><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">NVTabular</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">（https://github.com/NVIDIA-Merlin/NVTabular）</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">對數據進行預處理。這個工具利用了 Merlin 的 GPU 加速能力，是高度可擴展的特徵提取和預處理組件，能夠幫助我們輕鬆處理 T 字節級別的數據集、搭建訓練基於深度學習的推薦系統。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">NVTabular 經過抽象，提供一套簡化的代碼，使用 RAPIDS 的 </span><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Dask-cuDF</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">（https://github.com/rapidsai/dask-cudf）</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 庫在 GPU 上實現加速計算。用 NVTabular 將數據讀入 GPU 內存，並按需重新排列特徵，最終導出為 Parquet 文件。最終得到了 7,305,761 個用户向量和 49,008 個商品向量以供後續訓練使用。在預處理時，我們還會將每列數據和值進行分類，轉換為整數值。</span></p><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></h2><ul class="list-paddingleft-1" style="list-style-type: square;"><li><span id="OSC_h2_10"></span><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">模型訓練</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"></span></h2></li></ul><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">用<strong>雙塔</strong> https://github.com/NVIDIA-Merlin/models/blob/main/examples/05-Retrieval-Model.ipynb 深度學習模型來生成用户和商品向量，隨後為這些向量創建索引並查詢向量。我們將用户屬性 (</span><code style="letter-spacing: 0px;text-align: justify;color: rgb(62, 62, 62);font-size: 14px;padding: 2px 4px;border-radius: 4px;margin-right: 2px;margin-left: 2px;background-color: rgba(27, 31, 35, 0.05);font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break: break-all;">user_id</code><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">, </span><code style="letter-spacing: 0px;text-align: justify;color: rgb(62, 62, 62);font-size: 14px;padding: 2px 4px;border-radius: 4px;margin-right: 2px;margin-left: 2px;background-color: rgba(27, 31, 35, 0.05);font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break: break-all;">user_age</code><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">) 和商品屬性 (</span><code style="letter-spacing: 0px;text-align: justify;color: rgb(62, 62, 62);font-size: 14px;padding: 2px 4px;border-radius: 4px;margin-right: 2px;margin-left: 2px;background-color: rgba(27, 31, 35, 0.05);font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break: break-all;">item_id</code><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">, </span><code style="letter-spacing: 0px;text-align: justify;color: rgb(62, 62, 62);font-size: 14px;padding: 2px 4px;border-radius: 4px;margin-right: 2px;margin-left: 2px;background-color: rgba(27, 31, 35, 0.05);font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break: break-all;">item_category</code><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">) 輸入到 Two-Tower 模型中。這個過程中，可以選擇是否要包含一個目標列，只包括具有正交互作用的行。模型訓練完成後，提取學習到的用户和商品嵌入向量。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">接下來是兩個可選步驟：</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">1. 使用 </span><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">DLRM</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">（https://arxiv.org/abs/1906.00091）</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 模型對檢索到的商品進行排序。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">2. 使用特徵存儲（在本例中為 </span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Feast</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">）存儲和檢索用户和商品特徵。在本示例中，加入了這兩個步驟從而更為完整地展示推薦系統的多階段工作流程。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">最後，將用户和商品向量導出為 parquet 文件，稍後可以重新加載併為其在 Milvus 中創建向量索引。現在，可以啓動 Milvus 服務器並上傳商品向量、創建向量索引。然後，在推理時使用 NVIDIA TIS 和自定義的 Merlin 系統 Operator 對現有用户和新用户進行相似性搜索查詢。請參見 notebook 中的第二個示例。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><ul class="list-paddingleft-1" style="list-style-type: square;"><li><span id="OSC_h2_11"></span><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">構建和查詢 Milvus 索引</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"></span></h2></li></ul><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Milvus 通過在推理機上啓動一個服務來實現向量索引和相似度搜索。在 notebook 2 中，我們通過 pip 安裝了 milvus 服務器和 pymilvus，然後使用默認的監聽端口啓動了服務器。接下來，我們將演示如何使用兩個函數 </span><code style="letter-spacing: 0px;text-align: justify;color: rgb(62, 62, 62);font-size: 14px;padding: 2px 4px;border-radius: 4px;margin-right: 2px;margin-left: 2px;background-color: rgba(27, 31, 35, 0.05);font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break: break-all;">setup_milvus </code><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">和 </span><code style="letter-spacing: 0px;text-align: justify;color: rgb(62, 62, 62);font-size: 14px;padding: 2px 4px;border-radius: 4px;margin-right: 2px;margin-left: 2px;background-color: rgba(27, 31, 35, 0.05);font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break: break-all;">query_milvus </code><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">來構建一個簡單的索引 (IVF_FLAT) 並對其進行查詢。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">當我們將相同任務作為 TIS 框架中的多階段推理的一部分完成時，事情變得更有趣了。Merlin 提供了一個高級 API，Merlin Systems，允許將推薦系統的不同階段組合成一個單獨的鏈式「集成模型」。因此，上述所有階段都在對 TIS 發送的單個請求中執行。在這裏，我們實現了一個自定義的 Merlin Systems 操作符作為集成的一部分，名為</span><code style="letter-spacing: 0px;text-align: justify;color: rgb(62, 62, 62);font-size: 14px;padding: 2px 4px;border-radius: 4px;margin-right: 2px;margin-left: 2px;background-color: rgba(27, 31, 35, 0.05);font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break: break-all;"> QueryMilvus</code><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">細心的朋友可以已經注意到，pymilvus 庫沒有使用 GPU 加速，而 NVTabular 和 Merlin Models 卻使用了 GPU。這是因為 Milvus 的 GPU 加速版本需要啓動多個容器，而我們使用的 Merlin 容器不支持這樣做。相反，通過 pymilvus，在 notebook 所在的同一個容器中將 Milvus 服務器作為一個進程啓動。要在 GPU 上運行 Milvus，可以參考最新的 Milvus <strong>發版説明</strong>（https://github.com/milvus-io/milvus/releases/tag/v2.3.1）。下面性能測試是在 GPU 上完成的，使用的是 Milvus 最新版。</span></p><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></h2><ul class="list-paddingleft-1" style="list-style-type: square;"><li><span id="OSC_h2_12"></span><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">基準測試</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"></span></h2></li></ul><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">為了證明使用快速高效的向量索引/搜索庫（如 Milvus）的必要性，我們設計了兩組性能測試：</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><ol start="1" class="list-paddingleft-1" style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><li style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">使用 Milvus 構建向量索引，我們生成了兩組向量：1）針對 730 萬個用户向量，按照 85% 的訓練集（用於索引）和 15% 的測試集（用於查詢）進行劃分；2）針對 4.9 萬個商品向量，按照，照 50% 的訓練集（用於索引）和 50% 的測試集（用於查詢）進行劃分。性能測試針對每個向量數據集獨立進行，生成獨立的結果。</span></p></li><li style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">使用 Milvus 構建一個針對 4.9 萬個商品向量數據集的索引，並基於該索引使用 730 萬個用户向量進行相似性搜索。</span></p></li></ol><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">在性能測試中，我們使用了 GPU 和 CPU 版的 IVF_PQ 和 HNSW 索引算法，並嘗試了各種參數組合。<strong>詳細信息請參見</strong>&nbsp;（https://github.com/bbozkaya/merlin-milvus/tree/main/results）。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">在生產環境中，一個重要的性能考量指標是搜索質量和吞吐量之間的平衡（tradeoff）。Milvus 允許完全控制索引參數，以探索這個 tradeoff，以達到與基準結果相關的更好搜索結果。這可能意味着減少吞吐量或每秒查詢數（QPS），增加計算成本。我們使用召回率指標來衡量 ANN 搜索的質量，並提供了 QPS-召回率，曲線來展示 tradeoff。然後，您可以根據計算資源、延遲/吞吐量需求來決定可接受的搜索質量水平。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">還請注意我們基準測試中使用的查詢批處理大小（nq）。這在工作流中非常有用，其中會同時向推理發送多個請求（例如，將離線推薦請求發送給一系列電子郵件收件人，或者通過彙集並同時處理到達的併發請求生成在線推薦）。根據具體情況，TIS 還可以幫助以批處理方式處理這些請求。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><span id="OSC_h1_13"></span><h1 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong style="letter-spacing: 0.544px;text-align: left;text-wrap: wrap;color: rgb(20, 114, 255);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 32px;background-color: rgb(255, 255, 255);outline: 0px;">04.</strong></h1><p><span style="font-size: 18px;"><strong><span style="font-size: 18px;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;letter-spacing: 0.544px;text-align: unset;background-color: rgb(255, 255, 255);">結果</span></strong></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">以下展示基於 CPU 和 GPU 的 3 組性能測試結果。該測試使用了 Milvus 的 HNSW（僅 CPU）和 IVF_PQ（CPU 和 GPU）索引類型。</span></p><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></h2><ul class="list-paddingleft-1" style="list-style-type: square;"><li><span id="OSC_h2_14"></span><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">商品向量間相似度搜索</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"></span></h2></li></ul><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">對於給定的參數組合，將 50% 的商品向量作為查詢向量，並從剩餘的向量中查詢出 top-100 個相似向量。我們發現，在測試的參數設置範圍內，HNSW 和 IVF_PQ 的召回率很高，分別在 0.958-1.0 和 0.665-0.997 之間。這表明 HNSW 在召回率方面表現更好，但是 IVF_PQ 在 nlist 較小的情況下也能得到非常高的召回率。此外，召回率的值隨着索引和查詢參數的變化也會發生很大的變化。報告結果在對一般參數範圍進行初步實驗並進一步深入選擇子集之後獲得的。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">在給定參數組合下，使用 HNSW 在 CPU 上執行所有查詢的總時間範圍在 5.22 到 5.33 秒之間（在 ef 不變的情況下，隨着 m 的增大而更快），而使用 IVF_PQ 在 13.67 到 14.67 秒之間（隨着 nlist 和 nprobe 的增大而變慢）。如圖 3 所示，GPU 加速確實效果更明顯。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">圖 3 顯示了在 CPU 和 GPU 上，使用 IVF_PQ 和這個小數據集時召回率和吞吐量之間的 tradeoff。我們發現，GPU 在所有測試的參數組合下都實現了 4 到 15 倍的加速（隨着 nprobe 的增大而加速更明顯）。這個結果是比較每個參數組合下 GPU 的每秒查詢數與 CPU 的每秒查詢數得出的。總體而言，這個小數據集對於 CPU 或 GPU 來説都很容易處理，而且不難看出，還有進一步加速空間。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><img class="rich_pages wxw-img" data-height="786" data-ratio="0.6138888888888889" src="https://oscimg.oschina.net/oscnet/c3165952-2aeb-4408-b1d5-7d3d4f61af16.png" data-type="png" data-w="1080" data-width="1280" referrerpolicy="no-referrer"></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: left;overflow-wrap: break-word !important;"><span style="font-size: 14px;"><strong><span style="font-size: 14px;outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;font-family: system-ui, Pingfang-SC, sans-serif;visibility: visible;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">圖 3｜在 NVIDIA A100 GPU 上運行 Milvus IVF_PQ 算法的 GPU 加速（商品與商品相似性搜索）</span></strong></span></p><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></h2><ul class="list-paddingleft-1" style="list-style-type: square;"><li><span id="OSC_h2_15"></span><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">用户向量間相似性搜索</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"></span></h2></li></ul><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">對於更大的第二個數據集（730 萬個用户），我們將 85%（約 620 萬個）的向量用於「訓練」（要建立索引的向量集），剩下的 15%（約 110 萬個）作為「測試」或查詢向量集。在這種情況下，HNSW 和 IVF_PQ 表現非常出色，召回率分別為 0.884-1.0 和 0.922-0.999。然而，它們在計算上要求更高，尤其是在 CPU 上使用 IVF_PQ 的情況。使用 HNSW 在 CPU 上執行所有查詢的總時間範圍為 279.89 至 295.56 秒，而使用 IVF_PQ 的總時間範圍為 3082.67 至 10932.33 秒。注意，這些查詢時間是對 110 萬個向量進行查詢的累積時間，因此可以説針對索引的單個查詢仍然非常快。然而，如果推理服務器要對數百萬個商品併發請求運行查詢，不推薦使用 CPU 查詢。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">使用 IVF_PQ 和 A100 GPU 時，吞吐量（QPS）提升 37 至 91 倍 （平均為 76.1 倍）。這與我們在小數據集中觀察到的結果一致，這表明處理數百萬向量數據時，Milvus 結合 GPU 加速可以大幅提升性能。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><img class="rich_pages wxw-img" data-height="786" data-ratio="0.6138888888888889" src="https://oscimg.oschina.net/oscnet/bb8ad2c1-8f6f-4d16-bdf4-d978e999a3ca.png" data-type="png" data-w="1080" data-width="1280" referrerpolicy="no-referrer"></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: left;overflow-wrap: break-word !important;"><span style="font-size: 14px;"><strong><span style="font-size: 14px;outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;font-family: system-ui, Pingfang-SC, sans-serif;visibility: visible;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">圖 4｜在 NVIDIA A100 GPU 上運行 Milvus IVF_PQ 算法的 GPU 加速比（用户-用户相似性搜索）</span></strong></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">此外，圖 5 顯示了在 CPU 和 GPU 上使用 IVF_PQ 測試的所有參數組合的召回率-QPS tradeoff。該圖中每個點（上為 GPU，下為 CPU）展示了在改變向量索引/查詢參數時召回率和吞吐量的 tradeoff：更高召回率的代價是較低吞吐量。注意，在使用 GPU 的情況下，提高召回率時，QPS 會大幅降低。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><img class="rich_pages wxw-img" data-height="442" data-ratio="0.31574074074074077" src="https://oscimg.oschina.net/oscnet/c7aad0d8-1b28-4762-b55e-f541996e5fff.png" data-type="png" data-w="1080" data-width="1400" referrerpolicy="no-referrer"></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: left;overflow-wrap: break-word !important;"><span style="font-size: 14px;"><strong><span style="font-size: 14px;outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;font-family: system-ui, Pingfang-SC, sans-serif;visibility: visible;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">圖 5｜在 CPU 和 GPU 上使用 IVF_PQ 進行測試的參數組合及其召回率-吞吐量 tradeoff（User vs. User）。</span></strong></span></p><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></h2><ul class="list-paddingleft-1" style="list-style-type: square;"><li><span id="OSC_h2_16"></span><h2 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">用户與商品向量間相似度搜索</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"></span></h2></li></ul><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">最後，考慮另一個現實場景，即將用户向量與商品向量進行比較（如上面的 notebook 1 所示）。在這種情況下，我們為 49000 個商品向量創建索引，為每個用户向量查詢其 top-100 最相似的商品。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">在 CPU 上進行向量批量查詢非常耗時，無論是使用 HNSW 還是 IVF_PQ 索引（請參見圖 6）。而 GPU 在這種情況下表現更好。當 </span><code style="letter-spacing: 0px;text-align: justify;color: rgb(62, 62, 62);font-size: 14px;padding: 2px 4px;border-radius: 4px;margin-right: 2px;margin-left: 2px;background-color: rgba(27, 31, 35, 0.05);font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break: break-all;">nlist = 100</code><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 時，IVF_PQ 在 CPU 上平均計算時間約為 86 分鐘。但計算時間隨着 nprobe 值的增加而變化很大（當 </span><code style="letter-spacing: 0px;text-align: justify;color: rgb(62, 62, 62);font-size: 14px;padding: 2px 4px;border-radius: 4px;margin-right: 2px;margin-left: 2px;background-color: rgba(27, 31, 35, 0.05);font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break: break-all;">nprobe = 5</code><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 時為 51 分鐘，而當 </span><code style="letter-spacing: 0px;text-align: justify;color: rgb(62, 62, 62);font-size: 14px;padding: 2px 4px;border-radius: 4px;margin-right: 2px;margin-left: 2px;background-color: rgba(27, 31, 35, 0.05);font-family: &quot;Operator Mono&quot;, Consolas, Monaco, Menlo, monospace;word-break: break-all;">nprobe = 20</code><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 時為 128 分鐘）。NVIDIA A100 GPU 能夠將性能提升了 4 至 17 倍（當 nprobe 較大時，速度提升更高）。前文也提到，通過其量化技術，IVF_PQ 算法還可以減少內存佔用。這樣看來，如果結合 GPU 加速方案，能夠得到一個計算上更可行的 ANN 搜索解決方案。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><img class="rich_pages wxw-img" data-height="786" data-ratio="0.6138888888888889" src="https://oscimg.oschina.net/oscnet/7533f280-7518-4f0d-83c1-2d69e6ac978f.png" data-type="png" data-w="1080" data-width="1280" style="color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;text-align: center;text-wrap: wrap;" referrerpolicy="no-referrer"></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: left;overflow-wrap: break-word !important;"><span style="font-size: 14px;"><strong><span style="font-size: 14px;outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;font-family: system-ui, Pingfang-SC, sans-serif;visibility: visible;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">圖 6｜在 NVIDIA A100 GPU 上運行 Milvus IVF_PQ 算法的 GPU 加速比（用户-商品相似性搜索）</span></strong></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">與圖 5 類似，圖 7 顯示了使用 IVF_PQ 測試的所有參數組合的召回率-吞吐量間的 tradeoff。我們仍然可以看到在 &nbsp;ANN 搜索中，為了提高吞吐量，可能需要稍微犧牲一些準確性，尤其是在使用 GPU 的情況下。也就是説，我們可以在 GPU 的計算性能上保持相當高的水平，同時實現高召回率。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><img class="rich_pages wxw-img" data-height="404" data-ratio="0.31574074074074077" src="https://oscimg.oschina.net/oscnet/4404363d-b57f-4eee-9cb6-d854094db194.png" data-type="png" data-w="1080" data-width="1280" style="color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;text-align: left;text-wrap: wrap;" referrerpolicy="no-referrer"></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="font-size: 14px;"><strong><span style="font-size: 14px;outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;font-family: system-ui, Pingfang-SC, sans-serif;visibility: visible;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">圖 7｜</span></strong></span><span style="font-size: 14px;"><strong><span style="font-size: 14px;outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;font-family: system-ui, Pingfang-SC, sans-serif;visibility: visible;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">使用 IVF_PQ 索引在 CPU 和 GPU 上測試的所有參數組合及其對應召回率-吞吐量 tradeoff（用户 vs 商品）。</span></strong></span></p><h1 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></h1><span id="OSC_h1_17"></span><h1 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong style="letter-spacing: 0.544px;text-align: left;text-wrap: wrap;color: rgb(20, 114, 255);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 32px;background-color: rgb(255, 255, 255);outline: 0px;">05.</strong></h1><span id="OSC_h1_18"></span><h1 style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="font-size: 18px;"><strong><span style="font-size: 18px;outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">結論</span></strong></span></h1><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">最後，和大家分享一些思考。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">現代推薦系統複雜和多階段的特質對每個環節的性能和效率都有很高的要求。因此，大家可以考慮在推薦系統流程中使用以下兩個關鍵功能：</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><ul start="1" class="list-paddingleft-1" style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><li style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">NVIDIA Merlin 及其 Merlin Systems 庫：您能夠輕鬆插入高效的 GPU 加速向量搜索引擎 </span><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Milvus</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">（https://github.com/milvus-io/milvus/tree/2.3.0）</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">。</span></p></li><li style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;"><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">使用 GPU 加速計算，用諸如 </span><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">RAPIDS RAFT</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">（https://github.com/rapidsai/raft）</span><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">等技術來進行向量數據庫索引和 ANN 搜索。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"></span></p></li></ul><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><img class="rich_pages wxw-img" data-ratio="0.2572614107883817" src="https://oscimg.oschina.net/oscnet/803eac97-57b6-476c-b88c-b28e31677811.png" data-type="png" data-w="964" referrerpolicy="no-referrer"></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">上述測試結果表明，本文所提出的 Merlin-Milvus 集成方案在訓練和推理方面都非常高效且比其他方案更簡單。而且，這兩個框架都在積極開發中，每個版本都會添加許多新功能，例如，Milvus 新增了基於 GPU 加速的向量數據庫索引。向量相似性搜索是計算機視覺、大語言模型系統、推薦系統等工作流程中的關鍵組成部分，因此十分推薦大家嘗試使用 Milvus 向量數據庫。</span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">最後，要感謝 Zilliz/Milvus 和 Merlin 以及 RAFT 團隊為完成這個項目和這篇博客文章所做出的貢獻。當然，如果大家在自己的推薦系統或其他工作流程中使用了 Merlin 和 Milvus，也歡迎和我們分享。</span><span style="color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-align: unset;"></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br><strong style="text-wrap: wrap;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;color: rgb(34, 34, 34);font-size: 16px;text-align: left;"><span style="outline: 0px;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;letter-spacing: 0.544px;text-align: unset;"><strong style="outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;color: rgb(34, 34, 34);"><span style="outline: 0px;font-family: system-ui, Pingfang-SC, sans-serif;letter-spacing: 0.544px;text-align: unset;color: rgb(23, 95, 255);">本文作者</span></strong></span></strong></span></p><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><br></p><ul class="list-paddingleft-1" style="list-style-type: disc;"><li><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: left;overflow-wrap: break-word !important;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Burcin Bozkaya：</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">NVIDIA 工程師</span><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"></span></strong></p></li><li><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Filip Haltmayer：</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Zilliz 軟件工程師</span></p></li><li><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;text-align: left;overflow-wrap: break-word !important;"><strong><span style="border-width: 0px;border-style: initial;border-color: initial;vertical-align: baseline;line-height: 24px;outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">William Hicks</span></strong><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">：<span style="color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-align: left;caret-color: rgba(0, 0, 0, 0);text-wrap: wrap;background-color: rgb(255, 255, 255);"></span></span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-align: left;caret-color: rgba(0, 0, 0, 0);text-wrap: wrap;background-color: rgb(255, 255, 255);">N</span><span style="color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-align: left;caret-color: rgba(0, 0, 0, 0);text-wrap: wrap;background-color: rgb(255, 255, 255);">VIDIA 工程師</span></span><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-align: left;caret-color: rgba(0, 0, 0, 0);text-wrap: wrap;background-color: rgb(255, 255, 255);"></span></span></strong></p></li><li><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">劉力：</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">Zilliz 首席工程師</span></p></li><li><p style="margin-bottom: 1px;outline: 0px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);visibility: visible;overflow-wrap: break-word !important;text-align: left;"><strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">馬宇生</span></strong><span style="outline: 0px;max-width: 100%;letter-spacing: 0.544px;text-align: unset;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;visibility: visible;box-sizing: border-box !important;overflow-wrap: break-word !important;">：</span><span style="color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-align: unset;">Zilliz 主任工程師</span></p></li></ul><section style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);text-align: left;line-height: normal;"><span style="outline: 0px;font-size: 14px;"><span style="outline: 0px;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;letter-spacing: 0.544px;text-align: unset;"><span style="outline: 0px;letter-spacing: 0.544px;text-align: unset;color: rgb(23, 95, 255);"><strong style="outline: 0px;"><br></strong></span></span></span></section><section style="line-height: normal;margin-bottom: 0px;"><strong style="outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);font-size: 16px;text-align: left;"><span style="outline: 0px;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;letter-spacing: 0.544px;text-align: unset;"><strong style="outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;color: rgb(34, 34, 34);"><span style="outline: 0px;font-family: system-ui, Pingfang-SC, sans-serif;letter-spacing: 0.544px;text-align: unset;color: rgb(23, 95, 255);">推薦閲讀</span></strong></span></strong></section><section style="line-height: normal;margin-bottom: 0px;"><strong style="outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);font-size: 16px;text-align: left;"><span style="outline: 0px;color: rgb(62, 62, 62);font-family: system-ui, Pingfang-SC, sans-serif;letter-spacing: 0.544px;text-align: unset;"><strong style="outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;color: rgb(34, 34, 34);"><span style="outline: 0px;font-family: system-ui, Pingfang-SC, sans-serif;letter-spacing: 0.544px;text-align: unset;color: rgb(23, 95, 255);"><br></span></strong></span></strong></section><section style="line-height: normal;margin-bottom: 0px;"><a target="_blank" href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzMDI5OTA5NQ%3D%3D%26mid%3D2247499077%26idx%3D1%26sn%3D567a74286498b524e5b64a5962e4d07d%26chksm%3Dfa515cfdcd26d5ebe080734cbda6b77dc2c1728331498627d4f177ae6fcd0001cd8c6bd9d94b%26scene%3D21%23wechat_redirect" textvalue="‍‍" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="1"><span class="js_jump_icon h5_image_link"><img class="rich_pages wxw-img" data-cropselx1="0" data-cropselx2="578" data-cropsely1="0" data-cropsely2="246" data-galleryid="" data-ratio="0.42592592592592593" data-s="300,640" src="https://oscimg.oschina.net/oscnet/7851d9fe-063e-4adf-9b43-41c946fac005.png" data-type="png" data-w="1080" style="width: 578px;height: 246px;" referrerpolicy="no-referrer"></span></a></section><section style="line-height: normal;margin-bottom: 0px;"><br></section><section style="line-height: normal;margin-bottom: 0px;"><a target="_blank" href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzMDI5OTA5NQ%3D%3D%26mid%3D2247499126%26idx%3D1%26sn%3D5ef4dc73e6b769cd4830911af924e56c%26chksm%3Dfa515ccecd26d5d8bf05c227aa94d56a0998d3a01179d79bb964e252d3f5e1fabc9c04411936%26scene%3D21%23wechat_redirect" textvalue="‍‍" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="1"><span class="js_jump_icon h5_image_link"><img class="rich_pages wxw-img" data-cropselx1="0" data-cropselx2="578" data-cropsely1="0" data-cropsely2="246" data-galleryid="" data-ratio="0.42592592592592593" data-s="300,640" src="https://oscimg.oschina.net/oscnet/0da673f3-5ca5-4fca-bd8c-b30bbdfe3028.png" data-type="png" data-w="1080" style="width: 578px;height: 246px;" referrerpolicy="no-referrer"></span></a></section><section style="line-height: normal;margin-bottom: 0px;"><br></section><section style="line-height: normal;margin-bottom: 0px;"><img class="rich_pages wxw-img" data-ratio="0.535966149506347" data-s="300,640" src="https://oscimg.oschina.net/oscnet/a42dd686-4a43-4ea1-abab-ea3c6fda6493.png" data-type="png" data-w="709" style="" referrerpolicy="no-referrer"></section><p style="display: none;"><mp-style-type data-value="3"></mp-style-type></p></div><p style="color: #858585; font-size: 13px;">本文分享自微信公眾號 - ZILLIZ（Zilliztech）。<br>如有侵權，請聯繫 support@oschina.cn 刪除。<br>本文參與「<a href="https://www.oschina.net/sharing-plan" target="_blank">OSC 源創計劃</a>」，歡迎正在閲讀的你也加入，一起分享。</p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 01 Nov 2023 03:40:00 GMT</pubDate>
            <guid isPermaLink="false">https://my.oschina.net/u/4209276/blog/10140444</guid>
            <link>https://my.oschina.net/u/4209276/blog/10140444</link>
            <author>
                <![CDATA[Zilliz]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Sermant 1.2.0 release 版本新特性速覽]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>本文分享自華為雲社區《<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fbbs.huaweicloud.com%2Fblogs%2F413986%3Futm_source%3Doschina%26utm_medium%3Dbbs-ex%26utm_campaign%3Dother%26utm_content%3Dcontent" target="_blank" rel="nofollow">重磅更新！Sermant 1.2.0 release 版本新特性速覽</a>》，作者：華為雲開源。</p><p>10 月，Sermant 社區正式發佈了 1.2.0 release 版本，距離上一次的大版本發佈僅三個月。本次新版本帶來了多個令人興奮的新特性，主要包含 Sermant Agent 框架能力的優化和提升以及新增了流量標籤透傳插件，將極大地提升用户和開發者的體驗，幫助大家將 Sermant 運用到更多的流量治理場景中。</p><p><strong>（Sermant 官網：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fsermant.io%2Fzh" rel="nofollow" target="_blank">https://sermant.io/zh</a>）</strong></p><span id="OSC_h1_1"></span><h1>一、Sermant Agent 框架能力提升</h1><p>1.2.0 release 版本中，對諸多能力進行了優化或新增，包括支持 Sermant Agent 框架和插件的動態安裝和動態卸載、支持動態配置服務對接 Nacos 配置中心、更好的類隔離能力、JDK11 和 JDK17 的兼容等。在框架加持這些新版本特性後，可以使 Sermant 的開發和體驗更加友好，同時也拓展出更多的 Sermant 的使用場景。</p><span id="OSC_h2_2"></span><h2>1.1 Sermant Agent 框架以及插件的動態安裝/卸載</h2><p>新版本中，Sermant 將原本默認的通過 premain 來啓動 Sermant Agent 的方式改進為支持 premain 和 agentmain 兩種方式啓動，其中 premain 方式與此前版本使用方式一致。</p><p>新增的 agentmain 啓動方式是為了支持 Agent 和插件的熱部署方式，premain 方式需要在應用程序啓動時掛載 Agent，而 agentmain 可以在應用程序運行時進行動態掛載 Agent，也可以在運行時動態地卸載 Sermant，在故障注入等需要動態進行字節碼增強的場景中起到非常重要的作用。動態安裝/卸載插件和動態安裝/卸載 Agent 一樣，用於服務治理場景中需要在應用運行時動態添加或移除額外功能的場景，例如在故障注入場景中通過動態地掛載不同的插件來實現注入不同的故障類型。</p><p>下圖為 Sermant 的熱插拔能力的示意圖，在初始狀態可以通過動態掛載 Agent 的能力安裝字節碼增強框架，然後可以通過動態掛載/卸載插件的能力在運行態增減所需服務治理能力，也可以直接將整個 Agent 進行卸載。</p><p><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtybbs/519/984/817/2850086000519984817.20231031112130.66449741674660850648477742923963:50001231000000:2800:783EB78C84A7C56ED6FB79C911AC306EA74080AB3A7A46A4A78325B413B6FE03.png" referrerpolicy="no-referrer">​</p><p>圖 - Sermant Agent 框架和插件的熱插拔示意圖</p><p>此項關鍵能力的更新使得 Sermant 的部署形態更加多樣，適用場景更加廣泛，使用者不再僅限於在啓動時再掛載 Sermant，業務可以實現不停機注入服務治理能力。</p><span id="OSC_h2_3"></span><h2>1.2 支持動態配置服務對接 Nacos 配置中心</h2><p>動態配置中心為 Sermant 動態配置服務的配套組件，動態配置服務允許 Sermant 從動態配置中心拉取配置以實現豐富多樣的服務治理能力。以往版本 Sermant 的支持的動態配置中心有 Zookeeper 和 Kie，新版本適配了 nacos 的數據模型，支持從 nacos 下發配置並監聽。</p><ul><li><strong>Sermant 動態配置模型基於 Nacos 配置中心的實現方式</strong></li></ul><p>Nacos 自身的數據模型如下，通過 Namespace、Group、Date ID 能夠定位到一個配置集：</p><p><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtybbs/519/984/817/2850086000519984817.20231031112130.94919115110128519717355386037211:50001231000000:2800:725C15EDC238B97EACFA43F52C6D7093EE90C97A369EC8463EDE953F752968A9.png" referrerpolicy="no-referrer">​</p><p>圖 - Nacos 數據模型</p><p><strong>Sermant 動態配置的 Group（分組信息）：</strong>將 Nacos 的 Namespace（命名空間）和配置分組（Group）組合起來作為 Sermant 的動態配置模型的分組信息。</p><p><strong>Sermant 動態配置的 Key（配置項名稱）：<span>&nbsp;</span></strong>Nacos 的配置集 ID（Data Id）作為 Sermant 的動態配置模型的配置項名稱。</p><p>配置集（Data Id）可以通過不同的 Namespace（命名空間）和配置分組（Group）進行隔離，不同的 Namespace（命名空間）和配置分組（Group）下可以存在名稱相同的配置集（Data Id）。保證 Sermant 通過不同的 Group（分組信息）來對配置項進行隔離，同一個 Group（分組信息）下可以有相同 Key（配置項名稱）。</p><ul><li><strong>使用 Nacos 作為 Sermant 的動態配置中心</strong></li></ul><p>將 Sermant 1.2.0 release 包中的/agent/config/config.properties 配置文件中的相關配置修改如下，即可使用 Nacos 作為動態配置中心：</p><ol><li># 指定配置中心的服務端地址，修改為 nacos 的地址</li><li>dynamic.config.serverAddress=127.0.0.1:8848</li><li># 指定動態配置中心類型, 取值範圍為 NOP(無實現)、ZOOKEEPER、KIE、NACOS</li><li>dynamic.config.dynamicConfigType= NACOS</li></ol><p>Sermant 中動態配置的模型和接口是統一抽象的，開發者對於動態配置節點的監聽器的開發與此前版本保持一致。動態配置中心在 Sermant 中的角色和作用可以閲讀相關博客《如何利用動態配置中心在 JavaAgent 中實現微服務的多樣化治理》。</p><span id="OSC_h2_4"></span><h2>1.3 更好的類隔離能力</h2><p>Sermant 在 1.2.0 版本中對此前的類隔離框架和機製做了全面的優化，不僅保證了不向宿主服務引入類衝突問題，避免在開箱即用時對宿主服務造成負面影響，同時也了保障框架與插件、插件與插件之間不會引入類衝突問題，避免插件開發者因為和其他服務治理插件產生類衝突問題而苦惱。</p><ul><li><strong>新版本的類隔離結構</strong></li></ul><p><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtybbs/519/984/817/2850086000519984817.20231031112130.03262753633836709743319426991113:50001231000000:2800:7C7B04FC8522592AC3F6A4DDB2EDA768041F21831F8DE3C3577F22A6B32D27F3.png" referrerpolicy="no-referrer">​</p><p>圖 – Sermant 的類隔離結構</p><ul><li>SermantClassLoader，破壞雙親委派，用於加載 Sermant 框架核心邏輯，並在 AppClassLoader 下隔離出 Sermant 的類加載模型。避免受到宿主服務自身複雜類加載結構的影響，減少應對不同類加載結構服務的適配需求。</li><li>FrameworkClassLoader，破壞雙親委派，主要作用是隔離 Sermant 核心能力所引入的三方依賴，避免向宿主服務及服務治理插件引入類衝突問題。目前的主要場景 ①用於隔離 Sermant 的日誌系統，避免對宿主服務的日誌系統產生影響 ②隔離 Sermant 框架的核心服務（心跳、動態配置、統一消息網關）所需三方依賴。</li><li>PluginClassLoader，遵循雙親委派，主要用於隔離 Sermant 各服務治理插件，避免不同服務治理插件之間產生類衝突問題。</li><li>ServiceClassLoader，破壞雙親委派，主要用於隔離插件中的依賴，通過該類加載器加載插件服務的相關 lib（插件服務會在插件加載時被 Sermant 初始化），開發者可任意引入三方依賴，無需關心對插件主邏輯的影響。</li></ul><p>其中的 PluginClassloader 和 ServiceClassloader 不僅在類隔離中起到至關重要的作用，更是一種長遠的考慮，為每個插件設計獨立的類加載器，使得 Sermant 可以平滑的進行插件動態安裝&amp;卸載以及插件熱更新。更詳細的類隔離機制的介紹可以參閲相關博客《Sermant 類隔離架構解析——解決 JavaAgent 場景類衝突的實踐》。</p><span id="OSC_h1_5"></span><h1>二、插件能力提升</h1><span id="OSC_h2_6"></span><h2>2.1 流量標籤透能力</h2><p>在微服務架構中，流量標籤用於對流量進行標記和分類，能夠在微服務之間實現更精細的路由、負載均衡和流控等流量治理能力。Sermant 新版本插件部分本次主要新增了流量標籤透傳插件。該插件着手於解決流量標籤在各種不同傳媒介中 (通信協議、進程內外) 進行透傳的問題，基於此能力可以實現全鏈路灰度發佈、基於流量標籤的流量控制等高階服務治理功能。</p><ul><li><strong>流量標籤透傳插件簡介</strong></li></ul><p>Sermant 對於流量標籤透傳分為兩大類：跨進程透傳和進程內透傳。跨進程透傳是指在不同的服務實例進程中傳遞流量標記，例如 http 請求的客户端和服務端。進程內透傳是指在一個服務實例的進程內傳遞流量標籤，包括線程內傳遞和跨線程傳遞。</p><p><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtybbs/519/984/817/2850086000519984817.20231031112130.59757034719402065622390169640105:50001231000000:2800:76293BD5EDF4982F53CC195AC06C0B4057E47E5C52E020D17E8B91FD98E2F2BC.png" referrerpolicy="no-referrer">​圖 – Sermant 中 http/rpc 請求的標籤透傳過程</p><p><img src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtybbs/519/984/817/2850086000519984817.20231031112130.96749315765046642733872549374631:50001231000000:2800:ABB2456FD592DE4549BD6EF19232F17C017B9CC36132B4CB581F22FE398BD5B6.png" referrerpolicy="no-referrer">​</p><p>圖 – Sermant 中消息隊列的標籤透傳過程</p><p>新版本發佈的流量標籤透插件實現了上述兩類標籤的透傳，並且支持了 http 協議、rpc 協議、消息隊列中間件，目前支持的組件包括 Apache HttpClient、OKHttp、Dubbo、GRPC、Kafka 等。</p><ul><li><strong>流量標籤透傳插件使用方式</strong></li></ul><p>該插件的使用支持靜態配置和動態配置，只需將需要透傳的流量標籤做好配置，標籤即可在全鏈路中進行透傳，具體使用方式可參考官網使用文檔。</p><p>流量標籤透傳作為 JavaAgent 中進行流量治理的基礎能力，可以將其運用在全鏈路灰度發佈、標籤流控等複雜的流量治理場景，相關介紹可以參閲相關博客<span style="background-color:#ffffff; color:#333333">《</span><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fbbs.huaweicloud.com%2Fblogs%2F411848" rel="nofollow" target="_blank">流量治理的基石——基於字節碼增強的全鏈路流量標籤透傳》</a></u></p><span id="OSC_h1_7"></span><h1>三、總結</h1><p>本次更新主要帶來了 Sermant Agent 框架和插件的動態掛載/卸載的支持、動態配置服務對 nacos 的支持、類隔離機制的優化以及流量標籤透傳能力的支持等。基於上述能力，Sermant 可以在諸如故障注入、流量治理、動態配置等服務治理的場景發揮更關鍵的作用。</p><span id="OSC_h1_8"></span><h1>結束語</h1><p>Sermant 作為專注於服務治理領域的字節碼增強框架，致力於提供高性能、可擴展、易接入、功能豐富的服務治理體驗，並會在每個版本中做好性能、功能、體驗的看護，廣泛歡迎大家的加入。</p><ul><li>Sermant 官網：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fsermant.io%2Fzh" rel="nofollow" target="_blank">https://sermant.io/zh</a></li><li>GitHub 倉庫地址：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fhuaweicloud%2FSermant" rel="nofollow" target="_blank">https://github.com/huaweicloud/Sermant</a></li></ul><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fbbs.huaweicloud.com%2Fblogs%3Futm_source%3Doschina%26utm_medium%3Dbbs-ex%26utm_campaign%3Dother%26utm_content%3Dcontent" rel="nofollow" target="_blank"><strong>點擊關注，第一時間瞭解華為雲新鮮技術~</strong></a></p></div>
                                    ]]>
            </description>
            <pubDate>Tue, 31 Oct 2023 02:27:00 GMT</pubDate>
            <guid isPermaLink="false">https://my.oschina.net/u/4526289/blog/10140232</guid>
            <link>https://my.oschina.net/u/4526289/blog/10140232</link>
            <author>
                <![CDATA[原創]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[何為「玲瓏」，它從哪裏來又要到哪裏去？| 帶你一文揭秘]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>2020 年，借鑑沙箱/容器的技術方案，玲瓏原型的核心開發悄然完成；</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>2022 年，作為 deepin 發行版未來的核心特性，玲瓏隨 deepin v23 預覽版共同發佈，初步具備可用性；</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>2023 年，我們將玲瓏項目代碼、玲瓏官網、玲瓏商店等資產捐贈給開放原子開源基金會，欲匯聚更多產業力量，攜手推動玲瓏發展，加速生態建設......</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>那麼到底何為「玲瓏」？它從哪裏來？又要到哪裏去？接下來，此文為你一一揭秘。</span></p><h2><span>前言：軟件包管理器的演進</span></h2><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>Linux 操作系統一直以其開源性質和靈活性而聞名，而要使 Linux 系統能夠順利安裝並運行所需的軟件，最關鍵的部分就是軟件包管理器。&nbsp;</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>顧名思義，Linux 軟件包管理器是一種在 Linux 操作系統上用於安裝、更新和卸載軟件包的工具。它的歷史可以追溯到上世紀 90 年代，此時 Linux 正處於起步階段，軟件的安裝必須手動下載源代碼並編譯，這對非技術用户來説是一項繁瑣且困難的任務。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>這種情況下，先後催生了 dpkg 和 rpm，然而由於不能自動解決依賴關係，其使用起來依舊不便。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>直到 Debian 的 apt、Red Hat 的 up2date 的發佈，包管理器可用性有了很大的提升。它們採用了一種被稱為「依賴關係解決器」的算法，能夠自動解決軟件包之間的依賴關係，從而簡化軟件的安裝和升級過程。但這在另一方面大大增加了複雜度，維護者們需要非常謹慎小心地處理，稍有不慎就會陷入「依賴地獄」，導致軟件包系統發生故障。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>此外，還有許多其他的軟件包管理器，如 yum、portage 和 pacman 等。包管理器的多樣性給用户帶來了更多選擇，但缺點也十分顯著：它們的軟件包無法互通，這意味着一款軟件要在其他發行版上使用，可能需要被重複打包。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>隨着 Linux 內核對容器的支持、Docker 的誕生，Snap、Flatpak 等一批容器思想的包管理器也開始嶄露頭角。這類格式的軟件包與系統環境幾乎完全解耦，不再依賴系統上的庫文件（AppImage 也是如此），應用分發開始逐步變得簡單起來。但磁盤、內存佔用較高，啓動時間被不斷延長等問題也隨之而來，至今仍未被解決。</span></p><h2><span>探索：「玲瓏」應運而生</span></h2><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>deepin 自 2015 年放棄基於 Ubuntu 作為上游，選擇 Ubuntu 的非商業上游社區 Debian 作為研發的基礎起，我們便收到了眾多用户關於軟件包管理上的問題反饋，常見的有：</span></p><ul><li><span>系統上能用的應用太少，可用的應用版本太老；</span></li><li><span>系統更新後，某些應用無法正常使用；</span></li><li><span>從其他來源獲取某些應用軟件安裝後，包管理器無法正常工作，甚至系統無法繼續使用。</span></li></ul><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>以上這些問題有一個共性原因：<strong>依賴關係綁定太強。</strong>因系統底層庫的關係，應用無法隨意更新，在底層庫有接口變動時，應用需要重新適配才能正常工作。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>在意識到這些問題後，我們開始嘗試使用新的軟件包管理器。</span></p><ul><li><span>在 deepin 上適配 Snap：由於 Snap 在除 Ubuntu 系統環境外有諸多兼容性問題，遂放棄。</span></li><li><span>將部分自研應用轉化為 AppImage：AppImage 有着不錯的可移植性，這些應用可以很輕鬆地在其他發行版上使用。但它沒有集中的倉庫存儲和軟件包管理功能，也不提供 Snap、Flatpak 同一級別的沙箱，安全性無法保障，不適合作為操作系統的默認軟件包管理方式。</span></li><li><span>2017 年，deepin 對 Flatpak 格式進行了跟進，完成了 100+ 的軟件包構建工作，後因其應用體積較大，磁盤佔用過多、Bug 修復緩慢等各種原因沒有繼續適配。&nbsp;</span></li></ul><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>在經歷過種種「折騰」後，基於對各類包管理器的瞭解，我們決定自己設計一套軟件包管理系統。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>在經過 3 個多月的技術調研，1 年多的原型驗證、技術方案完善和產品打磨後，<strong>最終一套先進的解決方案——「玲瓏」應運而生。</strong></span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><img alt="" height="500" src="https://www.deepin.org/wp-content/uploads/2023/08/1-1-300x192.png" width="782" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><span>頂層組件關係圖</span></p><ul><li><span>應用沙箱 (ll-box) ：按照 OCI 標準設計的應用沙箱運行環境，利用內核 Cgroup、Namespace 特性將應用與宿主機環境隔離，限制系統資源的使用。</span></li><li><span>應用管理服務 (ll-service/ll-cli) ：提供應用沙箱環境創建，系統兼容性問題處理等功能。完成對應用的安裝狀態/運行狀態管理。</span></li><li><span>權限管理代理服務 (ll-dbus-proxy/ll-fuse-proxy) ：提供權限管理功能，包括 DBus 接口以及文件接口。</span></li><li><span>應用構建工具（ll-builder）：提供容器化的應用構建環境，方便開發者在不同的環境上構建出一致性的應用。</span></li><li><span>單獨打包格式（uab/AppBundle）：Uniontech Application Bundle，應用包封裝格式，提供可直接運行的二進制包格式。</span></li><li><span>倉庫系統（ll-repo-server）：提供包上傳、下載、信息統計、查詢等功能，底層存儲使用 OSTree。</span></li></ul><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span><img alt="" height="409" src="https://www.deepin.org/wp-content/uploads/2023/08/2-300x172.png" width="713" referrerpolicy="no-referrer"></span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><span>運行視圖</span></p><h2><span>成果：解決兼容性問題、性能大幅提升</span></h2><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>此前，國內軟件生態建設尚不成熟，軟件兼容性、安全性問題頻出，在面向不同的操作系統進行應用打包和分發時，會額外耗費大量的時間和資源。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>而玲瓏的出現，無疑為解決這一難題提供了新思路。玲瓏的隔離技術可以將應用與系統進行完全解耦，從而徹底解決系統與應用、應用與應用之間因升級引起的兼容性問題 ，同時減少不同操作系統下分發時的打包次數。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><span><img alt="" height="418" src="https://www.deepin.org/wp-content/uploads/2023/08/3-300x133.png" width="943" referrerpolicy="no-referrer"></span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><span>傳統架構 Vs 玲瓏架構</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>當前，玲瓏的基礎設施已較為完善，衍生出了 5 個項目，共 9 個組件。</span></p><ol><li><img alt="" height="447" src="https://www.deepin.org/wp-content/uploads/2023/08/4-300x145.png" width="925" referrerpolicy="no-referrer"></li></ol><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><span>項目組件概述</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>相比其他類似軟件包格式，玲瓏在啓動速度、資源佔用方面具有許多優勢：</span></p><ul><li><span>使用非全量運行時（宿主系統+Runtime），整體體積較小；</span></li><li><span>由於複用宿主系統上的庫，可以使用到部分已經加載到內存中的庫文件，啓動速度會更快，同一應用在玲瓏下啓動速度提升顯著；</span></li><li><span>提供開發庫託管服務，類似 NuGet，方便開發者進行開發；</span></li><li><span>支持 Rootless（無特權）沙箱。</span></li></ul><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><span><img alt="" height="348" src="https://www.deepin.org/wp-content/uploads/2023/08/5-300x108.png" width="967" referrerpolicy="no-referrer"></span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><span>軟件包大小統計</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><span><img alt="" height="555" src="https://www.deepin.org/wp-content/uploads/2023/08/6-300x214.png" width="778" referrerpolicy="no-referrer"></span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><span>軟件包啓動耗時統計</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>在最新版本 deepin v23 上，已預裝十多款左右玲瓏格式自研應用。玲瓏網頁商店內，常用應用已上架 120 餘款，如 QQ、微信、網易雲音樂、迅雷等，累計下載量當前已達 40w+。</span></p><h2><span>未來：助力操作系統軟件包生態健康發展</span></h2><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>未來，我們將從權限管控、用户交互及可用軟件數量等方面着手，對玲瓏進行進一步加強優化。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>1、權限管控</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>當前玲瓏文件訪問文件的權限較為單一，只能在應用啓動前處理目錄的掛載，未掛載的目錄無法被啓動後的應用訪問到。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>未來將會支持文件訪問權限的動態管控，無論應用啓動與否均可管理，同時控制中心會同步適配玲瓏的權限管控，提供應用權限管理界面。&nbsp;</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>2、用户交互</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>目前玲瓏應用的更新需要用户手動命令行更新，需要一定的 Linux 基礎。且當軟件包出現問題時，無法直接查詢到構建源頭的信息，如 git 項目的 hash 值。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>未來，應用商店將支持玲瓏應用更新。同時支持溯源，對開發者來説能快速查詢到軟件包使用的源文件 hash 值，更容易追蹤和解決問題。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>3、軟件包生態</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>生態建設需要大家共同發力，我們目前已在着手開發相關軟件包轉換工具，可以將現有的 deb、appimage 等格式軟件包輕鬆地轉換成玲瓏應用。同時也在推動已有合作軟件廠商對玲瓏的適配。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>與其踽踽獨行，不如結伴而行，生態建設需要大家共同努力。此前，deepin 開源社區已和北京航空航天大學開展暑期共建開源生態合作，已有眾多北航學子參與到生態共建中來。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span>我們衷心希望玲瓏能夠解決多發行版應用分發困難的問題，同時也期待更多的感興趣的朋友加入我們，共建應用分發體系，為操作系統軟件生態健康發展貢獻力量。</span></p></div>
                                    ]]>
            </description>
            <pubDate>Tue, 31 Oct 2023 02:26:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/264558</guid>
            <link>https://www.oschina.net/news/264558</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[vLLM —— 快速易用的 LLM 推理和服務庫]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="text-align:start"><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>vLLM 是一個快速且易於使用的 LLM 推理和服務庫。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p style="text-align:start"><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>vLLM 的速度很快：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><ul><li>最先進的服務吞吐量</li><li><strong>使用 PagedAttention&nbsp;</strong>高效管理 <span style="background-color:#ffffff; color:#1f2328">attention key 和 value memory</span></li><li>連續批處理傳入請求</li><li>優化的 CUDA 內核</li></ul><p style="text-align:start"><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>vLLM 靈活且易於使用：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><ul><li>與流行的 Hugging Face 模型無縫集成</li><li>高吞吐量服務與各種解碼算法，包括<em>並行採樣</em>、<em>波束搜索</em>等</li><li>對分佈式推理的張量並行支持</li><li>流輸出</li><li>兼容 OpenAI 的 API 服務器</li></ul><p style="text-align:start"><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>vLLM 無縫支持許多 Hugging Face 模型，包括以下架構：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><ul><li>Aquila &amp; Aquila2 (<code>BAAI/AquilaChat2-7B</code>,<span>&nbsp;</span><code>BAAI/AquilaChat2-34B</code>,<span>&nbsp;</span><code>BAAI/Aquila-7B</code>,<span>&nbsp;</span><code>BAAI/AquilaChat-7B</code>, etc.)</li><li>Baichuan (<code>baichuan-inc/Baichuan-7B</code>,<span>&nbsp;</span><code>baichuan-inc/Baichuan-13B-Chat</code>, etc.)</li><li>BLOOM (<code>bigscience/bloom</code>,<span>&nbsp;</span><code>bigscience/bloomz</code>, etc.)</li><li>Falcon (<code>tiiuae/falcon-7b</code>,<span>&nbsp;</span><code>tiiuae/falcon-40b</code>,<span>&nbsp;</span><code>tiiuae/falcon-rw-7b</code>, etc.)</li><li>GPT-2 (<code>gpt2</code>,<span>&nbsp;</span><code>gpt2-xl</code>, etc.)</li><li>GPT BigCode (<code>bigcode/starcoder</code>,<span>&nbsp;</span><code>bigcode/gpt_bigcode-santacoder</code>, etc.)</li><li>GPT-J (<code>EleutherAI/gpt-j-6b</code>,<span>&nbsp;</span><code>nomic-ai/gpt4all-j</code>, etc.)</li><li>GPT-NeoX (<code>EleutherAI/gpt-neox-20b</code>,<span>&nbsp;</span><code>databricks/dolly-v2-12b</code>,<span>&nbsp;</span><code>stabilityai/stablelm-tuned-alpha-7b</code>, etc.)</li><li>InternLM (<code>internlm/internlm-7b</code>,<span>&nbsp;</span><code>internlm/internlm-chat-7b</code>, etc.)</li><li>LLaMA &amp; LLaMA-2 (<code>meta-llama/Llama-2-70b-hf</code>,<span>&nbsp;</span><code>lmsys/vicuna-13b-v1.3</code>,<span>&nbsp;</span><code>young-geng/koala</code>,<span>&nbsp;</span><code>openlm-research/open_llama_13b</code>, etc.)</li><li>Mistral (<code>mistralai/Mistral-7B-v0.1</code>,<span>&nbsp;</span><code>mistralai/Mistral-7B-Instruct-v0.1</code>, etc.)</li><li>MPT (<code>mosaicml/mpt-7b</code>,<span>&nbsp;</span><code>mosaicml/mpt-30b</code>, etc.)</li><li>OPT (<code>facebook/opt-66b</code>,<span>&nbsp;</span><code>facebook/opt-iml-max-30b</code>, etc.)</li><li>Qwen (<code>Qwen/Qwen-7B</code>,<span>&nbsp;</span><code>Qwen/Qwen-7B-Chat</code>, etc.)</li></ul></div>
                                                                ]]>
            </description>
            <pubDate>Tue, 31 Oct 2023 02:24:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/p/vllm</guid>
            <link>https://www.oschina.net/p/vllm</link>
        </item>
    </channel>
</rss>
