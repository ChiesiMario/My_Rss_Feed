<?xml version="1.0" encoding="UTF-8"?>
<rss
    xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"


>
    <channel>
        <title>
            <![CDATA[開源中國-綜合資訊]]>
        </title>
        <link>https://www.oschina.net/news/industry</link>
        <atom:link href="https://rsshub.app/oschina/news/industry" rel="self" type="application/rss+xml" />
        <description>
            <![CDATA[開源中國-綜合資訊 - Made with love by RSSHub(https://github.com/DIYgod/RSSHub)]]>
        </description>
        <generator>RSSHub</generator>
        <webMaster>i@diygod.me (DIYgod)</webMaster>
        <language>zh-cn</language>
        <lastBuildDate>Thu, 01 Feb 2024 07:00:10 GMT</lastBuildDate>
        <ttl>120</ttl>
        <item>
            <title>
                <![CDATA[Kurator V0.6.0：實現應用全流程生命週期管理]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>本文分享自華為雲社區《<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fbbs.huaweicloud.com%2Fforum%2Fthread-0271141912138799003-1-1.html%3Futm_source%3Doschina%26utm_medium%3Dbbs-ex%26utm_campaign%3Dother%26utm_content%3Dcontent" target="_blank" rel="nofollow">Kurator V0.6.0：實現應用全流程生命週期管理</a>》，作者：雲容器大未來。</p><p>Kurator 是華為雲開源的面向分佈式雲原生環境的一站式解決方案。它利用 Karmada 作為多集羣編排基礎，內置集成了 Istio、Prometheus、Thanos、Volcano、KubeEdge、Argo 等主流雲原生技術。基於此，Kurator 構建了包括集羣艦隊管理、集羣生命週期管理、統一應用分發、流量治理、監控和策略管理在內的分佈式雲平台管理能力。</p><p><strong>在最新 0.6.0 版本中，Kurator 為雲原生應用增加了 CI/CD 流水線設置與管理功能，簡化流水線創建。此外，強化了 0.4.0 版本發佈的統一應用分發功能，可以在部署新應用時設置金絲雀（灰度）發佈、A/B 測試、藍綠髮布三種漸進式發佈策略。</strong>新增的流水線特性和漸進式發佈功能與統一分發能力結合，實現基於代碼倉庫的 GitOps 工作流。這有助於快速構建分佈式雲原生平台，簡化應用開發與發佈流程。Kurator CI/CD 的結構圖如下所示：</p><p><img src="https://bbs-img.huaweicloud.com/blogs/img/20240129/1706529011645122301.png" referrerpolicy="no-referrer"></p><p>用戶更新代碼倉庫後，觸發 Kurator 流水線，完成代碼拉取、檢查、編譯並構建鏡像。其後，用戶更新應用部署模板，例如更改應用配置中的鏡像信息。Kurator Application Controller 偵測到配置更新，將自動觸發已應用的漸進式發佈策略，實現應用的自動發佈。如此一來，整個軟件研發生命週期以代碼為中心，實現開發至發佈完整流程的自動化，簡化運維、部署工作。</p><span id="OSC_h1_1"></span><h1>流水線</h1><p>CI/CD 流水線實現源碼到發佈的自動化過程，包括源碼管理、檢查、測試等階段。但由於每個階段技術需求不同，導致流水線配置和管理難度大。Kurator 參考開源項目 Tekton，通過預定義常用任務模版的方式簡化流水線創建操作。用戶只需指定任務名稱和代碼倉庫訪問憑證即可創建流水線，使用門檻低。對熟悉流水線的高級用戶，Kurator 也支持自定義任務。用戶可以根據自己需求定製任務內容，滿足個性化場景。通過預置任務模板和自定義任務的能力，Kurator 大幅簡化了流水線配置和管理的難度。</p><p><img src="https://bbs-img.huaweicloud.com/blogs/img/20240129/1706529025172859223.png" referrerpolicy="no-referrer"></p><p>從圖中可以看出，在使用流水線時，Kurator 完成了大部分工作。用戶只需配置運行環境，選擇任務模板即可完成流水線創建，大大減少學習成本。特別是與傳統 Tekton 相比，Kurator 提供了預定義任務模板，用戶只關注任務內容而不再處理具體實現，實現了流水線使用的極致簡化。</p><p>除了簡化流水線的創建操作外，Kurator 還考慮到了軟件供應鏈安全，可以在流水線構建鏡像時自動為其添加數字簽名和源頭證明，以防範假冒鏡像，保證鏡像源頭可靠，保證在鏡像製作方面的安全性。軟件供應鏈安全指的是保護軟件從開發到部署的整個生命週期過程中的安全性。軟件供應鏈安全可以提高軟件安全性能和用戶信任度，預防惡意代碼滲透。簽名和證明添加後，鏡像將自動上傳至倉庫。在鏡像倉庫中可以直接查看鏡像簽名和證明的詳細情況，如圖所示。</p><p><img src="https://bbs-img.huaweicloud.com/blogs/img/20240129/1706529042004882142.png" referrerpolicy="no-referrer">用戶可以用簽名過程生成的公鑰驗證鏡像簽名和源頭。這樣在生產中,生產者僅需公佈簽名公鑰，就能讓用戶驗證數字簽名和來源證明。接下來將展示一個在 Kurator 中創建一個流水線的示例：</p><p><img src="https://bbs-img.huaweicloud.com/blogs/img/20240129/1706529059510694415.png" referrerpolicy="no-referrer"></p><p>在流水線定義 spec.tasks 中指定任務名稱，即可選擇 Kurator 內置的常用任務模板。目前內置的常用任務模板包括:</p><table border="1" cellspacing="0" style="border-collapse:collapse; border-spacing:0px; border:1px solid #f6f6f6; box-sizing:border-box; font-size:0.8em; max-width:100%; overflow:auto"><tbody><tr><td><p>&nbsp;</p><p>名稱</p><p>&nbsp;</p></td><td>任務目標</td></tr><tr><td>git-clone</td><td>拉取源碼</td></tr><tr><td>go-test</td><td>運行 go 代碼單元測試 <p>&nbsp;</p></td></tr><tr><td>go-lint</td><td>go 源碼靜態檢查</td></tr><tr><td>build-and-push-image</td><td>編譯，構建鏡像並上傳</td></tr></tbody></table><p>此外，通過 customTask 定義可以發佈自定義任務。通過指定 image、command 和 args,實現定製任務需求，如上述示例中自定義任務完成的工作就是打印 README.md。</p><p>更多的示例和細節，請參考: https://kurator.dev/docs/pipeline/</p><span id="OSC_h1_2"></span><h1>漸進式發佈</h1><p>金絲雀發佈、A/B 測試和藍綠髮布都是主流的應用發佈策略，可有效減少上線風險。Kurator 0.6.0 在原統一應用分發基礎上，增加漸進式發佈功能。現在應用可以指定三種漸進式發佈策略中的一種策略。同時，可以將具備發佈能力的統一分發，與 CI/CD 流水線結合起來，實現基於代碼倉庫的 GitOps 工作流。</p><span id="OSC_h2_3"></span><h2>金絲雀發佈</h2><p>金絲雀部署是一種漸進式發佈策略。先向少數用戶發佈新的軟件版本進行測試，根據測試結果，決定是否向更多用戶推出新版本。旨在最大限度地減少新版本上線後對用戶的影響，是一種更安全、更可靠的軟件發佈策略。參閲以下的操作示例，瞭解如何使用 Kurator 配置金絲雀發佈。</p><p><img src="https://bbs-img.huaweicloud.com/blogs/img/20240129/1706529079804747862.png" referrerpolicy="no-referrer"></p><p>通過配置 rollout 中的 workload 字段，可以將金絲雀發佈的目標設置為 webapp 命名空間下名為 backend 的應用。發佈目標除了支持 deployment 應用之外，還支持 daemonSet 應用。流量分析使用 Kurator 內置的請求成功率（request-sueccess-rate）和平均訪問時延（request-duration）兩個指標作為衡量新版本是否健康的標準。其中通過 thresholdRange 指定閾值。示例中要求請求成功率<span style="background-color:#ffffff; color:#222222">達</span><strong>99%</strong>，平均訪問時延小於 500ms，新版本的服務才會被認定為健康。rolloutPolicy.canaryStrategy 配置了每次測試成功後，下次流量遞增的比例和最終允許測試版本流量佔比的最大值，從而實現漸進式發佈新版本。示例中每次遞增<span>&nbsp;</span><strong>10%</strong><span>&nbsp;</span>的流量流向新版本，最多為 50%。也可以設置 maxWeight 為 55，這樣在最後一次測試的時候，只會新增<span>&nbsp;</span><strong>5%<span>&nbsp;</span></strong>的流量流向新版本。除了這些配置之外，Kurator 還可以設定完成驗證之後，流量以什麼樣的比例逐步流向新版本。</p><p>更多細節請參考: https://kurator.dev/docs/fleet-manager/rollout/canary/</p><span id="OSC_h2_4"></span><h2>A/B 測試</h2><p>A/B 測試為效果測試，是驗證應用兩版本表現的測試方法。它通過將用戶分到不同組，每個組體驗不同版本，然後分析每個組用戶在使用過程中的各項指標，選擇效果較好的版本。A/B 測試也可以先讓部分用戶試用新版本，收集真實環境下的用戶反饋，再決定是否上線新版本。瞭解如何在 Kurator 配置應用的 A/B 測試，請參考下方操作示例。</p><p><strong><img src="https://bbs-img.huaweicloud.com/blogs/img/20240129/1706529101336764346.png" referrerpolicy="no-referrer"></strong></p><p>和金絲雀發佈類似，由 workload 指定 A/B 測試的目標。通過 metric 指定測試的指標。A/B 測試和金絲雀發佈不同的點在於需要配置 match 中的匹配規則，實現流量分組。上述 match 配置是隻有 http 請求頭滿足使用 FireFox 瀏覽器或請求的 cookie 中包含 「type=insider」 的情況下，請求才會被轉發到新版本。通過對不同請求頭的處理達到對用戶分組的效果，對不同的版本進行效果測試。除了匹配請求頭之外，還能匹配 URI、端口號等。</p><p>更多細節請參考: https://kurator.dev/docs/fleet-manager/rollout/abtest/</p><span id="OSC_h2_5"></span><h2>藍綠髮布</h2><p>藍綠髮布是一種漸進零停機發布方法。它將生產環境分為兩個獨立運行的藍綠環境,藍環境承載當前實際流量，綠環境預部署新版本。新版本通過測試後,只需切換流量到綠環境，就能實現零停機升級。藍環境備用支持回滾。通過實時擴容，可近乎零停機完成迭代交付，提高發布效率和用戶體驗。瞭解如何在 Kurator 配置藍綠髮布的操作示例，請參考下方。</p><p><img src="https://bbs-img.huaweicloud.com/blogs/img/20240129/1706529124611169009.png" referrerpolicy="no-referrer"></p><p>藍綠髮布需要配置目標應用、測試指標、迭代次數和容許測試失敗的次數，其中測試的迭代次數由 analysisTimes 指定，容許測試失敗的次數由 checkFailedTimes 指定，除此之外無需配置別的規則。因為藍綠髮布在測試新版本的時候是將全局流量轉發到綠環境中進行測試，沒有金絲雀發佈的漸進式流量遞增和 A/B 測試的對用戶分組的需求。</p><p>更多細節請參: https://kurator.dev/docs/fleet-manager/rollout/blue-green/</p><span id="OSC_h1_6"></span><h1>未來展望</h1><p>綜上所述，通過 CI/CD 流水線和漸進式發佈功能，Kurator 實現了從源碼到發佈的完整流水線自動化，真正提升了開發效率和運維能力，實現開發、配置和發佈的應用全流程生命週期管理。此外還大幅簡化了採用 CI/CD 流水線和漸進式發佈的門檻。隨着 Kurator 的不斷迭代升級，我們還將繼續為流水線添加更多的預定義任務模板，為漸進式發佈提供更多的測試指標。歡迎大家試用 Kurator 並提出寶貴的意見與需求。Kurator 的門戶為：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fkurator-dev%2Fkurator" rel="nofollow" target="_blank">https://github.com/kurator-dev/kurator</a></p><p>隨着功能的逐漸完善，Kurator 將成為用戶快速立體掌握雲原生技術體系、高效運行分佈式應用的強大工具。</p><span id="OSC_h3_7"></span><h3>參考鏈接</h3><p>Kurator 項目地址：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fkurator-dev%2Fkurator" rel="nofollow" target="_blank">https://github.com/kurator-dev/kurator</a></p><p>CI/CD 流水線：https://kurator.dev/docs/pipeline/</p><p>軟件供應鏈安全：https://kurator.dev/docs/pipeline/chain-security/</p><p>漸進式發佈：https://kurator.dev/docs/fleet-manager/rollout/</p><p>金絲雀發佈：https://kurator.dev/docs/fleet-manager/rollout/canary/</p><p>A/B 測試：https://kurator.dev/docs/fleet-manager/rollout/abtest/</p><p>藍綠髮布：https://kurator.dev/docs/fleet-manager/rollout/blue-green/</p><p>&nbsp;</p><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fbbs.huaweicloud.com%2Fblogs%3Futm_source%3Doschina%26utm_medium%3Dbbs-ex%26utm_campaign%3Dother%26utm_content%3Dcontent" rel="nofollow" target="_blank"><strong>點擊關注，第一時間瞭解華為雲新鮮技術~</strong></a></p><p>&nbsp;</p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 01 Feb 2024 05:49:00 GMT</pubDate>
            <guid isPermaLink="false">https://my.oschina.net/u/4526289/blog/11009306</guid>
            <link>https://my.oschina.net/u/4526289/blog/11009306</link>
            <author>
                <![CDATA[原創]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[新增 2 開源項目進入 CNCF 雲原生全景圖]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#222222; margin-left:8px; margin-right:8px; text-align:justify"><span style="color:#3e3e3e"><span>近日，字節跳動 2 個雲原生開源項目<span>&nbsp;</span></span><a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzk0NDMzNjkxNw%3D%3D%26mid%3D2247484922%26idx%3D1%26sn%3Dfb8922282b6215f28f69a3d9e23fa855%26chksm%3Dc3277c80f450f596fa53c910a75c38e3c22ff864782ec626a0a9842be736dd8ea006d0f2f6b8%26scene%3D21%23wechat_redirect" target="_blank"><strong>Katalyst</strong></a></span><span>&nbsp;</span><span style="color:#3e3e3e"><span>和<span>&nbsp;</span></span><a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzk0NDMzNjkxNw%3D%3D%26mid%3D2247485243%26idx%3D1%26sn%3D5f39a6597498268c6c965554b12a6849%26chksm%3Dc3277e41f450f75780babf0767f45ea712c1cf59f8b9c7f6d2b48809bb4158648d7c357a76a6%26scene%3D21%23wechat_redirect" target="_blank"><strong>KubeAdmiral</strong></a></span><span style="color:#3e3e3e">&nbsp;陸續進入&nbsp;CNCF 雲原生全景圖，均被收錄在<span>&nbsp;</span></span><span style="color:#0080ff"><em>Orchestration &amp; Management - Scheduling &amp; Orchestration</em></span><span style="color:#3e3e3e"><span>&nbsp;</span>分類下，成為 CNCF 官方認可生態構建工具中的一部分。</span></p><blockquote><p style="color:var(--weui-FG-1); margin-left:0; margin-right:0; text-align:left"><span><span style="color:var(--weui-FG-1)">Katalsyt｜</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flandscape.cncf.io%2F%3Fitem%3Dorchestration-management--scheduling-orchestration--katalyst" target="_blank"><u>https://landscape.cncf.io/?item=orchestration-management--scheduling-orchestration--katalyst</u></a></span></p><p style="color:var(--weui-FG-1); margin-left:0; margin-right:0; text-align:left"><span><span style="color:var(--weui-FG-1)">KubeAdmiral｜</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flandscape.cncf.io%2F%3Fitem%3Dorchestration-management--scheduling-orchestration--kubeadmiral" target="_blank"><u>https://landscape.cncf.io/?item=orchestration-management--scheduling-orchestration--kubeadmiral</u></a></span></p></blockquote><p><img height="433" src="https://oscimg.oschina.net/oscnet/up-88b912acd053b7736fa52b640c7290716a9.png" width="1080" referrerpolicy="no-referrer"></p><p>&nbsp;</p><p><strong><span>CNCF Landscape</span></strong></p><p style="color:#222222; margin-left:8px; margin-right:8px; text-align:justify"><span style="color:#3e3e3e">CNCF 全景圖（Cloud Native Computing Foundation Landscape）是一個展示雲原生技術和解決方案的可視化圖表。它由 CNCF（Cloud Native Computing Foundation，雲原生計算基金會）維護和更新，旨在為用戶提供一個全面的視圖，幫助雲原生用戶瞭解雲原生生態系統中的各種工具、框架、平台和服務。</span></p><p><span style="color:#3e3e3e">通過查看 CNCF 全景圖，用戶可以瞭解到雲原生技術的發展趨勢和最新動態，同時也可以找到適合自己的工具和框架，以構建高效、可擴展和安全的雲原生應用程序。</span></p><p>&nbsp;</p><p><strong><span>關於 Katalyst</span></strong></p><blockquote><p style="color:var(--weui-FG-1); margin-left:0; margin-right:0; text-align:left"><span style="color:var(--weui-FG-1)">GitHub｜</span><a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fgithub.com%2Fkubewharf%2Fkatalyst-core" target="_blank"><u>github.com/kubewharf/katalyst-core</u></a></p></blockquote><p style="color:#222222; margin-left:8px; margin-right:8px; text-align:justify"><span style="color:#3e3e3e">Katalyst 是字節跳動對多年大規模業務雲原生化場景中資源管理能力的抽象和總結，這是一套在雲原生場景下通過在離線業務混合部署技術及精細化資源管理手段，提升資源管理效率和降低資源使用成本的系統。</span></p><p style="color:#222222; margin-left:8px; margin-right:8px; text-align:justify"><span style="color:#3e3e3e">體驗<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzk0NDMzNjkxNw%3D%3D%26mid%3D2247486313%26idx%3D1%26sn%3D486c5af4eb15b0158d0e46b2990e67de%26chksm%3Dc3277213f450fb05208e88613bea393a875569b9c4dc024a281257c12a8249a36aea248a111a%26scene%3D21%23wechat_redirect" target="_blank">Katalyst 最新版本</a>潮汐混部和資源超分能力：</span></p><ul><li><p style="color:#222222; margin-left:8px; margin-right:8px; text-align:left"><span style="color:#3e3e3e">潮汐混部：</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgokatalyst.io%2Fdocs%2Fuser-guide%2Ftidal-colocation%2F" target="_blank"><u>https://gokatalyst.io/docs/user-guide/tidal-colocation/</u></a></p></li><li><p style="color:#222222; margin-left:8px; margin-right:8px; text-align:left"><span style="color:#3e3e3e">資源超分：</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgokatalyst.io%2Fdocs%2Fuser-guide%2Fresource-overcommitment%2F" target="_blank"><u>https://gokatalyst.io/docs/user-guide/resource-overcommitment/</u></a></p></li></ul><p><span style="color:#3e3e3e">面對雲原生業務常見的資源浪費場景，除了採用 Katalyst 目前已經實現的在離線常態混部、潮汐混部、資源超分等能力外，還有基於 AI 算法預測能力精細化控制工作負載副本數的智能 HPA；以及基於預測算法推薦更符合實際業務需求的 Request 配置，防止資源過度佔用的規格推薦等解決方案，企業可以結合具體的業務場景進行選擇或搭配使用。</span></p><p>&nbsp;</p><p><strong><span>關於 KubeAdmiral</span></strong></p><blockquote><p style="color:var(--weui-FG-1); margin-left:0; margin-right:0; text-align:left"><span style="color:var(--weui-FG-1)">GitHub｜</span><a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fgithub.com%2Fkubewharf%2Fkubeadmiral" target="_blank"><u>github.com/kubewharf/kubeadmiral</u></a></p></blockquote><p style="color:#222222; margin-left:8px; margin-right:8px; text-align:justify"><span style="color:#3e3e3e">KubeAdmiral 基於 Kubernetes Federation v2 迭代演進而來，可以幫助用戶輕鬆管理多個 Kubernetes 集羣，並通過統一的接口和資源池將工作負載傳播到成員集羣。憑藉其豐富且可擴展的調度和分發框架，KubeAdmiral 支持一系列的用戶場景。KubeAdmiral 簡化了多集羣管理，支持動態副本分配、跨集羣容災、自動傳播依賴等功能。</span></p><p style="color:#222222; margin-left:8px; margin-right:8px; text-align:justify"><span style="color:#3e3e3e">2023 年 10 月，火山引擎基於 KubeAdmiral 打造的<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzk0NDMzNjkxNw%3D%3D%26mid%3D2247485882%26idx%3D1%26sn%3Dd4902025804c1042c3bee536b8f154f5%26chksm%3Dc32770c0f450f9d6eba745c178d69802b60e908d95c5bef078dfadf07d2a55bdc1c6bebb9a1f%26scene%3D21%23wechat_redirect" target="_blank">分佈式雲原生平台 DCP</a><span>&nbsp;</span>正式公測。DCP 是面向多雲多 Kubernetes 集羣場景的企業級雲原生統一管理平台，提供多雲集羣統一管理與運維、應用跨集羣分發、統一流量管控等能力，為用戶打造無處不在的雲原生一致體驗。</span></p><p><span style="color:#3e3e3e">如需開源交流，添加字節跳動雲原生小助手，加入雲原生社羣。</span></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 01 Feb 2024 05:29:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/277253</guid>
            <link>https://www.oschina.net/news/277253</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Java 提案計劃棄用 sun.misc.Unsafe 中的內存訪問]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="color:#000000">OpenJDK 社區中一個名為「<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fopenjdk.org%2Fjeps%2F8323072" target="_blank">Deprecate Memory-Access Methods in sun.misc.Unsafe for Removal</a>」的 JEP 草案提出，建議棄用 sun.misc.Unsafe 中的內存訪問方法，以便在未來的 Java 版本中將其進行刪除。</span></p><p><span style="color:#000000">sun.misc.Unsafe 類於 2002 年引入，是 JDK 中 Java 類執行低級操作的一種方法，距今已有 20 多年的歷史。在該類的 87 個方法中，有 79 個用於內存訪問。</span></p><p><img height="281" src="https://oscimg.oschina.net/oscnet/up-e6847ab49a09af3d783ef2fd5ae0f2b4b87.png" width="500" referrerpolicy="no-referrer"></p><p><span style="color:#000000">該提案指出，自 JDK 9（用於訪問堆內內存）和 JDK 22（用於訪問堆外內存）以來，這些不受支持的方法已經有了受支持的替代方法。因此強烈建議庫開發人員從 sun.misc.Unsafe 遷移到受支持的替代方法，以便應用程序能夠順利遷移到現代 JDK。</span></p><p><span style="color:#000000">提案的目標包括為在未來的 JDK 版本中移除 sun.misc.Unsafe 中的內存訪問方法做好準備，以及幫助開發人員瞭解他們的應用程序何時直接或間接依賴 sun.misc.Unsafe 中的內存訪問方法。但它並不旨在完全刪除 sun.misc.Unsafe 類，因為該類中的少量方法不用於內存訪問，所以將會保持不被棄用；它們的廢棄和移除將單獨進行。</span></p><p><span style="color:#000000">提案並未明確提及將具體在哪個 Java 版本廢棄這些方法。但 JDK 22 計劃於 3 月份發佈，其功能集已被凍結；因此計劃於 9 月份發佈的 JDK 23 可能將是其目標。</span></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 01 Feb 2024 03:47:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/277235/java-proposal-scrap-sunmiscunsafe-memory-access</guid>
            <link>https://www.oschina.net/news/277235/java-proposal-scrap-sunmiscunsafe-memory-access</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Lepton Search —— 對話式 AI 搜索工具]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>Lepton Search 是用 500 行 Python 代碼構建的對話式 AI 搜索工具。該項目的後端是 Mixtral-8x7b 模型，託管在 Lepton AI，輸出速度能達到每秒大約 200 個 token，搜索引擎採用了 Bing 的搜索 API。</p><p><img src="https://oscimg.oschina.net/oscnet/up-653f2a2bd37324fb0d75d8ceb45ba2c5187.png" referrerpolicy="no-referrer"></p><p><strong>特性</strong></p><ul><li>內置 LLM 支持</li><li>內置搜索引擎支持</li><li>可定製 UI</li><li>可共享的緩存搜索結果</li></ul><p>&nbsp;</p></div>
                                                                ]]>
            </description>
            <pubDate>Thu, 01 Feb 2024 03:17:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/p/search-with-lepton</guid>
            <link>https://www.oschina.net/p/search-with-lepton</link>
        </item>
        <item>
            <title>
                <![CDATA[每日一博 | 開發 Java 應用時如何用好 Log]]>
            </title>
            <description>
                <![CDATA[<div class="content"><div class="rich_media_content js_underline_content
                       autoTypeSetting24psection
            " id="js_content"><section style="margin-bottom: 8px;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);text-align: center;visibility: visible;" data-mpa-powered-by="yiban.io"><img class="rich_pages wxw-img __bg_gif" data-backh="96" data-backw="578" data-cropselx1="0" data-cropselx2="578" data-cropsely1="0" data-cropsely2="96" data-imgfileid="503043467" data-ratio="0.16666666666666666" data-type="gif" data-w="636" src="https://oscimg.oschina.net/oscnet/86315af4-1081-4bac-801d-3b24be03a16d.gif" style="outline: 0px;letter-spacing: 0.544px;font-size: var(--articleFontsize);border-radius: 8px;text-align: justify;width: 100%;visibility: visible !important;background-size: 16px !important;height: auto;" referrerpolicy="no-referrer"><br style="outline: 0px;visibility: visible;"></section><section data-mpa-template="t" data-mpa-template-id="502" data-mpa-category="模板" style="outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);visibility: visible;"><section data-mpa-category="模板" data-mid="" style="padding-right: 1px;padding-left: 1px;outline: 0px;width: 677px;display: flex;justify-content: flex-start;align-items: center;flex-direction: column;visibility: visible;"><section data-mid="" style="outline: 0px;letter-spacing: 0.544px;width: 675px;display: grid;grid-template-columns: 26px auto;visibility: visible;"><section data-mid="" style="outline: 0px;width: 26px;height: 14px;display: flex;justify-content: center;align-items: center;align-self: center;visibility: visible;"><br style="outline: 0px;visibility: visible;"></section><section data-mid="" style="padding-left: 7px;outline: 0px;display: flex;justify-content: flex-start;align-items: center;visibility: visible;"><section data-mid="" style="margin-right: 7px;outline: 0px;text-align: left;visibility: visible;"><p data-mid="" style="outline: 0px;width: 0px;font-size: 14px;font-family: PingFangSC-Semibold, &quot;PingFang SC&quot;;font-weight: bold;color: rgb(58, 92, 244);line-height: 20px;visibility: visible;"><br style="outline: 0px;visibility: visible;"></p></section><section data-mid="" style="margin-bottom: 4px;outline: 0px;width: 635px;height: 1px;border-top: 1px solid rgb(58, 92, 244);align-self: flex-end;visibility: visible;"><br style="outline: 0px;visibility: visible;"></section></section></section><section data-mid="" style="padding: 7px 14px 9px 19px;outline: 0px;width: 675px;text-align: left;border-bottom: 1px solid rgb(58, 92, 244);visibility: visible;"><p style="outline: 0px;min-height: 24px;letter-spacing: 0.578px;text-align: justify;visibility: visible;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);text-align: left;text-indent: 2em;font-size: 15px;letter-spacing: 1px;">本篇文章，主要介紹應用如何正確使用日誌系統，幫助用戶從依賴、輸出、清理、問題排查、報警等各方面全面掌握。</span></p></section></section></section><section style="margin-top: 8px;margin-bottom: 8px;outline: 0px;line-height: 1.75em;visibility: visible;"><br></section><section style="margin-bottom: 0px;outline: 0px;box-sizing: inherit;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);color: rgba(25, 26, 31, 0.9);font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;text-align: center;visibility: visible;line-height: 1.75em;"><span style="outline: 0px;visibility: visible;font-size: 15px;letter-spacing: 1px;"><img class="rich_pages wxw-img" data-imgfileid="503043463" data-ratio="0.3161764705882353" data-s="300,640" data-type="png" data-w="408" src="https://oscimg.oschina.net/oscnet/cabc16ce-7fe8-42cf-aa27-c0c990e211f3.png" style="outline: 0px;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;visibility: visible !important;width: 113px !important;" referrerpolicy="no-referrer"></span></section><section style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);color: rgb(34, 34, 34);text-align: center;visibility: visible;line-height: normal;"><span style="outline: 0px;color: rgb(3, 69, 255);font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;visibility: visible;">日誌相關的包的種類及使用</span></section><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><ne-clipboard data="%7B%22type%22%3A%22fragment%22%2C%22name%22%3A%22%23fragment%22%2C%22children%22%3A%5B%7B%22type%22%3A%22element%22%2C%22id%22%3A%22UiUKr%22%2C%22name%22%3A%22h2%22%2C%22attrs%22%3A%7B%7D%2C%22children%22%3A%5B%7B%22type%22%3A%22text%22%2C%22id%22%3A%22u57ca2a4a%22%2C%22name%22%3A%22%23text%22%2C%22attrs%22%3A%7B%22color%22%3A%22rgb(0%2C%200%2C%200)%22%7D%2C%22data%22%3A%22%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F%E4%B8%8E%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%22%7D%5D%7D%5D%2C%22attrs%22%3A%7B%7D%7D" source="https%3A%2F%2Faliyuque.antfin.com%2Fwien.wuh%2Fdoc%2Fctdtsgv6r0esyll2%3FsingleDoc%23"><br></ne-clipboard></p><span id="OSC_h4_1"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 0.5em;margin-bottom: 8px;text-wrap: wrap;outline: 0px;letter-spacing: 0.544px;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;text-align: justify;"><span style="outline: 0px;visibility: visible;letter-spacing: 1px;color: rgb(0, 17, 255);"><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">▐</span></strong><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">&nbsp;&nbsp;</span></strong><strong style="outline: 0px;visibility: visible;"><span style="color: rgb(0, 17, 255);outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">日誌系統與日誌框架</span></strong></span></h4><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><br></p><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-family: &quot;zh quote&quot;, &quot;Helvetica Neue&quot;, -apple-system, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, STHeiti, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;;text-align: left;text-indent: 32px;white-space: break-spaces;background-color: rgb(255, 255, 255);font-size: 15px;letter-spacing: 1px;">每個應用為了方便排查問題都要輸出日誌，大家經常使用：log4j、logback 等。我們先搞明白日誌系統的整套體系是如何運作的。</span></section><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><br></p><ul class="list-paddingleft-1" style="list-style-type: disc;"><li style="color: rgb(0, 17, 255);"><span id="OSC_h3_2"></span><h3 style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 17, 255);">日誌系統</span></h3></li></ul><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">直接負責打印輸出日誌，提供完整的日誌輸出能力：</span></section><ol class="list-paddingleft-1" style="list-style-type: decimal;"><li><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">JUL</span></section></li><ul ne-level="1" class="list-paddingleft-1" style="padding-left: 23px;list-style-position: initial;list-style-image: initial;"><li style="font-size: 15px;letter-spacing: 1px;"><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">java.util.logging.*，java 自帶的日誌系統簡稱 JUL。目前除了 Java 自身代碼很少被生態系統類庫使用。</span></section></li></ul><li><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">Log4j</span></section></li><ul ne-level="1" class="list-paddingleft-1" style="padding-left: 23px;list-style-position: initial;list-style-image: initial;"><li><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="font-size: 15px;letter-spacing: 1px;">https://logging.apache.org/</span><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">，目前已經發展到 2.x 版本（2.x 版本有超越 logback 的趨勢），早期的 1.x 版本非常成功。開創日誌系統模型（Logger\Appender\Level 等概念）並被各種日誌框架採用，且一直沿用至今</span></section></li><li style="font-size: 15px;letter-spacing: 1px;"><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">log4j 可直接使用，也可配合日誌框架一起使用</span></section></li></ul><li><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">Logback</span></section></li></ol><ul class="list-paddingleft-1" style="padding-left: 23px;list-style: none;"><ul ne-level="1" class="list-paddingleft-1" style="padding-left: 23px;list-style-position: initial;list-style-image: initial;"><li><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="font-size: 15px;letter-spacing: 1px;">http://logback.qos.ch/</span><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">，Log4j 作者的另一個作品，（比 Log4j1.x 新，Log4j2.x 舊）吸取多年經驗教訓重新設計的一套日誌系統，使用更方便、功能更強、性能更好。</span></section></li><li style="font-size: 15px;letter-spacing: 1px;"><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">logback 不能單獨使用，需配置日誌框架 SLF4J 一起使用</span></section></li></ul></ul><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><br></section><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fwien.wuh%2Fdoc%2Fctdtsgv6r0esyll2%3FsingleDoc%23"></ne-clipboard></section><ul class="list-paddingleft-1" style="list-style-type: disc;"><li style="color: rgb(0, 17, 255);"><span id="OSC_h3_3"></span><h3 style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 17, 255);">日誌框架</span></h3></li></ul><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">為了克服各種日誌系統標準混亂，誕生了日誌框架，日誌框架不提供日誌輸出的功能，它定義標準，提供標準接口 API，日誌框架+日誌系統=輸出日誌。</span></section><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">寫代碼過程中使用日誌框架的好處：編碼的時候調用日誌框架 API，部署的時候可根據不同的環境在多種日誌系統中隨意切換。</span></section><ol class="list-paddingleft-1" style="list-style-type: decimal;"><li><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">JCL</span></section></li><ul ne-level="1" class="list-paddingleft-1" style="padding-left: 23px;list-style-position: initial;list-style-image: initial;"><li><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="font-size: 15px;letter-spacing: 1px;">https://commons.apache.org/proper/commons-logging/</span><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">，前幾年最流行的日誌框架，由 Apache 社區維護，大量的老牌知名框架版本都在使用，比如 Spring（甚至新版本依然在使用）。</span></section></li></ul><li><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">SLF4J</span></section></li></ol><ul class="list-paddingleft-1" style="padding-left: 23px;list-style: none;"><ul ne-level="1" class="list-paddingleft-1" style="padding-left: 23px;list-style-position: initial;list-style-image: initial;"><li><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="font-size: 15px;letter-spacing: 1px;">https://www.slf4j.org/</span><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">，Log4j 作者推出，這幾年最流行的日誌框架，特別是配合 Logback 使用。 </span></section></li><li style="font-size: 15px;letter-spacing: 1px;"><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">當然也可以配合 log4j 使用</span></section></li></ul></ul><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">目前在 Java 生態趨勢主要是使用：SLF4J+Logback 組合。</span></section><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><br></p><span id="OSC_h4_4"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 0.5em;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;text-align: justify;"><span style="outline: 0px;visibility: visible;letter-spacing: 1px;color: rgb(0, 17, 255);"><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">▐</span></strong><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">&nbsp;&nbsp;</span></strong><strong style="outline: 0px;visibility: visible;"><span style="color: rgb(0, 17, 255);outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">如何正確組合使用日誌系統和日誌框架</span></strong></span></h4><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 0.5em;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"></h4><section style="margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><br></section><p style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">上一節我們介紹了日誌框架和日誌系統，因為存在多套，所以：如何在系統中正確使用是我們的重點。</span></p><p style="min-height: 24px;text-align: left;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><ul class="list-paddingleft-1" style="list-style-type: disc;"><li style="color: rgb(0, 17, 255);"><span id="OSC_h3_5"></span><h3 style="min-height: 24px;text-align: left;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 17, 255);">日誌系統之間互斥</span></h3></li></ul><section style="margin-bottom: 8px;line-height: 1.75em;margin-top: 8px;"><br></section><section style="margin-bottom: 8px;line-height: 1.75em;margin-top: 8px;text-align: center;"><span style="box-sizing: inherit;color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;"><img class="rich_pages wxw-img" data-imgfileid="503043462" data-ratio="0.7355704697986577" src="https://oscimg.oschina.net/oscnet/c9170f55-7f05-40d9-a26f-b71453fc1e8d.png" data-type="png" data-w="745" referrerpolicy="no-referrer"></span></section><ol class="list-paddingleft-1" style="list-style-type: decimal;"><li><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">日誌框架：JCL 和 JCL-over-SLF4J 橋接包直接互斥</span><br></section></li><li><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">日誌系統：logback 和 slf4j-log4j12 互斥，不能共存</span></section></li></ol><section style="min-height: 24px;text-align: left;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></section><section style="min-height: 24px;text-align: left;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">我們大概可枚舉出如下幾種組合：</span></section><table width="641"><tbody><tr style="height: 33px;"><td width="130" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">類型</span></p></td><td width="511" style="min-height: 24px;text-align: left;border-color: rgb(217, 217, 217);height: 33px;"><p style="min-height: 24px;text-align: left;border-color: rgb(217, 217, 217);height: 33px;"><span style="color: rgb(0, 0, 0);font-size: 15px;">説明</span></p></td></tr><tr style="height: 33px;"><td width="130" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">slf4j+logback</span></p></td><td width="511" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">目前最主流的玩法，除了依賴 slf4j、logback，還需要考慮把二方庫和三方庫內部使用的 jcl 和 log4j 橋接到 slf4j 上來，並避免依賴反橋接的包</span></p></td></tr><tr style="height: 33px;"><td width="130" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">slf4j+log4j</span></p></td><td width="511" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">不推薦。需要把 slf4j 橋接到 log4j，並把 jul 橋接到 slf4j</span></p></td></tr><tr style="height: 33px;"><td width="130" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">jcl+log4j</span></p></td><td width="511" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">不推薦。這需要你直接使用 jcl 接口來編碼，並把把 slf4j 橋接到 log4j</span></p></td></tr><tr style="height: 33px;"><td width="130" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">log4j</span></p></td><td width="511" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">不推薦。直接依賴日誌系統</span></p></td></tr></tbody></table><p style="min-height: 24px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><br></p><ul class="list-paddingleft-1" style="list-style-type: disc;"><li style="color: rgb(0, 17, 255);"><span id="OSC_h3_6"></span><h3 style="min-height: 24px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 17, 255);">slf4j+logback 組合</span></h3></li></ul><p style="margin-bottom: 8px;text-align: justify;margin-top: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;"><br></span></p><p style="min-height: 24px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">下面列出一個正確的 slf4j+logback 依賴，這個環節很重要，很多應用因為依賴搞不清楚經常出現日誌丟失問題：</span></p><section class="code-snippet__fix code-snippet__js"><pre class="code-snippet__js" data-lang="xml"><code><span class="code-snippet_outer">&lt;properties&gt;</span></code><code><span class="code-snippet_outer">  &lt;slf4j.version&gt;${xxxx}&lt;/slf4j.version&gt;</span></code><code><span class="code-snippet_outer">  &lt;logback.version&gt;${yyyyy}&lt;/logback.version&gt;</span></code><code><span class="code-snippet_outer">&lt;/properties&gt;</span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer">&lt;dependencyManagement&gt;</span></code><code><span class="code-snippet_outer">  &lt;dependencies&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">      &lt;groupId&gt;commons-logging&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">      &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">      &lt;version&gt;999-not-exist&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">      &lt;groupId&gt;com.alibaba.external&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">      &lt;artifactId&gt;jakarta.commons.logging&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">      &lt;version&gt;999-not-exist&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">      &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">      &lt;version&gt;999-not-exist&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">        &lt;groupId&gt;com.alibaba.external&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">        &lt;artifactId&gt;org.slf4j.slf4j-log4j12&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">        &lt;version&gt;999-not-exist&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">      &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">      &lt;version&gt;999-not-exist&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">      &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">      &lt;version&gt;999-not-exist&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">        &lt;groupId&gt;com.alibaba.external&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">        &lt;artifactId&gt;org.slf4j.slf4j-simple&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">        &lt;version&gt;999-not-exist&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">      &lt;groupId&gt;log4j&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">      &lt;artifactId&gt;log4j&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">      &lt;version&gt;999-not-exist&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">      &lt;version&gt;${slf4j.version}&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">      &lt;artifactId&gt;slf4j-ext&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">      &lt;version&gt;${slf4j.version}&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">      &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">      &lt;version&gt;${slf4j.version}&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">      &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">      &lt;version&gt;${slf4j.version}&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">      &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">      &lt;version&gt;${slf4j.version}&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">      &lt;artifactId&gt;logback-core&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">      &lt;version&gt;${logback.version}&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">      &lt;version&gt;${logback.version}&lt;/version&gt;</span></code><code><span class="code-snippet_outer">    &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">  &lt;/dependencies&gt;</span></code><code><span class="code-snippet_outer">&lt;/dependencyManagement&gt;</span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer">&lt;dependencies&gt;</span></code><code><span class="code-snippet_outer">  &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">  &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">  &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">    &lt;artifactId&gt;slf4j-ext&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">  &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">  &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">    &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">  &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">  &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">    &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">  &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">  &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">    &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">  &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">  &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">  &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">  &lt;dependency&gt;</span></code><code><span class="code-snippet_outer">    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;</span></code><code><span class="code-snippet_outer">    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;</span></code><code><span class="code-snippet_outer">  &lt;/dependency&gt;</span></code><code><span class="code-snippet_outer">&lt;/dependencies&gt;</span></code></pre></section><p style="min-height: 24px;text-align: justify;margin-bottom: 8px;margin-top: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fwien.wuh%2Fdoc%2Fctdtsgv6r0esyll2%3FsingleDoc%23"><br></ne-clipboard></span></p><ol class="list-paddingleft-1" style="list-style-type: decimal;"><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">先將依賴全部寫在&lt;dependencyManagement&gt;節點中，這樣可影響間接依賴，如果只當初的使用 dependencies 節點，只會應用直接依賴</span></p></li><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">使用 999-not-exist 這樣的版本：欺騙 maven，直接依賴一個空包占位，這樣 Maven 就不會再去依賴相同座標的真實依賴，間接起到排包的作用</span></p></li></ol><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;"><br></span></section><span id="OSC_h4_7"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 0.5em;margin-bottom: 8px;text-wrap: wrap;outline: 0px;letter-spacing: 0.544px;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;text-align: justify;"><span style="outline: 0px;visibility: visible;letter-spacing: 1px;color: rgb(0, 17, 255);"><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">▐</span></strong><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">&nbsp;&nbsp;</span></strong><strong style="outline: 0px;visibility: visible;"><span style="color: rgb(0, 17, 255);outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">logback 配置</span></strong></span></h4><section style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></section><ul class="list-paddingleft-1" style="list-style-type: disc;"><li style="color: rgb(0, 17, 255);"><span id="OSC_h3_8"></span><h3 style="min-height: 24px;text-align: justify;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;color: rgb(0, 17, 255);">文件名和位置</span></h3></li></ul><section style="min-height: 24px;text-align: left;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></section><table width="873"><tbody><tr style="height: 33px;"><td width="227" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">應用類型</span></p></td><td width="166" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">文件名</span></p></td><td width="230" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">文件配置（啓動模塊）</span></p></td><td width="250" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">説明</span></p></td></tr><tr style="height: 33px;"><td width="227" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">spring-boot</span></p></td><td width="166" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">logback-spring.xml</span></p></td><td width="230" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">src/main/resources/</span></p></td><td width="250" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">支持從 spring-boot 配置文件中直接讀取 property</span></p></td></tr><tr style="height: 33px;"><td width="227" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">普通 java 應用</span></p></td><td width="166" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">logback.xml</span></p></td><td width="230" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">src/main/resources/</span></p></td><td width="250" style="border-color: rgb(217, 217, 217);"><br></td></tr><tr style="height: 33px;"><td width="227" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">WAR 應用</span></p></td><td width="166" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">logback.xml</span></p></td><td width="230" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">src/main/webapp/WEB-INF/</span></p></td><td width="250" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">需要依賴 slf4j-ext，然後在 web.xml 裏使用監聽器掛載這個文件</span></p><p style="min-height: 24px;text-align: left;"><img data-imgfileid="503043469" data-ratio="0.17224287484510534" src="https://oscimg.oschina.net/oscnet/f50acf96-72cd-4627-bcc5-a1741d7beea4.png" data-type="png" data-w="807" width="807" referrerpolicy="no-referrer"></p></td></tr><tr style="height: 33px;"><td width="227" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">單元測試和集成測試</span></p></td><td width="166" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">logback-test.xml</span></p></td><td width="230" style="border-color: rgb(217, 217, 217);"><p style="min-height: 24px;text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 15px;">src/test/resources/</span></p></td><td width="250" style="border-color: rgb(217, 217, 217);"><br></td></tr></tbody></table><p style="min-height: 24px;text-align: justify;margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><br></p><ul class="list-paddingleft-1" style="list-style-type: disc;"><li style="color: rgb(0, 17, 255);"><span id="OSC_h3_9"></span><h3 style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: justify;"><span style="font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;color: rgb(0, 17, 255);">配置樣例</span></h3></li></ul><p style="min-height: 24px;text-align: justify;margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><br></p><section class="code-snippet__fix code-snippet__js"><pre class="code-snippet__js" data-lang="xml"><code><span class="code-snippet_outer">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></code><code><span class="code-snippet_outer">&lt;configuration&gt;</span></code><code><span class="code-snippet_outer">  &lt;property name="APP_NAME" value="demo1" /&gt;</span></code><code><span class="code-snippet_outer">  &lt;property name="LOG_PATH" value="${user.home}/${APP_NAME}/logs" /&gt;</span></code><code><span class="code-snippet_outer">  &lt;property name="LOG_FILE" value="${LOG_PATH}/application.log" /&gt;</span></code><code><span class="code-snippet_outer">  &lt;property name="LOG.PATTERN" value="%d %-5level %X{EAGLEEYE_TRACE_ID}  %logger{5}[%L] - %msg%n"/&gt;</span></code><code><span class="code-snippet_outer">  &lt;property name="LOG.CHARSET" value="UTF-8"/&gt;</span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer">  &lt;appender name="APPLICATION"</span></code><code><span class="code-snippet_outer">    class="ch.qos.logback.core.rolling.RollingFileAppender"&gt;</span></code><code><span class="code-snippet_outer">    &lt;file&gt;${LOG_FILE}&lt;/file&gt;</span></code><code><span class="code-snippet_outer">    &lt;encoder&gt;</span></code><code><span class="code-snippet_outer">      &lt;pattern&gt;${LOG.PATTERN}&lt;/pattern&gt;</span></code><code><span class="code-snippet_outer">      &lt;charset&gt;${LOG.CHARSET}&lt;/charset&gt;</span></code><code><span class="code-snippet_outer">    &lt;/encoder&gt;</span></code><code><span class="code-snippet_outer">    &lt;rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy"&gt;</span></code><code><span class="code-snippet_outer">      &lt;fileNamePattern&gt;${LOG_FILE}.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;</span></code><code><span class="code-snippet_outer">      &lt;maxHistory&gt;7&lt;/maxHistory&gt;</span></code><code><span class="code-snippet_outer">      &lt;maxFileSize&gt;50MB&lt;/maxFileSize&gt;</span></code><code><span class="code-snippet_outer">      &lt;totalSizeCap&gt;20GB&lt;/totalSizeCap&gt;</span></code><code><span class="code-snippet_outer">    &lt;/rollingPolicy&gt;</span></code><code><span class="code-snippet_outer">  &lt;/appender&gt;</span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer">  &lt;logger name="org.springframework" additivity="false"&gt;</span></code><code><span class="code-snippet_outer">    &lt;level value="error"/&gt;</span></code><code><span class="code-snippet_outer">    &lt;appender-ref ref="APPLICATION"/&gt;</span></code><code><span class="code-snippet_outer">  &lt;/logger&gt;</span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer">  &lt;logger name="com.ibatis" additivity="false"&gt;</span></code><code><span class="code-snippet_outer">    &lt;level value="error"/&gt;</span></code><code><span class="code-snippet_outer">    &lt;appender-ref ref="APPLICATION"/&gt;</span></code><code><span class="code-snippet_outer">  &lt;/logger&gt;</span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer">  &lt;logger name="org.mybatis" additivity="false"&gt;</span></code><code><span class="code-snippet_outer">    &lt;level value="error"/&gt;</span></code><code><span class="code-snippet_outer">    &lt;appender-ref ref="APPLICATION"/&gt;</span></code><code><span class="code-snippet_outer">  &lt;/logger&gt;</span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer">  &lt;logger name="java.sql" additivity="false"&gt;</span></code><code><span class="code-snippet_outer">    &lt;level value="error"/&gt;</span></code><code><span class="code-snippet_outer">    &lt;appender-ref ref="APPLICATION"/&gt;</span></code><code><span class="code-snippet_outer">  &lt;/logger&gt;</span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer">  &lt;logger name="sqlMonitor" additivity="false"&gt;</span></code><code><span class="code-snippet_outer">    &lt;level value="error"/&gt;</span></code><code><span class="code-snippet_outer">    &lt;appender-ref ref="APPLICATION"/&gt;</span></code><code><span class="code-snippet_outer">  &lt;/logger&gt;</span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer">  &lt;logger name="com.taobao" additivity="false"&gt;</span></code><code><span class="code-snippet_outer">    &lt;level value="error"/&gt;</span></code><code><span class="code-snippet_outer">    &lt;appender-ref ref="APPLICATION"/&gt;</span></code><code><span class="code-snippet_outer">  &lt;/logger&gt;</span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer">  &lt;logger name="com.alibaba" additivity="false"&gt;</span></code><code><span class="code-snippet_outer">    &lt;level value="error"/&gt;</span></code><code><span class="code-snippet_outer">    &lt;appender-ref ref="APPLICATION"/&gt;</span></code><code><span class="code-snippet_outer">  &lt;/logger&gt;</span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer">  &lt;logger name="com.alibaba.example.demo" additivity="false"&gt;</span></code><code><span class="code-snippet_outer">    &lt;level value="info"/&gt;</span></code><code><span class="code-snippet_outer">    &lt;appender-ref ref="APPLICATION"/&gt;</span></code><code><span class="code-snippet_outer">  &lt;/logger&gt;</span></code><code><span class="code-snippet_outer"><br></span></code><code><span class="code-snippet_outer">  &lt;root level="error"&gt;</span></code><code><span class="code-snippet_outer">    &lt;appender-ref ref="APPLICATION" /&gt;</span></code><code><span class="code-snippet_outer">  &lt;/root&gt;</span></code><code><span class="code-snippet_outer">&lt;/configuration&gt;</span></code></pre></section><p style="min-height: 24px;text-align: justify;margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><br></p><ol class="list-paddingleft-1" style="list-style-type: decimal;"><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">使用 SizeAndTimeBasedRollingPolicy 使日誌可以根據大小和日期進行滾動</span></p></li><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">日誌編碼請使用 UTF-8</span></p></li><li><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">請正確使用日誌級別，不要統統輸出 error</span></p></li></ol><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><ul class="list-paddingleft-1" style="list-style-type: disc;"><li style="color: rgb(0, 17, 255);"><span id="OSC_h3_10"></span><h3 style="margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><span style="font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;color: rgb(0, 17, 255);">日誌級別根據不同環境可配</span></h3></li></ul><section style="margin-bottom: 8px;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"><br></span></section><ol class="list-paddingleft-1" style="list-style-type: decimal;"><li><section style="margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">如果是 Pandora-boot 或 spring-boot 可以直接在配置裏使用 property 讀取 application.properties，application.properties 在不同環境下使用-Dspring.profiles.active 進行切換</span></section></li><li><section style="margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">普通應用和 WAR 應用：請使用 autoconfig-maven-plugin 插件</span></section></li></ol><p style="margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><br></p><section style="margin-bottom: 0px;outline: 0px;box-sizing: inherit;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);color: rgba(25, 26, 31, 0.9);font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;text-align: center;visibility: visible;line-height: normal;"><span style="outline: 0px;font-size: 15px;letter-spacing: 1px;visibility: visible;"><img class="rich_pages wxw-img" data-imgfileid="503043470" data-ratio="0.3056872037914692" data-s="300,640" src="https://oscimg.oschina.net/oscnet/d505aed3-373e-4e4c-9bdf-c54a4361a176.png" data-type="png" data-w="422" style="outline: 0px;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;visibility: visible !important;width: 117px !important;" referrerpolicy="no-referrer"></span></section><section style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);color: rgb(34, 34, 34);text-align: center;visibility: visible;line-height: normal;"><span style="outline: 0px;font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;visibility: visible;color: rgb(0, 17, 255);">一些實用的日誌技巧</span></section><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 0.5em;margin-bottom: 8px;text-wrap: wrap;outline: 0px;letter-spacing: 0.544px;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><br></h4><span id="OSC_h4_11"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 0.5em;margin-bottom: 8px;text-wrap: wrap;outline: 0px;letter-spacing: 0.544px;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><span style="outline: 0px;visibility: visible;letter-spacing: 1px;color: rgb(0, 17, 255);"><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">▐</span></strong><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">&nbsp;&nbsp;</span></strong><strong style="outline: 0px;visibility: visible;"><span style="color: rgb(0, 17, 255);outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">動態修改日誌級別</span></strong></span></h4><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">場景：應用在運行中，默認日誌配置的打印級別是 error，但是我現在想針對某個包或者某個類輸出下 info 日誌。</span></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">使用 Arthas：https://arthas.aliyun.com/doc/logger.html，該工具提供了動態修改日誌的能力。</span></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"><br></span></p><span id="OSC_h4_12"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 0.5em;margin-bottom: 8px;text-wrap: wrap;outline: 0px;letter-spacing: 0.544px;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><span style="outline: 0px;visibility: visible;letter-spacing: 1px;color: rgb(0, 17, 255);"><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">▐</span></strong><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">&nbsp;&nbsp;</span></strong><strong style="outline: 0px;visibility: visible;"><span style="color: rgb(0, 17, 255);outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">追加業務信息到日誌中，並格式化輸出：追加 MDC 信息，方便排查問題</span></strong></span></h4><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">這是日誌系統的一個擴容能力，可以把一些額外的信息輸出到日誌裏，只需要在 MDC 上下文中寫入 kv，https://logback.qos.ch/manual/mdc.html</span></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">例如：</span></p><section class="code-snippet__fix code-snippet__js"><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer">public static void main(String[] args) {</span></code><code><span class="code-snippet_outer">    //代碼裏使用 MDC.put 寫入 key 為 traceId 的值</span></code><code><span class="code-snippet_outer">    //在 logback.xml 裏就可以使用%X{traceId}進行輸出</span></code><code><span class="code-snippet_outer">    MDC.put("traceId", UUID.randomUUID().toString().replace("-", ""));</span></code><code><span class="code-snippet_outer">}</span></code></pre></section><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"><img class="rich_pages wxw-img" data-backh="161" data-backw="578" data-imgfileid="503043471" data-ratio="0.27870370370370373" src="https://oscimg.oschina.net/oscnet/3c0552bd-d751-47e9-8cab-83c2b8ae17ff.png" data-type="png" data-w="1080" style="width: 100%;height: auto;" referrerpolicy="no-referrer"></span></p><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;"><strong><span style="color: rgb(0, 0, 0);font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"><br></span></strong></span></section><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;"><strong><span style="color: rgb(0, 0, 0);font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fwien.wuh%2Fdoc%2Fctdtsgv6r0esyll2%3FsingleDoc%23"></ne-clipboard></span></strong></span></section><span id="OSC_h4_13"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 0.5em;margin-bottom: 8px;text-wrap: wrap;outline: 0px;letter-spacing: 0.544px;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><span style="outline: 0px;visibility: visible;letter-spacing: 1px;color: rgb(0, 17, 255);"><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">▐</span></strong><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">&nbsp;&nbsp;</span></strong><strong style="outline: 0px;visibility: visible;"><span style="color: rgb(0, 17, 255);outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">配置定時日誌磁盤佔用清理</span></strong></span></h4><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">一定要配置合理的日誌清理策略，避免磁盤被打爆，可藉助日誌框架自身能力，或藉助可用的日誌清理系統（如果有）</span></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">在 logback.xml 配置中，可通過配置帶有清理作用的 rollingPolicy 來完成日誌定時清理和滾動，例如：SizeAndTimeBasedRollingPolicy</span></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"><br></span></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;text-align: center;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"><img class="rich_pages wxw-img" data-backh="102" data-backw="578" data-imgfileid="503043472" data-ratio="0.17696629213483145" src="https://oscimg.oschina.net/oscnet/c3b9e350-4cbb-45ca-aca4-6eb411ca0024.png" data-type="png" data-w="712" style="width: 100%;height: auto;" referrerpolicy="no-referrer"></span></p><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></section><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><ne-clipboard data="%7B%22type%22%3A%22fragment%22%2C%22name%22%3A%22%23fragment%22%2C%22children%22%3A%5B%7B%22type%22%3A%22element%22%2C%22id%22%3A%22u87788482%22%2C%22name%22%3A%22p%22%2C%22attrs%22%3A%7B%7D%2C%22children%22%3A%5B%7B%22type%22%3A%22text%22%2C%22id%22%3A%22u6f1d679a%22%2C%22name%22%3A%22%23text%22%2C%22attrs%22%3A%7B%7D%2C%22data%22%3A%22%E8%BF%99%E6%AE%B5%E9%85%8D%E7%BD%AE%E7%9A%84%E5%90%AB%E4%B9%89%E6%98%AF%EF%BC%9A%E6%9C%80%E5%A4%9A%E4%BF%9D%E7%95%997%E5%A4%A9%EF%BC%8C%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6%E6%9C%80%E5%A4%A750MB%EF%BC%8C%E8%AF%A5%E6%97%A5%E5%BF%97%EF%BC%88%E5%8C%85%E6%8B%AC%E6%BB%9A%E5%8A%A8%E7%9A%84%EF%BC%89%E6%9C%80%E5%A4%A7%E5%8F%AA%E8%83%BD%E4%BF%9D%E5%AD%9820GB%22%7D%5D%7D%5D%2C%22attrs%22%3A%7B%7D%7D" source="https%3A%2F%2Faliyuque.antfin.com%2Fwien.wuh%2Fdoc%2Fctdtsgv6r0esyll2%3FsingleDoc%23"></ne-clipboard></section><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">這段配置的含義是：最多保留 7 天，單個文件最大 50MB，該日誌（包括滾動的）最大隻能保存 20GB。</span></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><span id="OSC_h4_14"></span><h4 data-lake-id="ca6fa186228ff7efaa653334195896c8" data-wording="true" style="margin-top: 8px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;text-wrap: wrap;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;visibility: visible;line-height: 1.75em;"><span style="outline: 0px;visibility: visible;letter-spacing: 1px;color: rgb(0, 17, 255);"><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">▐</span></strong><strong style="outline: 0px;visibility: visible;"><span style="outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">&nbsp;&nbsp;</span></strong><strong style="outline: 0px;visibility: visible;"><span style="color: rgb(0, 17, 255);outline: 0px;font-family: Optima-Regular, PingFangTC-light;visibility: visible;">不要封裝一個日誌 Util，而應該直接使用日誌框架進行輸出</span></strong></span></h4><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">反例：LogUtil.log("通過封裝的日誌工具打印日誌");</span></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">正例：log.info("直接使用日誌框架的 api 進行日誌輸出");</span></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">理由：在日誌輸出的時候，日誌系統會打印日誌產生的原始位置：比如哪個包的哪個類，以及第幾行（如果配置了[%L]），如果你使用 LogUtil 等自己封裝的工具，所有的日誌輸出打印的位置都是 LogUtil 的，這樣不便於做日誌問題定位</span></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"><br></span></p><p style="outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-align: center;text-wrap: wrap;visibility: visible;color: rgb(34, 34, 34);background-color: rgb(255, 255, 255);margin-top: 0px;margin-bottom: 0px;line-height: normal;"><img class="rich_pages wxw-img" data-imgfileid="503043473" data-ratio="0.3056872037914692" data-s="300,640" src="https://oscimg.oschina.net/oscnet/4d8c460d-e798-4e4f-a210-dc88203b75da.png" data-type="png" data-w="422" style="outline: 0px;letter-spacing: 0.544px;font-size: 14px;visibility: visible !important;width: 117px !important;" referrerpolicy="no-referrer"></p><p style="outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-align: center;text-wrap: wrap;background-color: rgb(255, 255, 255);color: rgb(100, 99, 99);font-size: 15px;margin-top: 0px;margin-bottom: 0px;line-height: normal;"><span style="outline: 0px;font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 18px;color: rgb(0, 17, 255);letter-spacing: 1px;">系統日誌打不出來或者丟日誌排查思路</span></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;"></span><br></p><p style="min-height: 24px;margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">目前沒有現成的工具幫你一鍵做好這個事情，下面給出一個排查思路</span></p><ol class="list-paddingleft-1" style="padding-left: 23px;"><li style="font-size: 15px;letter-spacing: 1px;"><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">先明確該系統到底使用的是什麼日誌框架+日誌系統組合，這個很重要，必須搞清是何種組合才可有針對性的處理後續步驟</span></p></li><li style="font-size: 15px;letter-spacing: 1px;"><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">如果是 slf4j+logback 組合，則可根據第一章列出的 maven 依賴進行排包處理，優先保證依賴的包沒有錯誤，90% 的情況下都是包依賴混亂導致的日誌丟失</span></p></li><li style="font-size: 15px;letter-spacing: 1px;"><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">排查自己的 logback 配置文件是否放在正確的路徑下、文件名是否正確，配置文件位置不對也會導致日誌輸出的不對甚至丟失</span></p></li><li style="font-size: 15px;letter-spacing: 1px;"><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="font-size: 15px;letter-spacing: 1px;">檢查 logback 配置文件內部每個<span style="font-size: 15px;color: rgb(8, 8, 8);background-color: rgb(255, 255, 255);">logger 及其 level 配置是否正確，避免自己期望打印 info，卻配置了 error</span></span></p></li></ol><section style="margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"><br></span></section><section style="margin-bottom: 0px;outline: 0px;color: rgb(34, 34, 34);font-size: 15px;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;text-align: center;line-height: normal;"><img class="rich_pages wxw-img" data-imgfileid="503043474" data-ratio="0.328125" data-s="300,640" src="https://oscimg.oschina.net/oscnet/41904b3a-eab4-4322-962a-be059bc4bfe2.png" data-type="png" data-w="256" style="outline: 0px;letter-spacing: 0.544px;font-size: 16px;visibility: visible !important;width: 122px !important;" referrerpolicy="no-referrer"></section><section style="margin-bottom: 0px;outline: 0px;font-size: 15px;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;color: rgb(100, 99, 99);text-align: center;line-height: normal;"><span style="outline: 0px;color: rgb(0, 17, 255);font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;">總結</span></section><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></section><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><ne-clipboard source="https%3A%2F%2Faliyuque.antfin.com%2Fwien.wuh%2Fdoc%2Fctdtsgv6r0esyll2%3FsingleDoc%23"></ne-clipboard></section><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">日誌系統的正確使用，對於應用的日常維護和問題排查尤為重要，所謂：工欲善其事，必先利其器。本篇文章重點講解了日誌系統的結構和包如何正確依賴，這是很多同學最容易犯的錯誤，需要格外注意並認真閲讀，只有正確理解其中的含義才可以更好的使用日誌系統，在日常使用中大家要不斷總結經驗。</span></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"><br></span></p><p style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">最後希望文章提供的內容能夠在日常開發和維護中為大家提供到切實的幫助。</span></p><section style="margin-top: 8px;line-height: 1.75em;margin-bottom: 8px;"><br></section><p style="margin-bottom: 0px;outline: 0px;text-wrap: wrap;background-color: rgb(255, 255, 255);font-size: 11pt;font-family: DengXian;color: rgb(0, 0, 0);letter-spacing: normal;text-align: center;line-height: normal;"><img class="rich_pages wxw-img" data-imgfileid="503043475" data-ratio="0.328125" data-s="300,640" src="https://oscimg.oschina.net/oscnet/5b5ef821-c6ac-468b-8ebb-15a9d4bb271e.png" data-type="png" data-w="256" style="outline: 0px;font-size: 14.6667px;text-align: center;text-wrap: wrap;color: rgb(34, 34, 34);font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;visibility: visible !important;width: 133px !important;" referrerpolicy="no-referrer"></p><p style="margin-bottom: 0px;outline: 0px;font-family: system-ui, -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;letter-spacing: 0.544px;text-wrap: wrap;background-color: rgb(255, 255, 255);line-height: 1.75em;text-align: center;"><span style="outline: 0px;box-sizing: inherit;color: rgb(0, 17, 255);font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 18px;letter-spacing: 1px;">團隊介紹</span></p><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><br></section><section style="margin-top: 8px;margin-bottom: 8px;line-height: 1.75em;"><span style="box-sizing: inherit;color: rgb(0, 0, 0);font-size: 15px;letter-spacing: 1px;">物流技術團隊是服務淘天物流部及零售行業的產技團隊，一直深耕在物流及供應鏈的數字化協同與運營領域：為零售業務提供靈活多樣的經營模式管理方案及可以快速適配市場變化的經營策略數宇化管理工具；為商家提供高效低成本的物流及供應鏈解決方案，加快資金效率，提升協同效率；為消費者提供即時便捷的購物體驗。</span></section><p><br></p><section data-role="outer" label="Powered by 135editor.com" style="margin-bottom: 0px;outline: 0px;letter-spacing: 0.544px;visibility: visible;"><section style="margin-top: 5px;margin-bottom: 8px;outline: 0px;letter-spacing: 0.544px;font-size: 16px;word-break: break-all;color: rgb(0, 0, 0);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif;text-align: center;line-height: 1.75em;"><span style="outline: 0px;color: rgb(0, 17, 255);"><strong style="outline: 0px;">¤</strong></span><span style="outline: 0px;"><strong style="outline: 0px;">&nbsp;拓展閲讀&nbsp;</strong></span><span style="outline: 0px;color: rgb(0, 17, 255);"><strong style="outline: 0px;">¤</strong></span></section><section style="margin-top: 5px;margin-bottom: 5px;outline: 0px;letter-spacing: 0.544px;font-size: 16px;word-break: break-all;color: rgb(0, 0, 0);font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif;text-align: center;line-height: 1.75em;"><br style="outline: 0px;"></section><section style="margin-top: 8px;margin-bottom: 8px;outline: 0px;font-family: -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-indent: 0em;text-align: center;line-height: 1.75em;min-height: 24px;clear: both;visibility: visible;"><a target="_blank" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D2565944923443904512%23wechat_redirect" textvalue="3DXR 技術" linktype="text" imgurl="" imgdata="null" tab="innerlink" data-linktype="2" style="outline: 0px;color: var(--weui-LINK);-webkit-user-drag: none;cursor: pointer;">3DXR 技術</a>&nbsp;|&nbsp; 
   <a target="_blank" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D1533906991218294785%23wechat_redirect" textvalue="終端技術" linktype="text" imgurl="" imgdata="null" tab="innerlink" data-linktype="2" style="outline: 0px;color: var(--weui-LINK);-webkit-user-drag: none;cursor: pointer;">終端技術</a>&nbsp;|&nbsp; 
   <a target="_blank" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D1592015847500414978%23wechat_redirect" textvalue="音視頻技術" linktype="text" imgurl="" imgdata="null" tab="innerlink" data-linktype="2" style="outline: 0px;color: var(--weui-LINK);-webkit-user-drag: none;cursor: pointer;">音視頻技術</a></section><p style="margin-top: 8px;margin-bottom: 8px;outline: 0px;min-height: 24px;font-family: -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-indent: 0em;text-align: center;line-height: 1.75em;visibility: visible;"><a target="_blank" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D1539610690070642689%23wechat_redirect" textvalue="服務端技術" linktype="text" imgurl="" imgdata="null" tab="innerlink" data-linktype="2" style="outline: 0px;color: var(--weui-LINK);-webkit-user-drag: none;cursor: pointer;">服務端技術</a><span style="outline: 0px;letter-spacing: 0.544px;">&nbsp;|&nbsp;</span><a target="_blank" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D2565883875634397185%23wechat_redirect" textvalue="技術質量" linktype="text" imgurl="" imgdata="null" tab="innerlink" data-linktype="2" style="outline: 0px;color: var(--weui-LINK);-webkit-user-drag: none;cursor: pointer;">技術質量</a>&nbsp;|&nbsp;<a target="_blank" href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26action%3Dgetalbum%26album_id%3D1522425612282494977%23wechat_redirect" textvalue="數據算法" linktype="text" imgurl="" imgdata="null" tab="innerlink" data-linktype="2" style="outline: 0px;color: var(--weui-LINK);-webkit-user-drag: none;cursor: pointer;">數據算法</a></p><p style="margin-top: 8px;margin-bottom: 8px;outline: 0px;min-height: 24px;font-family: -apple-system, &quot;system-ui&quot;, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 0.544px;text-indent: 0em;text-align: center;line-height: 1.75em;visibility: visible;"><br style="outline: 0px;"></p><section class="mp_profile_iframe_wrp" style="margin-bottom: 24px;outline: 0px;"><mp-common-profile class="custom_select_card mp_profile_iframe js_wx_tap_highlight" data-pluginname="mpprofile" data-id="MzAxNDEwNjk5OQ==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju8t5nZGhAatCrc4e2iaDfAaoInribRKxc7MOqdTGygfcLqSDxhj0trCHVEh94Sjl7zuWYzwouYtJ0VQ/300?wx_fmt=png&amp;wxfrom=19" data-nickname="大淘寶技術" data-alias="AlibabaMTT" data-signature="大淘寶技術官方賬號" data-from="2" data-index="0" data-origin_num="690" data-isban="0" data-biz_account_status="0" data-weui-theme="light" data-is_biz_ban="0"></mp-common-profile></section></section><p style="display: none;"><mp-style-type data-value="3"></mp-style-type></p></div><p style="color: #858585; font-size: 13px;">本文分享自微信公眾號 - 大淘寶技術（AlibabaMTT）。<br>如有侵權，請聯繫 support@oschina.cn 刪除。<br>本文參與「<a href="https://www.oschina.net/sharing-plan" target="_blank">OSC 源創計劃</a>」，歡迎正在閲讀的你也加入，一起分享。</p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 01 Feb 2024 03:15:00 GMT</pubDate>
            <guid isPermaLink="false">https://my.oschina.net/u/4662964/blog/10946665</guid>
            <link>https://my.oschina.net/u/4662964/blog/10946665</link>
            <author>
                <![CDATA[原創]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[開源日報：IntelliJ 負責人成為 JetBrains 新任 CEO，技術棧一定要選擇開源的]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">歡迎閲讀 OSCHINA 編輯部出品的開源日報，每天更新一期。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong># 2024.1.31&nbsp;</strong></p><h2 style="margin-left:0; margin-right:0; text-align:left"><span><span><span style="color:#000000"><span><span><span style="color:#00b050">今日要點</span></span></span></span></span></span></h2><p style="color:#333333; margin-left:0; margin-right:0; text-align:justify"><strong>OpenSource Daily</strong></p><h3 style="margin-left:0; margin-right:0; text-align:left"><u><a href="https://www.oschina.net/news/277037/urllib3-works-in-the-browser" target="news">Python HTTP 庫 urllib3 支持直接在瀏覽器運行</a></u></h3><p><span style="background-color:#ffffff; color:#333333">Python HTTP 庫 urllib3 最新版本 2.2.0 新增了一項重磅特性 ——<span>&nbsp;</span></span><strong style="color:#333333">可直接在瀏覽器運行</strong><span style="background-color:#ffffff; color:#333333">。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Furllib3.readthedocs.io%2Fen%2Fstable%2Freference%2Fcontrib%2Femscripten.html" target="_blank">根據介紹</a>，從 2.2.0 開始，urllib3 支持在 Pyodide 運行時中使用<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FFetch_API" target="_blank">JavaScript fetch API</a>，或者在 fetch API 不可用時（例如當跨源隔離未激活時）返回<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FXMLHttpRequest" target="_blank">XMLHttpRequest</a>。這意味着開發者可以使用該庫直接從瀏覽器發出 HTTP 請求。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">由於 urllib3 的 Emscripten 支持與 API 兼容，這意味着依賴於 urllib3 的庫現在也可以在 Emscripten 和 Pyodide 環境中使用。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="185" src="https://oscimg.oschina.net/oscnet/up-7e0846ecd450824c3e2a7cea0f00651c22c.png" width="500" referrerpolicy="no-referrer"></p><h3 style="margin-left:0; margin-right:0; text-align:left"><u><a href="https://www.oschina.net/news/277020" target="_blank">Opera 將推出全球首款非 WebKit 內核的 iOS 瀏覽器</a></u></h3><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">崑崙萬維旗下海外信息分發與元宇宙平台 Opera 近日宣佈，將為歐洲的 iPhone 和 iPad 用戶帶來一款基於自研引擎的全新 AI 瀏覽器 「Opera One」。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Opera 計劃於 3 月份首次亮相這款新瀏覽器，屆時 DMA（歐洲數字市場法案）將生效。由於這些變化僅在歐盟實施，Opera 強烈鼓勵蘋果將這些增強功能推廣至全球 iOS 用戶。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">為了遵守 DMA，蘋果決定允許開發者提交非基於 WebKit 的瀏覽器，包括 Web 瀏覽器應用和在 iOS 應用中顯示網頁的應用內瀏覽器。Opera 表示，這些變化將使他們有機會為 iPhone 用戶提供 Safari 之外的人工智能瀏覽器。</p><h3 style="margin-left:0; margin-right:0; text-align:left"><u><a href="https://www.oschina.net/news/277057/jetbrains-ceo-transition" target="_blank">IntelliJ 負責人 Kirill Skrygan 成為 JetBrains 新任 CEO</a></u></h3><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#333333">JetBrains 公司正式對外宣佈了最新人事任命：原負責領導 IntelliJ 部門的 Kirill Skrygan&nbsp;將於 2024 年 2 月 1 日起擔任首席執行官。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">JetBrains 在公告寫道：「在我們邁向人工智能發揮變革作用的新時代之際，公司已經建立了一個良好的底層基礎，並且可以在此基礎上繼續推動公司向前發展。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">作為新階段的一部分，Kirill Skrygan 自 2010 年加入 JetBrains，並在過去幾年裏一直領導 IntelliJ 部門，他將於 2024 年 2 月 1 日擔任首席執行官一職。」</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="330" src="https://oscimg.oschina.net/oscnet/up-3943b858bab2621d791912e56f8421bca6a.png" width="500" referrerpolicy="no-referrer"></p><hr><h2 style="margin-left:0; margin-right:0; text-align:left"><strong><span><span><span style="color:#000000"><span><span><span style="color:#00b050">用戶觀點</span></span></span></span></span></span></strong></h2><p><img height="268" src="https://oscimg.oschina.net/oscnet/up-49e5260aa056b39c3b23ab565653c575979.png" width="500" referrerpolicy="no-referrer"></p><hr><h3 style="margin-left:0; margin-right:0; text-align:left"><strong><span><span><span style="color:#000000"><span><span><span style="color:#00b050">媒體觀點</span></span></span></span></span></span></strong></h3><h3 style="margin-left:0; margin-right:0; text-align:left"><img height="347" src="https://oscimg.oschina.net/oscnet/up-821e56c877d00d921add32f98bb57e78fa2.png" width="500" referrerpolicy="no-referrer"></h3><hr><h2 style="margin-left:0; margin-right:0; text-align:left"><strong><span><span><span style="color:#000000"><span><span><span style="color:#00b050">每日項目榜</span></span></span></span></span></span></strong></h2><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">GitHub 榜單：</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="312" src="https://oscimg.oschina.net/oscnet/up-10344e3be6272f1f3919d9779566cb59e8b.png" width="300" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="370" src="https://oscimg.oschina.net/oscnet/up-0c63d879e7c4cb3446298dd6574d33f490b.png" width="300" referrerpolicy="no-referrer"></p><blockquote><h4 style="margin-left:0; margin-right:0">在線閲讀完整日報內容，訪問：<strong><u><a href="https://oscimg.oschina.net/public_shard/%E5%BC%80%E6%BA%90%E6%97%A5%E6%8A%A5%E7%AC%AC006%E6%9C%9F%EF%BC%9A%E9%80%89%E6%8B%A9%E6%8A%80%E6%9C%AF%E6%A0%88%E4%B8%80%E5%AE%9A%E8%A6%81%E9%80%89%E6%8B%A9%E5%BC%80%E6%BA%90%E7%9A%84.pdf" target="_blank">開源日報第 006 期：選擇技術棧一定要選擇開源的</a></u></strong></h4></blockquote><hr><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>往期回顧</strong></p><ul style="list-style-type:disc; margin-left:0; margin-right:0"><li><a href="http://www.oschina.net/news/277040"><u>開源日報第 005 期：RISC-V 萬兆開源交換機發售；npm 存在大量武林外傳視頻</u></a></li></ul></div>
                                    ]]>
            </description>
            <pubDate>Thu, 01 Feb 2024 02:39:29 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/277214</guid>
            <link>https://www.oschina.net/news/277214</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[騰訊 APIJSON 插件 apijson-cassandra 開源，支持 FB 分佈式數據庫]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><img height="1570" src="https://oscimg.oschina.net/oscnet/up-bdaf900bde612e78f2a7ac5ec7f7dda180c.png" width="2202" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">騰訊 APIJSON 是一種專為 API 而生的 JSON 網絡傳輸協議，以及，基於這套協議實現的 ORM 庫。<br><strong>為各種增刪改查提供了完全自動化的萬能 API，零代碼實時滿足千變萬化的各種新增和變更需求。</strong><br> 能大幅降低開發和溝通成本，簡化開發流程，縮短開發週期。適閤中小型前後端分離的項目。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>自 2016 年開源 7 年來發展迅速，目前 16K+ Star 位居 400W Java 開源項目前 100。</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>國內，騰訊、華為、阿里巴巴、字節跳動、美團、拼多多、百度、京東、網易、快手、圓通，等 和<br> 國外 Google, Apple, Microsoft, Amazon, Tesla, Meta(FB), Paypal 等數百個知名大廠員工 Star，<br> 也有，騰訊、華為、字節跳動、Microsoft、Zoom、知乎，等 工程師/專家/架構師，提了 PR/Issue，<br> 還被，騰訊、華為、百度、SHEIN、快手、中興、傳音、圓通、美圖，等各大知名廠商用於各類項目。</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="1352" src="https://oscimg.oschina.net/oscnet/up-05507add1ab73979181e2a721832b2ef017.png" width="1850" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="1344" src="https://oscimg.oschina.net/oscnet/up-b0118180bc641918130cef0f4dee2bf1ca1.png" width="1634" referrerpolicy="no-referrer"></p><p>&nbsp;</p><h1>apijson-cassandra<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fjitpack.io%2F%23APIJSON%2Fapijson-cassandra" target="_blank"><img alt="" src="https://camo.githubusercontent.com/1a50edf6b886599fdac3174657cb8b4c3bfbaee500ae9bf763aac93ce32ff207/68747470733a2f2f6a69747061636b2e696f2f762f4150494a534f4e2f6170696a736f6e2d63617373616e6472612e737667" referrerpolicy="no-referrer"></a></h1><p style="color:#1f2328; text-align:start">騰訊<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FTencent%2FAPIJSON" target="_blank">APIJSON</a><span>&nbsp;</span>6.1.0+ 的 Cassandra 數據庫插件，可通過 Maven, Gradle 等遠程依賴。</p><h2>添加依賴</h2><h4>1. 在 pom.xml 中添加 JitPack 倉庫</h4><div><pre>&lt;<span style="color:var(--color-prettylights-syntax-entity-tag)">repositories</span>&gt;
&lt;<span style="color:var(--color-prettylights-syntax-entity-tag)">repository</span>&gt;
    &lt;<span style="color:var(--color-prettylights-syntax-entity-tag)">id</span>&gt;jitpack.io&lt;/<span style="color:var(--color-prettylights-syntax-entity-tag)">id</span>&gt;
    &lt;<span style="color:var(--color-prettylights-syntax-entity-tag)">url</span>&gt;https://jitpack.io&lt;/<span style="color:var(--color-prettylights-syntax-entity-tag)">url</span>&gt;
&lt;/<span style="color:var(--color-prettylights-syntax-entity-tag)">repository</span>&gt;
&lt;/<span style="color:var(--color-prettylights-syntax-entity-tag)">repositories</span>&gt;</pre><div>
  &nbsp;
 </div></div><p style="color:#1f2328; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fuser-images.githubusercontent.com%2F5738175%2F167261814-d75d8fff-0e64-4534-a840-60ef628a8873.png" target="_blank"><img alt="image" src="https://user-images.githubusercontent.com/5738175/167261814-d75d8fff-0e64-4534-a840-60ef628a8873.png" referrerpolicy="no-referrer"></a></p><p>&nbsp;</p><h4>2. 在 pom.xml 中添加 apijson-cassandra 依賴</h4><div><pre>&lt;<span style="color:var(--color-prettylights-syntax-entity-tag)">dependency</span>&gt;
    &lt;<span style="color:var(--color-prettylights-syntax-entity-tag)">groupId</span>&gt;com.github.APIJSON&lt;/<span style="color:var(--color-prettylights-syntax-entity-tag)">groupId</span>&gt;
    &lt;<span style="color:var(--color-prettylights-syntax-entity-tag)">artifactId</span>&gt;apijson-cassandra&lt;/<span style="color:var(--color-prettylights-syntax-entity-tag)">artifactId</span>&gt;
    &lt;<span style="color:var(--color-prettylights-syntax-entity-tag)">version</span>&gt;LATEST&lt;/<span style="color:var(--color-prettylights-syntax-entity-tag)">version</span>&gt;
&lt;/<span style="color:var(--color-prettylights-syntax-entity-tag)">dependency</span>&gt;
</pre></div><h3>使用</h3><p style="color:#1f2328; text-align:start">在你項目繼承 AbstractSQLExecutor 的子類重寫方法 execute<br> Override execute in your SQLExecutor extends AbstractSQLExecutor</p><div><pre><span style="color:var(--color-prettylights-syntax-constant)">@</span><span style="color:var(--color-prettylights-syntax-constant)">Override</span><span style="color:var(--color-prettylights-syntax-keyword)">public</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">JSONObject</span><span>execute</span>(<span style="color:var(--color-prettylights-syntax-constant)">@</span><span style="color:var(--color-prettylights-syntax-constant)">NotNull</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">SQLConfig</span>&lt;<span style="color:var(--color-prettylights-syntax-storage-modifier-import)">Long</span>&gt; <span>config</span>, <span style="color:var(--color-prettylights-syntax-storage-modifier-import)">boolean</span><span>unknownType</span>) <span style="color:var(--color-prettylights-syntax-keyword)">throws</span><span>Exception</span> {
            <span style="color:var(--color-prettylights-syntax-keyword)">if</span> (<span>config</span>.<span style="color:var(--color-prettylights-syntax-entity)">isCassandra</span>()) {
                <span style="color:var(--color-prettylights-syntax-keyword)">return</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">CassandraUtil</span>.<span style="color:var(--color-prettylights-syntax-entity)">execute</span>(<span>config</span>, <span style="color:var(--color-prettylights-syntax-constant)">null</span>, <span>unknownType</span>);
            }
   
            <span style="color:var(--color-prettylights-syntax-keyword)">return</span><span style="color:var(--color-prettylights-syntax-entity)">super</span>.<span style="color:var(--color-prettylights-syntax-entity)">execute</span>(<span>config</span>, <span>unknownType</span>);
        }</pre><div>
  &nbsp;
 </div></div><p style="color:#1f2328; text-align:start">有問題可以去 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FTencent%2FAPIJSON" target="_blank">Tencent/APIJSON</a> 提 issue<br> &nbsp;</p><h4>創作不易，右上角點亮 ⭐Star 支持/收藏下吧，謝謝 ^_^</h4><p style="color:#1f2328; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FAPIJSON%2Fapijson-cassandra" target="_blank">https://github.com/APIJSON/apijson-cassandra</a></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 01 Feb 2024 01:54:29 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/277203/apijson-cassandra-open-source</guid>
            <link>https://www.oschina.net/news/277203/apijson-cassandra-open-source</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[德國鐵路公司招聘熟悉 MS-DOS 和 Windows 3.11 的 IT 管理員]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>推特用戶@konkretor 發帖介紹了一則乍看讓人感覺時空錯亂的招聘消息：一家德國鐵路公司正在尋求<strong>熟悉 Windows 3.11 系統</strong>的 IT 管理員 —— <strong>有 MS-DOS 使用經驗更佳</strong>。據稱該崗位負責「德國幾乎所有鐵路的顯示面板」。</p><blockquote><p><img src="https://oscimg.oschina.net/oscnet/up-fc514ca3beb89e2b5bea97825fb37daba85.png" referrerpolicy="no-referrer"><br><em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ftwitter.com%2Fkonkretor%2Fstatus%2F1751221660718444694" target="_blank">https://twitter.com/konkretor/status/1751221660718444694</a></u></em></p></blockquote><p>目前這則招聘信息已被刪除，不過網友們已經在此之前進行了備份：<em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Farchive.is%2FCKNYJ" target="_blank">https://archive.is/CKNYJ</a></u></em>。</p><blockquote><p><img src="https://oscimg.oschina.net/oscnet/up-e7247517dc0ca4714354ce989cc700cc4ce.png" referrerpolicy="no-referrer"></p></blockquote><p>招聘信息寫道，該崗位的工作內容是<strong>維護對鐵路運營仍然至關重要的舊系統，以及更新驅動。</strong>它們運行於高速和區域列車上的駕駛室顯示面板，用於向駕駛員實時展示最重要的技術數據。</p><p>微軟在 1992 年推出了 Windows 3.1，至今已有 30 多年曆史。德國的工業和科技整體上起步較早，所以像鐵路這樣的關鍵基礎設施依賴着「上古時代」的操作系統和硬件並不罕見。更何況這個崗位負責的顯示面板只是用於展示信息數據，不涉及到關鍵功能——「如果沒有壞到不能用，就用不着更換」。</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-9f502fa4b09a5d0cb9f235a05d2ed765139.png" referrerpolicy="no-referrer"></p><p><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fnews.ycombinator.com%2Fitem%3Fid%3D39160956" target="_blank">在 Hacker News 的討論貼中</a></u>，有網友提到德國的 ICE 1 和 ICE 2 列車目前使用的就是上述的老舊系統，並且在 2030 年或更晚之前可能仍需要依賴 MS-DOS 和 Windows 3.11 的軟件。另一個有趣的細節是，運行 Windows 3.11 的鐵路系統的 BIOS 可以追溯到 1996 年，這些機器配備了 166MHz 處理器和 8MB RAM。</p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 31 Jan 2024 08:48:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/277087/ms-dos-and-windows-311-still-run-train-dashboards</guid>
            <link>https://www.oschina.net/news/277087/ms-dos-and-windows-311-still-run-train-dashboards</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[微軟組建新團隊，幫助用 Rust 重寫核心 Windows 庫]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>微軟一直在致力於用&nbsp;Rust&nbsp;重寫其核心 Windows 組件。該公司最新發布的一則招聘信息<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fjobs.careers.microsoft.com%2Fglobal%2Fen%2Fjob%2F1633482%2FPrincipal-Software-Architect" target="_blank">透露</a>，正在招聘更多人員組建新團隊，以實現這一目的。</p><ul></ul><blockquote><p>「我們正在組建一個新的團隊，專注於將 Rust 編程語言作為實現全球規模平台服務現代化的基礎。我們歡迎經驗豐富的軟件架構師加入我們的團隊，幫助我們應對這一具有巨大全球影響力的挑戰。成功的候選人必須具備深厚的 Rust 編程語言技能，或者願意在短期內成為 Rust 專家，同時作為項目領導團隊的一員做出貢獻。他的職責包括指導技術方向、設計和實施 Rust 組件庫、SDK，以及將現有的基於 C# 的全球規模服務重新實現為 Rust。&nbsp;」</p></blockquote><p><img height="234" src="https://oscimg.oschina.net/oscnet/up-10dcc114c5acb3ec6e1410ff094c9c24bfb.png" width="700" referrerpolicy="no-referrer"></p><p>具體來説，名為「M365 首席軟件架構師」的職位要求，擁有構建服務器/服務應用程序的豐富經驗。以及：</p><ul><li>提供大規模、大容量服務的經驗</li><li>有深厚的系統設計經驗者優先</li><li>精通 Rust 和 C# 等。</li></ul><p>此外，掌握分佈式系統設計、Restful API 開發 、面向對象編程、SDK 開發技能的應聘者將被優先考慮。</p><p><strong>相關閲讀：</strong></p><ul><li><a href="https://www.oschina.net/news/238894/microsoft-windows-rust" target="_blank">微軟正在用 Rust 重寫核心 Windows 庫</a></li><li><a href="https://www.oschina.net/news/249719/rust-in-the-windows-kernel" target="_blank">微軟：加大力度在 Windows 11 使用 Rust</a></li></ul></div>
                                    ]]>
            </description>
            <pubDate>Wed, 31 Jan 2024 06:36:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/277061/microsoft-new-team-rewrite-core-windows-components-rust</guid>
            <link>https://www.oschina.net/news/277061/microsoft-new-team-rewrite-core-windows-components-rust</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[業內首個代碼大模型標準正式發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>2024 年 1 月 25 日，<strong>中國信息通信研究院</strong>（以下簡稱「中國信通院」）與<strong>中國工商銀行</strong>聯合牽頭髮起的《<strong>智能化軟件工程技術和應用要求，第 1 部分：代碼大模型</strong>》（標準編號 AIIA/PG 0110-2023）標準正式發佈。</p><p><img src="https://oscimg.oschina.net/oscnet/up-17493f86ca4fc23f4bf04c9966da1136a69.png" referrerpolicy="no-referrer"></p><p><em>《智能化軟件工程技術和應用要求》系列標準結構</em></p><p>該標準規定了代碼大模型的技術能力和應用要求，適用於企業在代碼大模型的研發、評估和驗收等過程中，為代碼大模型能力的建設和改進提供參考，為代碼大模型的技術選型提供指引。</p><p>該標準分為通用能力、專用場景能力和應用成熟度三大部分，包括 16 個能力項，100 多個能力要求，主要從輸入多樣性、任務多樣性、語言完備度、結果可接收性、結果準確度等維度，對代碼大模型提出了全棧技術能力要求。</p><p><img src="https://oscimg.oschina.net/oscnet/up-bd265583840f7c2a1a2f4355c332c4d9473.png" referrerpolicy="no-referrer"></p><p>中國人工智能產業發展聯盟（AIIA）表示，智能化軟件工程領域持續湧現出以代碼大模型為首的三類大模型，<strong>代碼大模型數量最多，運維和測試大模型次之</strong>。</p><ul><li><p>代碼大模型以其強大的代碼理解、代碼生成、代碼檢查、代碼優化、研發問答等能力，助力軟件編碼效率和質量的提升；</p></li><li><p>測試大模型當前重點關注智能單測、測試腳本生成、測試數據生成等方面，未來將從系統測試和業務測試角度真正意義上提升測試能力；</p></li><li><p>運維大模型當前重點關注運維知識問答、工單處理等方面，未來將從故障識別、故障預測、運維安全等多維度推動 AIOps 全過程智能水平提升。</p></li></ul><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-5ed8594e70a8f39cd8ec922525ed46bc740.png" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 31 Jan 2024 06:24:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/277058</guid>
            <link>https://www.oschina.net/news/277058</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[IntelliJ 負責人 Kirill Skrygan 成為 JetBrains 新任 CEO]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>JetBrains 公司正式對外宣佈了最新人事任命：原負責領導 IntelliJ 部門的 Kirill Skrygan&nbsp;將於 2024 年 2 月 1 日起擔任首席執行官。</p><blockquote><p><img src="https://oscimg.oschina.net/oscnet/up-3943b858bab2621d791912e56f8421bca6a.png" referrerpolicy="no-referrer"><em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fblog.jetbrains.com%2Fblog%2F2024%2F01%2F30%2Fjetbrains-ceo-transition%2F" target="_blank">https://blog.jetbrains.com/blog/2024/01/30/jetbrains-ceo-transition/</a></u></em></p></blockquote><p>JetBrains 在公告寫道：</p><blockquote><p>在我們邁向人工智能發揮變革作用的新時代之際，公司已經建立了一個良好的底層基礎，並且可以在此基礎上繼續推動公司向前發展。</p><p>作為新階段的一部分，Kirill Skrygan 自 2010 年加入 JetBrains，並在過去幾年裏一直領導 IntelliJ 部門，他將於 2024 年 2 月 1 日擔任首席執行官一職。</p></blockquote></div>
                                    ]]>
            </description>
            <pubDate>Wed, 31 Jan 2024 06:08:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/277057/jetbrains-ceo-transition</guid>
            <link>https://www.oschina.net/news/277057/jetbrains-ceo-transition</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Monibuca 2023 年終回顧]]>
            </title>
            <description>
                <![CDATA[<div class="content"><h1>2023 年回顧</h1><ul><li>成立南京模擬不卡科技有限公司</li><li>monibuca.com 域名通過備案</li><li>開通 qq 頻道</li><li>開通微信公眾號</li><li>推出各產品的 docker 版</li><li>Jessibuca 亮相 LVS 大會</li><li>推出 API 調試工具（基於 ApiFox）</li></ul><h2>Monibuca</h2><ul><li>版本號從<code>v4.3.4</code> 到 <code>v4.7.4</code></li><li>修復大量 bug，穩定性大幅提升</li></ul><h3>重要功能</h3><ul><li>時光回溯 (v4.4.0)</li><li>內存回收 (v4.4.0)</li><li><code>WebRTC</code> 傳輸 <code>AAC</code>、<code>H265</code>(v4.4.13)</li><li>日誌多語言 (v4.5.0)</li><li>配置功能優化，可以用環境變量覆蓋配置 (v4.5.3)</li><li>鑑權機制 ( v4.5.5)</li><li>增加 <code>trace</code> 級別日誌 (v4.5.5)</li><li>讀取 <code>mp4</code> 流 (v4.5.5)</li><li>增加內部訂閲者機制 (v4.5.5)</li><li>支持<code>EnhancedRTMP</code>規範 (v4.5.6)</li><li>新增<code>idletimeout</code>配置 (v4.5.7)</li><li>增加全局配置項<code>disableall</code>(v4.5.8)</li><li>配置支持<code>yaml tag name</code>(v4.5.9)</li><li>支持 <code>RTMPS</code> (v4.6.1)</li><li><code>http/ws-h264/h265</code> 裸流支持（v4.6.2)</li><li>引擎引入<code>sync.Cond</code>替代偽自旋鎖（v4.6.2)</li><li>單元測試和基準測試（v4.6.5)</li><li>錄製支持 mp4 格式（v4.6.8)</li><li>流新增一個狀態（v4.7.0）</li><li>遠端推拉增加正則表達式（v4.7.0）</li><li>增加 av1 和 opus 支持（v4.7.2)</li></ul><h3>新增插件</h3><ul><li><code>Monitor</code>監控插件 (v4.5.0)</li><li><code>PS</code>接受 PS 流插件 (v4.5.7)</li><li><code>LL-HL</code> llhls 格式插件 (v4.6.1)</li><li><code>CascadeServer/CascadeClient</code>級聯插件 (付費)</li><li><code>Transcode</code>轉碼插件 (付費)</li><li><code>Snappro</code>快速截圖插件 (付費)</li><li><code>CDN</code>轉推 CDN 插件 (付費)</li><li><code>Crypto</code>加密插件 (付費)</li><li><code>Gb28181pro</code>高級 GB 插件 (付費)</li></ul><h2>Jessibuca</h2><h3>網絡層</h3><ul><li>WebRTC 協議流（<code>h26x</code>）對接 <code>m7s</code>、<code>srs</code>、<code>zlm</code>、<code>阿里雲</code> 等服務器</li><li>加密流（<code>M7S</code>）(<code>H26x</code>)</li><li><code>fmp4</code>協議</li><li><code>h26x</code>裸流格式</li><li><code>Hls</code>協議流（<code>h26x</code>）</li><li>TF 卡錄像流（倍速、保持連接）</li><li>SEI 幀解析</li></ul><h3>解碼層</h3><ul><li><code>H.26x</code><code>WASM</code>（<code>SIMD</code>) 多線程視頻 (1080P 及以上)</li><li><code>Mpeg-4</code> 視頻格式軟解碼</li><li><code>MP3</code>音頻</li></ul><h3>編碼層</h3><ul><li>語音通訊（<code>PCM</code>/<code>G711A</code>/<code>G711U</code>/<code>Opus</code>）</li><li>視頻錄製（<code>flv</code>、<code>mp4</code>）</li></ul><h3>UI 層</h3><ul><li>性能面板</li><li>底部 UI 按鈕自定義</li><li>loading 效果</li><li>進度條</li><li>PTZ 雲台</li><li>電子放大</li><li>水印（全屏、動態、幽靈）</li><li>AI（人臉識別、物品識別、遮擋物檢測、黑/綠/花屏檢測）</li><li>NxN 路多屏播放、拖拽排序、局部全屏</li></ul><h2>Rebebuca</h2><ul><li>1 月開發 v1 版本</li><li>11 月 v2 版本開源</li></ul></div>
                                    ]]>
            </description>
            <pubDate>Wed, 31 Jan 2024 03:48:00 GMT</pubDate>
            <guid isPermaLink="false">https://my.oschina.net/langhuihui/blog/10993892</guid>
            <link>https://my.oschina.net/langhuihui/blog/10993892</link>
            <author>
                <![CDATA[原創]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[開源日報：RISC-V 萬兆開源交換機發售；npm 存在大量武林外傳視頻]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>歡迎閲讀 OSCHINA 編輯部出品的開源日報，每天更新一期。</p><p><strong># 2024.1.30&nbsp;</strong></p><h2><span><span><span style="color:#000000"><span><span><span style="color:#00b050">今日要點</span></span></span></span></span></span></h2><p style="text-align:justify"><strong>OpenSource Daily</strong></p><h3><u><a href="https://www.oschina.net/news/276876/rwkv-5-world-7b-opensource" target="_blank">RWKV-5-World 7B 模型開源 —— 最環保、最節能的 AI 模型</a></u></h3><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">2024 年 1 月 28 日，RWKV 開源基金會<strong><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F4hTFA2CMcInhGLZTqa_H4g" target="_blank">宣佈</a></u></strong>開源 RWKV-5-World 7B 模型。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">據介紹，「RWKV-5-World 7B」 是 RWKV 第五代架構 7B 參數大模型，也是 RWKV 迄今為止多語言性能最強的開源大模型。根據性能評測數據顯示，在 100% attention-free 和只訓練 1.1T tokens 的前提下，RWKV-5 7B 模型的多語言性能超過 Mistral，英文性能看齊 LlaMa2。</p><p><img src="https://oscimg.oschina.net/oscnet/up-3d734a934d678a080b7392fed400e7c9c3a.png" referrerpolicy="no-referrer"></p><h3><u><a href="https://www.oschina.net/news/276901" target="_blank">Milk-V Vega: 全球首款 RISC-V 萬兆開源交換機正式發售</a></u></h3><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">MilkV 於去年 8 月亮相了 「全球首款開源萬兆 RISC-V 網絡交換機 Milk-V Vega」。時隔數月，該產品現已上架官方淘寶店開售，定價 799 元。</p><p><span style="background-color:#ffffff; color:#333333">據介紹，Milk-V Vega 是 Milk-V 面向新一代網絡架構開發的一款小體積、高密度盒式開源萬兆網絡交換機，為用戶提供寬帶、語音、視頻、監控等多業務統一承載平台，多網融合覆蓋全業務；搭載國產 RISC-V 高可靠網絡交換芯片，幫助企業與用戶大幅簡化網絡架構，降低能耗成本與運維成本。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Milk-V Vega 支持完備的二層網絡協議處理功能，包括 L2 橋接，L2 組播和風暴抑制等；支持基於流、端口、協議、子網的 VLAN 功能；支持 STP，RSTP 和 QinQ 功能；支持防 DOS 攻擊，黑白名單和協議包濾除功能；支持濾鏡，鏈路聚合，OAM 報文發送和端口保護功能；支持入口及出口的 ACL 功能，還支持同步以太網，1588 功能。</p><p style="margin-left:.0001pt; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-705210c8717e8741ceda531371652a2176d.png" referrerpolicy="no-referrer"></p><h3><u><a href="https://www.oschina.net/news/276877/meta-code-llama-70b" target="_blank">Meta 發佈全新代碼生成大模型 Code Llama 70B</a></u></h3><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Meta 今天發佈了全新的代碼生成大模型 Code Llama 70B。據稱其 HumanEval 評分達到 67.8，達到 GPT-4 水準，是目前評分最高的開源大模型。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Code Llama 70B 是此前<span>&nbsp;</span><strong><u><a href="https://www.oschina.net/news/255350/meta-code-llama">Code Llama<span>&nbsp;</span></a></u></strong>的升級版本，包括三個模型：</p><ul style="list-style-type:disc; margin-left:0; margin-right:0"><li>CodeLlama-70B</li><li>CodeLlama-70B-Python</li><li>CodeLlama-70B-Instruct</li></ul><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>開源地址：<em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhuggingface.co%2Fcodellama%2FCodeLlama-70b-hf" target="_blank">https://huggingface.co/codellama/CodeLlama-70b-hf</a></u></em></strong></p><hr><h2><strong><span><span><span style="color:#000000"><span><span><span style="color:#00b050">用戶觀點</span></span></span></span></span></span></strong></h2><p><img src="https://oscimg.oschina.net/oscnet/up-f545e933088dc337f246103e4b82c375daa.png" referrerpolicy="no-referrer"></p><hr><h2><strong><span><span><span style="color:#000000"><span><span><span style="color:#00b050">媒體觀點</span></span></span></span></span></span></strong></h2><p><img src="https://oscimg.oschina.net/oscnet/up-e098404dded22f6bad87d9c419141da28f7.png" referrerpolicy="no-referrer"></p><hr><h2><strong><span><span><span style="color:#000000"><span><span><span style="color:#00b050">每日項目榜</span></span></span></span></span></span></strong></h2><p>GitHub 榜單：</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-a06e7992894706ed3ac49cab5b01c1cc732.png" referrerpolicy="no-referrer"><img alt="" src="https://oscimg.oschina.net/oscnet/up-1be56111bfc96a12468e0e12d2848382697.png" referrerpolicy="no-referrer"></p><blockquote><h4>在線閲讀完整日報內容，訪問：<strong><u><a href="https://oscimg.oschina.net/public_shard/%E5%BC%80%E6%BA%90%E6%97%A5%E6%8A%A5%E7%AC%AC005%E6%9C%9F%EF%BC%9Anpm%20%E5%AD%98%E5%9C%A8%E5%A4%A7%E9%87%8F%E6%AD%A6%E6%9E%97%E5%A4%96%E4%BC%A0%E8%A7%86%E9%A2%91.pdf" target="_blank">開源日報第 005 期：npm 存在大量武林外傳視頻</a></u></strong></h4></blockquote><hr><p><strong>往期回顧</strong></p><ul><li><u><a href="https://www.oschina.net/news/276864" target="news">開源日報第 004 期：百度輸入法在候選詞區域植入廣告；大神用 Excel 構建 CPU</a></u></li></ul></div>
                                    ]]>
            </description>
            <pubDate>Wed, 31 Jan 2024 03:28:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/277040</guid>
            <link>https://www.oschina.net/news/277040</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Python HTTP 庫 urllib3 支持直接在瀏覽器運行]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>Python HTTP 庫 urllib3 最新版本 2.2.0 新增了一項重磅特性——<strong>可直接在瀏覽器運行</strong>。</p><blockquote><p><img src="https://oscimg.oschina.net/oscnet/up-7e0846ecd450824c3e2a7cea0f00651c22c.png" referrerpolicy="no-referrer"></p></blockquote><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Furllib3.readthedocs.io%2Fen%2Fstable%2Freference%2Fcontrib%2Femscripten.html" target="_blank">根據介紹</a>，從 2.2.0 開始，urllib3 支持在 Pyodide 運行時中使用 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FFetch_API" target="_blank">JavaScript fetch API</a>，或者在 fetch API 不可用時（例如當跨源隔離未激活時）返回 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FXMLHttpRequest" target="_blank">XMLHttpRequest</a>。這意味着開發者可以使用該庫直接從瀏覽器發出 HTTP 請求。</p><p>由於 urllib3 的 Emscripten 支持與 API 兼容，這意味着依賴於 urllib3 的庫現在也可以在 Emscripten 和 Pyodide 環境中使用。</p><p>此外，urllib3 已初步支持 HTTP/2，與此同時其團隊正在籌集更多資金（大約 4 萬美元）來完成該功能。他們表示這筆資金能確保項目在 2023 年財務支持急劇下降後獲得長期可持續維護。</p><blockquote><p><img src="https://oscimg.oschina.net/oscnet/up-eae61d14f918da17c8b18cf92c1ed05432d.png" referrerpolicy="no-referrer"><u><em><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fsethmlarson.dev%2Furllib3-is-fundraising-for-http2-support" target="_blank">https://sethmlarson.dev/urllib3-is-fundraising-for-http2-support</a></em></u></p></blockquote><p><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Furllib3%2Furllib3%2Freleases%2Ftag%2F2.2.0" target="_blank">詳情查看 Release Notes</a></u>。</p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 31 Jan 2024 03:22:54 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/277037/urllib3-works-in-the-browser</guid>
            <link>https://www.oschina.net/news/277037/urllib3-works-in-the-browser</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[分析了 1.5 億行代碼發現：AI 編程助手降低代碼質量]]>
            </title>
            <description>
                <![CDATA[<div class="content"><h2>摘要</h2><p>2023 年是 GitHub Copilot 大放異彩的一年。在短短不到兩年的時間裏，這款 AI 編程助手已從一個初步的原型迅速成為眾多開發者和企業中不可或缺的重要工具 [1]。它的迅猛發展開啓了編寫代碼的新紀元。</p><p>GitHub 已經發布了數份關於 AI 如何影響軟件開發的增長和影響的研究。他們的一項重要發現是，開發者在使用 Copilot 時，編碼速度提升了「55%」。面對大量由 LLM 生成的代碼，我們不禁要問：這些代碼在質量和可維護性上與人工編寫的代碼相比如何？它們是不是更像經驗豐富的高級開發者的精心作品，還是更接近短期合同工的零散拼湊？</p><p>為此，GitClear 收集了從 2020 年 1 月到 2023 年 12 月之間的 153 百萬行代碼變更記錄 [A1]。這是目前已知最大的用於分析代碼質量差異的高度結構化代碼變更數據集 [A2]。</p><p>我們發現了一些關於代碼可維護性的令人擔憂的趨勢。代碼變更率 —— 指在編寫後不到兩週就被修改或撤銷的代碼行所佔的比例 —— 預計在 2024 年將是 2021 年 AI 出現之前的兩倍。我們還發現，「新增代碼」和「複製/粘貼代碼」的比例相比於「更新的」、「刪除的」和「移動的」代碼在上升。從這個角度來看，AI 生成的代碼更像是一位頻繁更換工作的合同工寫的臨時代碼，容易違反他訪問的代碼庫的 DRY（Donot Repeat Yourself，不重複自己）原則。。</p><p>我們以一些針對管理者如何在這種逆流中保持代碼高質量的建議作為本文的總結。</p><h2>GitHub: 「使用 AI 編程，提升效率 55%，增加代碼量 46%，為 GDP 貢獻 1.5 萬億美元」</h2><p>這樣驚人的數據背後，GitHub 的 CEO Thomas Dohmke 不僅忙於日常的 CEO 工作，還專門抽時間撰寫了關於 AI 革命的博客文章和研究論文。他在 2023 年發佈於 GitHub 的作品，詳細敍述了 Copilot 快速普及的激動人心的故事。</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-0d299b229f2006a677274efc1e61252dc26.png" referrerpolicy="no-referrer"></p><p><em>來自 Dohmke 2023 年的博客文章《AI 驅動開發者生命週期的經濟影響及從 GitHub Copilot 學到的經驗》</em></p><p>Dohmke 在博客中提出，目前已有超過 20,000 家組織在使用 GitHub Copilot for Business。這緊隨其在 2023 年 2 月宣佈的消息，即在 Copilot for Business 推出時，「已有超過一百萬人」在使用個人版 Copilot。GitHub 在提高 AI 質量和公開透明地分享其成果方面取得了令人讚賞的進展。</p><p>到底有多少開發者正在使用 AI 編寫代碼？在 GitHub 2023 年 6 月與 Wakefield Research 合作的一項獨立研究中，他們指出：「在美國大型公司工作的開發者中，有 92% 使用 AI 編程工具。」他們還強調，有 70% 的開發者認為使用 AI 帶來了顯著好處。不過，O’Reilly Publishing 在 2023 年 8 月的一項調查顯示，67% 的受訪開發者表示他們還沒有使用 ChatGPT 或 Copilot。這暗示了 GitHub 在市場上仍有很大的增長潛力。</p><h2>AI 生成代碼存在的問題</h2><p>開發者之所以採用 Copilot，是因為他們相信這款工具能夠加快編碼速度。GitHub 的研究發現，使用 Copilot 的開發者的滿意度提高了 75%。這表明開發者普遍接受了這款產品。但是，這並不意味着那些負責維護代碼的人也會感到同樣滿意。資深代碼研究員 Adam Tornhill（著有《Your Code as a Crime Scene》）對此表示懷疑：</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-bd20f9adfaf74d1818568d65d3765166e5d.png" referrerpolicy="no-referrer"></p><p><em>開發者研究人員對 AI 輔助編程的影響持擔憂態度</em></p><p>GitHub 聲稱，使用 Copilot 編寫代碼的速度提高了 55%。但問題是，有些本不應編寫的代碼怎麼辦？正如《Clean Code: A Handbook of Agile Software Craftsmanship》的作者 Robert Martin 所説，代碼的閲讀時間是編寫時間的十倍。更快地寫出低質量代碼，意味着後續閲讀代碼的人將面臨更多困難。</p><p>這只是使用 AI 助手的開發者所面臨的眾多挑戰之一。其他挑戰包括：</p><ol><li>頻繁收到增加代碼的建議，卻很少有關於更新、移動或刪除代碼的建議。這是源於文本環境中代碼編寫時的界面限制。</li><li>評估代碼建議可能耗費大量時間，尤其是在有多個自動建議系統相互競爭的環境中，如流行的 JetBrains IDEs（參見 [11]）。</li><li>代碼建議的優化並非基於和代碼維護者相同的激勵機制。代碼建議算法旨在提出最可能被接受的建議，而代碼維護者則努力減少需要閲讀的代碼量（即，理解如何調整現有系統）。</li></ol><p>這些問題可能解釋了為什麼初級開發者比經驗豐富的開發者更傾向於接受代碼建議。根據 GitHub 的研究：</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-261e68ce302259933f0288c5bd57dc43fc8.png" referrerpolicy="no-referrer"></p><p><em>GitHub 的數據顯示，相比經驗豐富的開發者，初級開發者使用 Copilot 的頻率高出大約 20%</em></p><p>經驗豐富的開發者更深刻地理解維護代碼的長期成本。如果他們更不願使用 AI 的代碼建議，那麼這是否意味着初級開發者現在正以前所未有的速度貢獻更多額外的代碼呢？</p><h2>代碼變更的分類</h2><p>為了探究代碼質量如何隨着時間變化，我們研究了在 AI 應用日益廣泛的 2023 年與之前幾年，代碼變更類型的不同。GitClear 將代碼的變更動作分為七大類別，本研究分析了其中的六種：</p><ol><li>新增代碼。指新增加的獨立代碼行，不包含對現有代碼的小幅修改（這類修改被標記為「更新」）。此外，新增代碼也不包括那些被添加、刪除後又重新加入的代碼行（這些行被標記為「更新」和「變動」）。</li><li>刪除代碼。指被移除、提交併且在隨後的至少兩週內沒有被重新加入的代碼行。</li><li>移動代碼。指被剪切並粘貼到新文件或同一文件中新的函數位置的代碼行。按照定義，「移動」的操作中，提交時代碼內容不變，除了代碼前的空格部分可能會有所改變。</li><li>更新代碼。基於已存在的代碼行，通過修改大約三個詞或更少的詞彙來提交的新代碼行。</li><li>查找/替換代碼。這種變更模式中，同一字符串在三個或更多位置被替換為統一的新內容。</li><li>複製/粘貼代碼。除了編程語言的關鍵字（例如，<code>end</code>，<code>}</code>，<code>[</code>）外，相同的代碼內容被提交到一個提交中的多個文件或函數。</li><li>無效操作代碼。微小的代碼更改，如空格或同一代碼塊內的行號變更。這類無效操作的代碼變更沒有包含在本研究中。</li></ol><p>GitClear 對代碼操作的具體實例可以在其「Diff Delta」文檔中找到。自 2020 年起，GitClear 開始按這些操作分類 git 倉庫。截至 2024 年 1 月，GitClear 已分析並分類了大約十億行代碼，這些代碼來自於四年間的各種來源，包括商業客戶（例如，NextGen Health, Verizon）和知名的開源項目（例如，Facebook 的 React 項目，谷歌的 Chrome 瀏覽器）。在這些代碼中，有 1.53 億行是有意義的非無效操作的代碼變更，被用於本次研究。</p><p>隨着代碼變更操作的不斷演進，我們也在研究所謂的「變動代碼」（Churned code）的變化趨勢。它並不算是一種標準的代碼操作，因為一行變動代碼可能涉及到多種不同的操作，如代碼的「新增」（Added）、「刪除」（Deleted）或「更新」（Updated）。一行代碼要被視作「變動的」，它必須被創建並推送到 git 倉庫中，之後在隨後的兩週內被回退或進行重大修改。可以將 Churn 理解為最初由作者編寫、提交併推送到公司 git 倉庫時，那些不完整或錯誤的更改。</p><h2>Copilot 對代碼編輯操作趨勢的影響</h2><p>為了深入瞭解 Copilot 如何影響代碼質量，我們對 GitClear 觀察到的各種代碼行操作進行了分析，這些操作按照代碼編寫的年份來分類（依據 git 提交記錄中的 authored_at 日期 [12]）。相關的詳細數據可以在附錄中找到。下面是各年份的操作百分比：</p><table><tbody><tr><th>&nbsp;</th><th>新增</th><th>刪除</th><th>更新</th><th>移動</th><th>複製/粘貼</th><th>查找/替換</th><th>代碼波動</th></tr></tbody><tbody><tr><td>2020</td><td>39.2%</td><td>19.5%</td><td>5.2%</td><td>25.0%</td><td>8.3%</td><td>2.9%</td><td>3.3%</td></tr><tr><td>2021</td><td>39.5%</td><td>19.0%</td><td>5.0%</td><td>24.8%</td><td>8.4%</td><td>3.4%</td><td>3.6%</td></tr><tr><td>2022</td><td>41.0%</td><td>20.2%</td><td>5.2%</td><td>20.5%</td><td>9.4%</td><td>3.7%</td><td>4.0%</td></tr><tr><td>2023</td><td>42.3%</td><td>21.1%</td><td>5.5%</td><td>16.9%</td><td>10.5%</td><td>3.6%</td><td>5.5%</td></tr><tr><td>2024</td><td>43.6%</td><td>22.1%</td><td>5.8%</td><td>13.4%</td><td>11.6%</td><td>3.6%</td><td>7.1%</td></tr></tbody></table><p>這些數據在圖表中的展現方式是這樣的：左軸顯示了代碼變更操作的比例（這些百分比總和為 100%）。右軸和淺藍色線條則展示了與之相應的「代碼波動」變化。</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-5056ad3d85208cd11c97d7cbc2e08f934a3.png" referrerpolicy="no-referrer"></p><p>對於 2024 年的預測，我們利用 OpenAI 的 gpt-4-1106-preview 模型，通過對現有數據進行二次迴歸分析得出。附錄中詳細介紹了我們如何使用 OpenAI 模型進行這一分析。鑑於 GitHub 報告的 Copilot 的迅猛發展以及 AI 智能體的普遍應用，可以預見 2024 年的趨勢將延續 2022 年開始顯現的模式，並在 2023 年得到加速。單從 2022 年到 2023 年各種操作頻率的變化來看，我們可以發現三個可能影響代碼質量的警示信號：</p><table><tbody><tr><th>操作</th><th>同比變化</th></tr></tbody><tbody><tr><td>添加</td><td>+3.1%</td></tr><tr><td>刪除</td><td>+4.8%</td></tr><tr><td>更新</td><td>+5.2%</td></tr><tr><td>移動</td><td>-17.3%</td></tr><tr><td>複製/粘貼</td><td>+11.3%</td></tr><tr><td>查找/替換</td><td>-1.3%</td></tr><tr><td>代碼變動率 (Churn)</td><td>+39.2%</td></tr></tbody></table><h2>解讀代碼操作變化的含義</h2><p>2023 年最顯著的代碼操作變化發生在「代碼變動率 (Churn)」、「移動」和「複製/粘貼」這幾個方面。我們在這一節將詳細探討這些變化背後的意義。</p><h3>代碼變動率的顯著增長</h3><p>所謂的「代碼變動率 (Churn)」是指代碼被推送到倉庫後，接着在兩週內被撤銷、移除或更新的比例。在開發者親自編寫所有代碼的情況下，這種情況相對較少見——2023 年之前，只有 3-4% 的代碼會發生這樣的變動。不過，在 2022 年就已經出現了這種趨勢的上升，當時代碼變動率躍升至 9%。值得注意的是，2022 年是人工智能編程助手 Copilot 首次以測試版形式推出，同時也是 ChatGPT 開始被廣泛使用的一年。</p><p>在 2022 至 2023 年期間，AI 輔助工具的興起與推送到代碼倉庫的「錯誤代碼」密切相關。根據引用資料 [1] 和 [8]，如果我們假設 Copilot 在 2021 年的普及率為 0%，2022 年為 5-10%，2023 年為 30%，那麼這些因素之間的相關性極高，皮爾森相關係數高達 0.98（更多關於這一計算的細節，請參見附錄中的「代碼變動率與 Copilot 的相關性」部分）。這意味着，隨着 AI 輔助工具的使用增加，代碼變動率也在相應增長。</p><p>隨着代碼變動率的普遍增加，錯誤代碼被部署到生產環境的風險也隨之增大。如果這一趨勢持續到 2024 年，那麼超過 7% 的代碼更改可能會在兩週內被撤銷，這將是 2021 年的兩倍。根據這些數據，我們預計 Google DORA 的「變更失敗率」將在今年晚些時候發佈的「2024 年 DevOps 狀態報告」中有所增加，前提是該研究包含了 2023 年使用 AI 輔助的開發者數據。</p><h3>代碼移動越少意味着重構和複用的減少</h3><p>通常在重構現有代碼系統時，我們會發現代碼的移動。重構的系統，尤其是代碼的移動，是實現代碼複用的關鍵。隨着產品的不斷擴展，開發者往往需要將現有代碼重組到新的模塊和文件中，以便於新功能的複用。對於經驗豐富的開發者來説，代碼複用的優勢非常明顯——與新編寫的代碼相比，已經在實際環境中被測試並證實穩定的代碼顯得更加可靠。而且，經過多人修改的代碼往往包含了豐富的文檔，這大大加快了新手開發者對模塊的理解速度。</p><p>結合「複製/粘貼」代碼的增加，可以清楚地看到，當前的 AI 助手似乎在一定程度上阻礙了代碼的複用。相較於進行重構和遵循 DRY（「不要重複自己」）原則，這些助手更傾向於提供一種快捷方式，讓開發者重複使用現有代碼。</p><h3>複製/粘貼的代碼會導致未來的維護困難</h3><p>複製/粘貼的代碼可能是長期維護代碼中最大的難題之一。當開發者重複使用非關鍵字的代碼行時，實際上是在暗示他們沒有時間去深入研究之前的實現方式。這種重複添加代碼的做法，將整合實現重複功能的任務留給了未來的維護者。</p><p>大多數開發者更喜歡「實現新功能」而不是「審視潛在可複用的代碼」，因此複製/粘貼的代碼往往會過期仍然被使用。尤其在經驗不足的團隊中，可能缺乏有權威的代碼維護者來移除這些重複的代碼。即便是資深開發者，也需要付出巨大的努力和決心去充分理解代碼，以便將其刪除。</p><p>如果沒有 CTO 或工程副總裁定期安排時間來減少技術債務，那麼由於高層的時間壓力，新添加的複製/粘貼代碼可能永遠不會被整合到支撐長期開發速度的組件庫中。</p><p>根據 GitClear 的操作，只有在單次提交中重複的代碼才會被計算。因此，2023 年測量到的 11% 的複製/粘貼比例，可能只是 2024 年代碼庫中悄然增加的總複製量的一小部分。</p><h2>修訂代碼年齡趨勢分析</h2><p>我們使用了一個獨立的方法來評估 2023 年相比之前代碼質量的變化：分析 GitClear 提供的「代碼溯源」數據。所謂「代碼溯源」，其實就是要看代碼從被寫出到最終被更新或刪除的時間長度。</p><table><tbody><tr><th>年份</th><th>少於 2 周</th><th>少於一個月</th><th>少於一年</th><th>1-2 年</th></tr></tbody><tbody><tr><td>2020</td><td>65.9%</td><td>8.7%</td><td>21.8%</td><td>3.6%</td></tr><tr><td>2021</td><td>66.7%</td><td>9.0%</td><td>20.5%</td><td>3.8%</td></tr><tr><td>2022</td><td>64.7%</td><td>9.9%</td><td>21.1%</td><td>4.4%</td></tr><tr><td>2023</td><td>71.3%</td><td>9.3%</td><td>16.4%</td><td>3.0%</td></tr><tr><td>2024</td><td>74.4%</td><td>9.1%</td><td>14.1%</td><td>2.4%</td></tr></tbody></table><p>根據這些數據，我們可以看到：</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-1d1e4582aa2a1e3988d79b7610eac2f0736.png" referrerpolicy="no-referrer"></p><h2>解讀代碼年齡的趨勢</h2><p>對「代碼溯源」的數據分析揭示了一個有趣的現象，即在 2022 年到 2023 年間，代碼的更新速度加快了。特別是，不到兩週就被替換的代碼比例增加了 10%。同時，超過一個月的代碼更新頻率在 2023 年比 2022 年下降了 24%（2023 年為 19.4%，而 2022 年為 25.5%）。</p><p>這一趨勢顯示，在 AI 助手普及之前，開發者更可能會選擇最近編寫的代碼進行改進和再利用。根據 Techreport 的一項調查[5]，早在 2020 年代初，大約 70% 的項目採用了敏捷開發方法。在敏捷方法中，每個 Sprint（通常持續 2-3 周）都會規劃和執行新的功能。這與我們的數據相符，表明大約在 2020 年左右，團隊在每個 Sprint 結束後，可能會聚在一起討論最近的工作成果，以及如何在接下來的 Sprint 中再次利用這些成果。</p><h2>後續研究的思考題</h2><p>我們能否設定激勵措施來應對 2024 年代碼建議引擎中普遍的「添加後即忘記」的問題？</p><p>儘管我們可以訓練 AI 識別代碼整合的機會，關鍵在於它何時被觸發？我們需要一個新的用戶界面來複查代碼的刪除和更新，以及潛在的新增內容。同時，那些導致團隊今天無法騰出時間來減輕技術債務的管理層壓力，可能也會妨礙他們採用一種假設性的「代碼清理」工具。但如果有代碼助手的開發者對探索如何整合代碼感興趣，GitClear 願意與他們合作，詳細聯繫方式見附錄。</p><p>另一個值得關注的問題是：額外代碼對開發進度的影響速度有多大？特別是對於複製/粘貼的代碼，庫中代碼行數與開發者修改這些代碼的速度之間幾乎肯定存在負相關關係。現在的疑問是：「累積的複製/粘貼技術債務何時變得不可忽視？」瞭解這種減速效應發生的速率可以幫助未來的工具指導管理者何時應該減少開發新功能的時間。</p><p>最後一個探索的問題是：與 2020-2022 年相比，現在發生的複製/粘貼代碼的總比例是多少？由於 GitClear 目前僅測量單個提交中的複製/粘貼代碼，因此整體的複製/粘貼量（文件中重複的所有非關鍵字、非註釋代碼行）可能是 GitClear 當前測量值的兩倍。2024 年，複製/粘貼代碼真的會佔到所有代碼操作的 20-25% 嗎？</p><p>GitClear 將在未來的研究中探討這些問題，並鼓勵該領域的其他研究人員共享他們的數據。如果您有興趣與 GitClear 合作進行進一步研究，請查閲附錄中的聯繫信息。</p><h2>結論：開發者為何保持謹慎？</h2><p>根據我們分析的兩項關鍵數據，2023 年代碼質量面臨明顯下滑，這與大語言模型 (LLMs) 特別是 AI 代碼助手的廣泛應用密切相關。</p><p>GitHub 與 Wakefield 研究所在 2023 年的一項調查顯示，開發者已經意識到代碼質量的降低。當被問及「在沒有 AI 的情況下，應以哪些指標評估你的工作？」時，他們最關注的是「協作和溝通」，其次是「代碼質量」。</p><p>但當問題轉向「在使用 AI 時，應以哪些指標評估你的工作？」時，他們的關注點發生變化，「代碼質量」成為了最關注的問題，而「生產事件數量」上升為第三大關注點：</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-c3c950cc95effe8fe6f9b6d78a0706b2ea6.png" referrerpolicy="no-referrer"></p><p><em>摘自 GitHub 關於 AI 影響的調查</em></p><p>儘管開發者個人可能沒有足夠的數據來解釋為什麼使用 AI 時「代碼質量」和「生產事件」成為更加緊迫的問題，我們的數據提供了一個可能的解釋：當開發者被大量快速且簡單的短期有效建議所淹沒時，他們往往會不斷增加代碼行數，卻忽視了檢查現有系統是否可以優化重用。</p><p>對於那些通過 Tab 鍵得到複製/粘貼建議的經驗不足的開發者來説，解決這一問題並非易事。工程領導們需要密切關注新數據，並思考這些數據對未來產品維護的潛在影響。開發者分析工具，如 GitClear，能夠幫助識別問題代碼的累積速度。需要考慮的關鍵問題有：</p><ol><li>代碼複用比例是否在下降？</li><li>代碼的移動和複製/粘貼量是否有所變化？</li><li>開發者發現代碼複用機會的難易程度如何？</li></ol><p>關於 GitClear 如何應對這些問題的進一步討論見 [A3]。</p><p>AI 助手和 Copilot 如何重塑開發者的角色？無疑，隨着 AI 的普及，我們進入了一個代碼行數增加速度空前的時代。2024 年更值得關注的問題是：誰將負責整理這一切留下的爛攤子？</p><h2>引用</h2><ol><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.blog%2F2023-06-27-the-economic-impact-of-the-ai-powered-developer-lifecycle-and-lessons-from-github-copilot%2F" target="_blank">探索 AI 驅動的開發者生命週期帶來的經濟效益：GitHub Copilot 的案例分析</a>[GitHub]</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.blog%2F2023-02-14-github-copilot-for-business-is-now-available%2F" target="_blank">GitHub Copilot for Business：企業級智能編程助手</a>[GitHub]</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Farxiv.org%2Fabs%2F2306.15033" target="_blank">軟件開發領域的重大變革：AI 驅動下的開發者生命週期經濟與生產力分析</a>[GitHub]</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocs.google.com%2Fpresentation%2Fd%2F1_zHZSSU5GsuORb776sRVNkuKoHXS7e2smJWWkn1Kxds%2Fedit%23slide%3Did.g9a6371a948_0_732" target="_blank">深入瞭解 Diff Delta 和 Commit 組</a>[GitClear]</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ftechreport.com%2Fstatistics%2Fhow-many-companies-use-agile%2F" target="_blank">Techreport 調查顯示：超過七成團隊採用敏捷開發模式</a>[Techreport]</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.gitclear.com%2Fhelp%2Ftechnical%2Fcode_provenance" target="_blank">代碼溯源：它是什麼，為何重要？</a>[GitClear]</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.blog%2F2023-06-13-survey-reveals-ais-impact-on-the-developer-experience%2F" target="_blank">調查顯示 AI 如何改變開發者的工作體驗</a>[GitHub]</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.oreilly.com%2Fradar%2Fthe-next-generation-of-developer-productivity%2F" target="_blank">領略下一代開發者生產力的風采</a>[O’reilly]</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fpragprog.com%2Ftitles%2Fatcrime2%2Fyour-code-as-a-crime-scene-second-edition%2F" target="_blank">當你的代碼變成犯罪現場</a>[Pragmatic Programmers]</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.goodreads.com%2Fbook%2Fshow%2F3735293-clean-code" target="_blank">敏捷軟件工藝中的代碼潔淨之道：實用手冊及其引用</a>[Robert C. Martin, 作者]</li><li>[JetBrains AI：提升你的編程工具，迎接新的自由 (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.jetbrains.com%2Fai%2F" target="_blank">https://www.jetbrains.com/ai/</a>)[JetBrains]</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgit-scm.com%2Fdocs%2Fgit-commit" target="_blank">Git 提交指南：深入瞭解 git-commit</a>[Git 文檔]</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.gitclear.com%2Fhelp%2Ftech_debt_inspector_list_directories_by_developer_velocity" target="_blank">如何使用 Tech Debt 瀏覽器優化代碼</a>[GitClear]</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FDon%2527t_repeat_yourself" target="_blank">「不要重複自己」原則的智慧</a>[Wikipedia]</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ftwitter.com%2FAdamTornhill%2Fstatus%2F1729592297887502611" target="_blank">X：Adam Tornhill 分享的思考</a>[X/Twitter]</li></ol><blockquote><p>本文已獲授權轉載。</p><p>原文：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgitclear-public.s3.us-west-2.amazonaws.com%2FCoding-on-Copilot-2024-Developer-Research.pdf" target="_blank">Coding on Copilot</a><br> 作者：William Harding,Matthew Kloster<br> 譯文：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fbaoyu.io%2Ftranslations%2Fllm%2Fcoding-on-copilot-2024-developer-research" target="_blank">在 Copilot 的協助下編程白皮書——2023 年的數據顯示了代碼質量面臨的挑戰</a><br> 譯者：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fbaoyu.io%2F" target="_blank">寶玉</a></p></blockquote></div>
                                    ]]>
            </description>
            <pubDate>Wed, 31 Jan 2024 02:43:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/277025/coding-on-copilot-2024-developer-research</guid>
            <link>https://www.oschina.net/news/277025/coding-on-copilot-2024-developer-research</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[GLM-4 模型開放 API 正式上線]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="color:#000000">2024 年 01 月 16 日，智譜 AI 正式推出了新一代基座大模型 GLM-4，並宣佈了一系列產品升級。時至今日，GLM-4 模型的開放 API 正式上線。所有開發者均可通過智譜 AI 的開放平台接入 GLM-4 模型開放 API。</span></p><p><strong><span style="color:#000000">網址：</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fopen.bigmodel.cn%2Fdev%2Fapi%23glm-4" target="_blank">https://open.bigmodel.cn/dev/api#glm-4</a></strong></p><p><span style="color:#000000">根據介紹，新一代基座大模型 GLM-4，支持更長上下文；更強的多模態；支持更快推理速度，更多併發，大大降低推理成本；同時 GLM-4 增強了智能體能力。</span></p><ul><li><p><span style="color:#000000"><strong>基礎能力（英文）：</strong>GLM-4 在 MMLU、GSM8K、MATH、BBH、HellaSwag、HumanEval 等數據集上，分別達到 GPT-4 94%、95%、91%、99%、90%、100% 的水平。</span></p></li><li><p><span style="color:#000000"><strong>指令跟隨能力：</strong>GLM-4 在 IFEval 的 prompt 級別上中、英分別達到 GPT-4 的 88%、85% 的水平，在 Instruction 級別上中、英分別達到 GPT-4 的 90%、89% 的水平。</span></p></li><li><p><span style="color:#000000"><strong>對齊能力：</strong>GLM-4 在中文對齊能力上整體超過 GPT-4。</span></p></li><li><p><span style="color:#000000"><strong>長文本能力：</strong>在 LongBench（128K）測試集上對多個模型進行評測，GLM-4 性能超過 Claude 2.1；在「大海撈針」（128K）實驗中，GLM-4 的測試結果為 128K 以內全綠，做到 100% 精準召回。</span></p></li><li><p><span style="color:#000000"><strong>多模態-文生圖：</strong>CogView3 在文生圖多個評測指標上，相比 DALLE3 約在 91.4% ~99.3% 的水平之間。</span></p></li></ul><p><img height="380" src="https://oscimg.oschina.net/oscnet/up-4fe971d080041b4d60fc9d6078b26f54d9f.png" width="500" referrerpolicy="no-referrer">&nbsp;</p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 31 Jan 2024 02:42:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/277024</guid>
            <link>https://www.oschina.net/news/277024</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Opera 將推出全球首款非 WebKit 內核的 iOS 瀏覽器]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>崑崙萬維旗下海外信息分發與元宇宙平台 Opera 近日<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FsgKWxkIL0pIwCN7x7NXXYw" target="_blank">宣佈</a>，將為歐洲的 iPhone 和 iPad 用戶帶來一款基於自研引擎的全新 AI 瀏覽器「Opera One」。</p><p><img alt="" height="281" src="https://oscimg.oschina.net/oscnet/up-e479abd2879e446aeb1c15c3023eb129f64.jpg" width="500" referrerpolicy="no-referrer"></p><p>Opera 計劃於 3 月份首次亮相這款新瀏覽器，屆時 DMA（歐洲數字市場法案）將生效。由於這些變化僅在歐盟實施，Opera 強烈鼓勵蘋果將這些增強功能推廣至全球 iOS 用戶。</p><p>為了遵守 DMA，蘋果決定允許開發者提交非基於 WebKit 的瀏覽器，包括 Web 瀏覽器應用和在 iOS 應用中顯示網頁的應用內瀏覽器。Opera 表示，這些變化將使他們有機會為 iPhone 用戶提供 Safari 之外的人工智能瀏覽器。</p><p>目前，Opera 是全球最大的第三方獨立瀏覽器。此前，Opera 於 2023 年 6 月 20 日推出旗艦瀏覽器「Opera One」，全面引入 Aria 人工智能助手，用戶只需註冊 Opera 賬戶即可免費使用。</p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 31 Jan 2024 02:37:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/277020</guid>
            <link>https://www.oschina.net/news/277020</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[GNOME Project Handbook：面向 GNOME 貢獻者的官方指南]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>GNOME 團隊上線了新網站：<strong><em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhandbook.gnome.org%2Findex.html" target="_blank">GNOME Project Handbook</a></u></em></strong>。</p><blockquote><p><img src="https://oscimg.oschina.net/oscnet/up-f14ac879fd6ea4b29cc11ea770593bbf2a3.png" referrerpolicy="no-referrer"><em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fblogs.gnome.org%2Faday%2F2024%2F01%2F30%2Fannouncing-the-gnome-project-handbook%2F" target="_blank">https://blogs.gnome.org/aday/2024/01/30/announcing-the-gnome-project-handbook/</a></u></em></p></blockquote><p>官方稱這份全新、完全重寫的文檔專門為 GNOME 貢獻者創建，旨在幫助新手貢獻者參與 GNOME 桌面環境的開發。因此《GNOME Project Handbook》不會為使用 GNOME 的用戶提供技術文檔，也不包含用戶文檔，以及不為應用程序和庫提供面向公眾的主頁。它所包含的是作為 GNOME 貢獻者進行操作所需的信息。</p><blockquote><p>該站點包含參與 GNOME 項目所需的所有信息。它適用於新的和現有的 GNOME 貢獻者。</p><p>如果您是 GNOME 新手，該手冊是瞭解 GNOME 如何工作的好地方，包括每個團隊的工作、如何訪問 GNOME 開發平台以及如何與其他項目成員溝通。</p><p>如果您已經在為 GNOME 做出貢獻，那麼您可以在本手冊中找到重要的參考信息，例如開發計劃、活動詳細信息以及如何申請旅行贊助。</p></blockquote><p><img src="https://oscimg.oschina.net/oscnet/up-ab1d2877fb7465713e1026dde056406759a.png" referrerpolicy="no-referrer"></p><p>團隊稱《GNOME Project Handbook》目前雖然處於早期階段，但已包含大部分核心內容。後續該文檔會替代 wiki，因此他們建議貢獻者從現在開始查閲手冊而不是 wiki。</p></div>
                                    ]]>
            </description>
            <pubDate>Wed, 31 Jan 2024 02:22:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/277015/gnome-project-handbook</guid>
            <link>https://www.oschina.net/news/277015/gnome-project-handbook</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[簡單一招竟把 nginx 服務器性能提升 50 倍]]>
            </title>
            <description>
                <![CDATA[<div class="content"><div class="ad-wrap" style="margin-bottom: 8px;"><div data-traceid="news_comment_top_ad" data-tracepid="news_comment_top" style="text-align: center;"><a style="color:#A00;font-weight:bold;" href="https://www.oschina.net/action/visit/ad?id=1576" target="_blank">【直播預告】DBA 會被雲淘汰嗎？ <img src="https://www.oschina.net/img/hot3.png" align="absmiddle" style="max-height: 32px;max-width: 32px;margin-top: -4px;" referrerpolicy="no-referrer"></a></div></div><h2>需求背景</h2><p>接到重點業務需求要分輪次展示數據，預估最高承接 9w 的 QPS，作為後端工程師下意識的就是把接口寫好，分級緩存、機器擴容、線程拉滿等等一系列連招準備，再因為數據更新頻次兩隻手都數得過來，我們採取了最穩妥的處理方式，直接生成靜態文件拿 CDN 抗量</p><p>架構流程大致如下所示：</p><p><img src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2024-01-02-11-59FwLpwnTQRa2sueb..jpg" alt="" referrerpolicy="no-referrer"></p><p>數據更新後會重新生成新一輪次的文件，刷新 CDN 的時候會觸發大量回源請求，應用服務器極端情況得 hold 住這 9w 的 QPS</p><h2>第一次壓測</h2><p>雙機房一共 40 台 4C 的機器，25KB 數據文件，5w 的 QPS 直接把 CPU 打到 90%</p><p>這明顯不符合業務需求啊，咋辦？先無腦加機器試試唄</p><p>就在這時測試同學反饋壓測的數據不對，最後一輪文件最大會有 125KB，雪上加霜</p><p>於是乎文件替換，機器數量整體翻一倍擴到 80 台，服務端 CPU 依然是瓶頸，QPS 加不上去了</p><p><img src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2024-01-02-11-59591UDaNqz2ejKgeO.png" alt="" referrerpolicy="no-referrer"></p><p>到底是哪裏在消耗 CPU 資源呢，整體架構已經簡單到不能再簡單了</p><p>這時候我們注意到為了節省網絡帶寬 nginx 開啓了 gzip 壓縮，是不是這小子搞的鬼</p><pre><code>server
{
      listen 80;
      
      gzip on;
      gzip_disable "msie6";
      gzip_vary on;
      gzip_proxied any;
      gzip_comp_level 6;
      gzip_buffers 16 8k;
      gzip_http_version 1.1;
      gzip_types text/plain application/css text/css application/xml text/javascript application/javascript application/x-javascript;

......
}


</code></pre><h2>第二次壓測</h2><p>為了驗證這個猜想，我們把 nginx 中的 gzip 壓縮率從 6 調成 2，以減少 CPU 的計算量</p><blockquote><p>gzip_comp_level 2;</p></blockquote><p>這輪壓下來 CPU 還是很快被打滿，但 QPS 勉強能達到 9w，坐實了確實是 gzip 在耗 CPU</p><p><img src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2024-01-02-11-5911xGuMeD522kE2Orh.png" alt="" referrerpolicy="no-referrer"></p><p>nginx 作為家喻戶曉的 web 服務器，以高性能高併發著稱，區區一個靜態數據文件就把應用服務器壓的這麼高，一定是哪裏不對</p><h2>第三次壓測</h2><p>明確了 gzip 在耗 CPU 之後我們潛下心來查閲了相關資料，發現了一絲進展</p><p>html/css/js 等靜態文件通常包含大量空格、標籤等重複字符，重複出現的部分使用「距離加長度」表達可以減少字符數，進而大幅降低帶寬，這就是 gzip 無損壓縮的基本原理</p><p>作為一種端到端的壓縮技術，gzip 約定文件<strong>在服務端壓縮完成</strong>，傳輸中保持不變，直到抵達客戶端。這不妥妥的理論依據嘛～</p><p>nginx 中的 gzip 壓縮分為動態壓縮和靜態壓縮兩種</p><p>•動態壓縮</p><p>服務器給客戶端返回響應時，消耗自身的資源進行實時壓縮，保證客戶端拿到 gzip 格式的文件</p><p>這個模塊是默認編譯的，詳情可以查看 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fnginx.org%2Fen%2Fdocs%2Fhttp%2Fngx_http_gzip_module.html" target="_blank">https://nginx.org/en/docs/http/ngx_http_gzip_module.html</a></p><p>•靜態壓縮</p><p>直接將預先壓縮過的 .gz 文件返回給客戶端，不再實時壓縮文件，如果找不到 .gz 文件，會使用對應的原始文件</p><p>這個模塊需要單獨編譯，詳情可以查看 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fnginx.org%2Fen%2Fdocs%2Fhttp%2Fngx_http_gzip_static_module.html" target="_blank">https://nginx.org/en/docs/http/ngx_http_gzip_static_module.html</a></p><p>如果開啓了 gzip_static always，而且客戶端不支持 gzip，還可以在服務端加裝 gunzip 來幫助客戶端解壓，這裏我們就不需要了</p><p>查了一下 jdos 自帶的 nginx 已經編譯了 ngx_http_gzip_static_module，省去了重新編譯的麻煩事</p><p><img src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2024-01-14-21-44VgvTdUt25t44PAPy.jpg" alt="" referrerpolicy="no-referrer"></p><p>接下來通過 GZIPOutputStream 在本地額外生成一個 .gz 的文件，nginx 配置上靜態壓縮再來一次</p><blockquote><p>gzip_static on;</p></blockquote><p><img src="https://s3.cn-north-1.jdcloud-oss.com/shendengbucket1/2024-01-02-11-59bMIHDM9dOrJ8soD.png" alt="" referrerpolicy="no-referrer"></p><p>面對 9w 的 QPS，40 台機器只用了 7% 的 CPU 使用率完美扛下</p><p>為了探底繼續加壓，應用服務器 CPU 增長緩慢，直到網絡流出速率被拉到了 89MB/s，擔心影響宿主機其他容器停止壓力，此時 QPS 已經來到 27w</p><p>qps 5w-&gt;27w 提升 5 倍，CPU 90%-&gt;7% 降低 10 倍，整體性能翻了 50 倍不止，這回舒服了～</p><h2>寫在最後</h2><p>經過一連串的分析實踐，似乎靜態壓縮存在「壓倒性」優勢，那什麼場景適合動態壓縮，什麼場景適合靜態壓縮呢？一番探討後得出以下結論</p><blockquote><p>純靜態不會變化的文件適合靜態壓縮，提前使用 gzip 壓縮好避免 CPU 和帶寬的浪費。動態壓縮適合 API 接口返回給前端數據這種動態的場景，數據會發生變化，這時候就需要 nginx 根據返回內容動態壓縮，以節省服務器帶寬</p></blockquote><p>作為一名後端工程師，nginx 是我們的老相識了，抬頭不見低頭見。日常工作中配一配轉發規則，查一查 header 設置，基本都是把 nginx 作為反向代理使用。這次是直接訪問靜態資源，調整過程的一系列優化加深了我們對 gzip 的動態壓縮和靜態壓縮的基本認識，這在 NG 老炮兒眼裏顯得微不足道，但對於我們來説卻是一次難得的技能拓展機會</p><p>在之前的職業生涯裏，我們一直聚焦於業務架構設計與開發，對性能的優化似乎已經形成思維慣性。面對大數據量長事務請求，減少循環變批量，增大併發，增加緩存，實在不行走異步任務解決，一般瓶頸都出現在 I/O 層面，畢竟磁盤慢嘛，減少與數據庫的交互次數往往就有效果，其他大概率不是問題。這回有點兒不一樣，CPU 被打起來的原因就是出現了大量數據計算，在高併發請求前，任何一個環節都可能產生性能問題</p><p>作者：京東零售，閆創</p><p>來源：京東雲開發者社區，轉載請註明來源</p></div>
                                    ]]>
            </description>
            <pubDate>Mon, 29 Jan 2024 02:49:00 GMT</pubDate>
            <guid isPermaLink="false">https://my.oschina.net/u/4090830/blog/10979685</guid>
            <link>https://my.oschina.net/u/4090830/blog/10979685</link>
            <author>
                <![CDATA[京東雲開發者]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[網易首款鴻蒙原生遊戲《倩女幽魂》手游完成開發，商業化版本已就緒]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="color:#000000">在 2023 年 12 月 15 日，網易遊戲正式宣佈啓動基於 HarmonyOS NEXT 鴻蒙原生應用開發。目前，作為網易首款鴻蒙原生遊戲，《倩女幽魂》不但完成了鴻蒙原生應用開發，且商業化版本已就緒。</span></p><p><img height="332" src="https://oscimg.oschina.net/oscnet/up-3f58a6b7c512c796452e424815d7ea46203.png" width="500" referrerpolicy="no-referrer"></p><p><span style="color:#000000">在華為遊戲中心和網易中台的深度合作下，基於 HarmonyOS SDK 在應用框架層面覆蓋 ArkTS、進程間通訊、數據管理等方面的底層基礎能力，《倩女幽魂》鴻蒙原生應用的開發得以更加簡單和高效。同時，《倩女幽魂》開發團隊快速完成了賬號登錄、消息推送以及應用內支付等一系列 HarmonyOS SDK 應用服務領域的集成，充分利用能力下沉 OS 底層的優勢，快速完成基礎服務的開發上線，為商業化版本上線做好充足準備。</span></p><p><span style="color:#000000">《倩女幽魂》鴻蒙原生應用商業化版本的就緒，也意味着由網易中台提供的賬號登錄、消息推送及應用內支付等 UniSDK 核心部分已支持 HarmonyOS，不但有助於網易遊戲更高效地完成更多鴻蒙原生遊戲開發與最終上架，更是鴻蒙生態遊戲建設前進的重要一步。</span></p><p style="color:rgba(0, 0, 0, 0.9); margin-left:0; margin-right:0; text-align:justify"><span style="color:#000000">早在華為開發者大會上，網易雷火事業羣技術副總裁盧小軍宣佈，在網易遊戲和華為遊戲中心聯合調優下，《倩女幽魂》已率先完成在主體渲染和邏輯打通，基於 HarmonyOS 及其方舟圖形引擎，雙方不但僅花費三週時間就完成了完整遊戲邏輯的移植工作，而且整體渲染性能實現明顯提升，畫面更清晰、柔和，此外，還完成了幀數提升的同時降低功耗的性能調優，遊戲畫面單幀的功耗下降了 13%。給用戶帶來更暢快持久的遊戲體驗。</span></p><p style="color:rgba(0, 0, 0, 0.9); margin-left:0; margin-right:0; text-align:justify"><span style="color:#000000">公告稱，本次《倩女幽魂》鴻蒙原生應用商業化版本的就緒，可以看出網易與華為遊戲中心在技術應用和商業化層面更深入的鴻蒙生態合作，將進一步豐富鴻蒙生態下的遊戲品類與內容，也將通過鴻蒙為遊戲精品化發展和長線運營注入新活力，帶給用戶更沉浸和多元的遊戲體驗。</span></p></div>
                                    ]]>
            </description>
            <guid isPermaLink="false">https://www.oschina.net/news/277223</guid>
            <link>https://www.oschina.net/news/277223</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
    </channel>
</rss>
