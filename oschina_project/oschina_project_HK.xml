<?xml version="1.0" encoding="UTF-8"?>
<rss
    xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"


>
    <channel>
        <title>
            <![CDATA[開源中國-軟件更新資訊]]>
        </title>
        <link>https://www.oschina.net/news/project</link>
        <atom:link href="https://rsshub.app/oschina/news/project" rel="self" type="application/rss+xml" />
        <description>
            <![CDATA[開源中國-軟件更新資訊 - Made with love by RSSHub(https://github.com/DIYgod/RSSHub)]]>
        </description>
        <generator>RSSHub</generator>
        <webMaster>i@diygod.me (DIYgod)</webMaster>
        <language>zh-cn</language>
        <lastBuildDate>Sat, 24 Feb 2024 11:05:32 GMT</lastBuildDate>
        <ttl>120</ttl>
        <item>
            <title>
                <![CDATA[【店滴雲】智慧民宿升級智能控制，與訂單關聯]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="text-align:center">【店滴雲】智慧民宿升級智能控制，與訂單關聯</p><p><span style="background-color:#ffffff; color:#40485b">&nbsp; &nbsp; &nbsp; &nbsp;店滴雲，讓經營場所，更智能。圍繞茶室、酒店、健身房、公寓、出租房等經營性場所進行物聯網改造。同時支持多種物聯網通信協議，開放智能門鎖，智能開關，智能手環的 sdk 供開發者使用。</span></p><p><span style="background-color:#ffffff; color:#40485b"><img alt="" height="540" src="https://oscimg.oschina.net/oscnet/up-3c176efbaf0e847c40ea2dca1f5cfc525db.png" width="1024" referrerpolicy="no-referrer"></span></p><p>升級內容：</p><p><span style="background-color:#ffffff; color:#40485b">1、增加套餐服務，用户可以選用套餐獲取權限</span><br><span style="background-color:#ffffff; color:#40485b">2、增加公司使用有效期</span><br><span style="background-color:#ffffff; color:#40485b">3、修復全局 api 地址掃描，智能入庫路由</span><br><span style="background-color:#ffffff; color:#40485b">4、增加多種業務模式的選擇，不同業務模式在小程序端顯示不同界面</span><br><span style="background-color:#ffffff; color:#40485b">5、將微信類業務移動到 common/modules 下，通過配置的方式滿足多終端使用的要求</span><br><span style="background-color:#ffffff; color:#40485b">6、增加服務站羣，可以滿足 saas 用户以站羣的方式運營</span><br><span style="background-color:#ffffff; color:#40485b">7、路由的操作細化，明確目錄類路由必須以*號結尾，來滿足權限模糊匹配查詢</span><br><span style="background-color:#ffffff; color:#40485b">8、增加用户註冊建立關係，可以看到自己發展的下級公司</span><br><span style="background-color:#ffffff; color:#40485b">9、增加幫助手冊，以主題分類的方式讓用户快速使用</span></p></div>
                                    ]]>
            </description>
            <pubDate>Sat, 24 Feb 2024 01:46:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280034</guid>
            <link>https://www.oschina.net/news/280034</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[🎉FolkMQ v1.2 發佈（添加事務消息）]]>
            </title>
            <description>
                <![CDATA[<div class="content"><div><h3>簡介</h3><ul><li>採用 「單線程」 + 「多路複用」 + "內存運行" + "快照持久化" + "Broker 集羣模式"（可選）</li><li>基於<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fsocketd.noear.org%2F" target="_blank">Socket.D 網絡應用協議</a><span>&nbsp;</span>開發。全新設計，自主架構！</li></ul><table cellspacing="0" style="border-collapse:collapse; border-spacing:0px; box-sizing:border-box; display:block; margin-bottom:16px; margin-top:0px; overflow:auto; width:960px"><tbody><tr><th>角色</th><th>功能</th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">生產端</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">發佈消息、定時消息、順序消息、可過期消息、<span style="background-color:#f1c40f">事務消息</span>。發送請求（<span style="background-color:#f1c40f">rpc</span>）。支持 Qos0、Qos1</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">&nbsp;</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">&nbsp;</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">消費端</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">訂閲、取消訂閲。響應請求</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">消費者</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">消費-ACK（自動、手動）</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">&nbsp;</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">&nbsp;</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">服務端</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">發佈-Confirm、訂閲-Confirm、取消訂閲-Confirm、派發-Retry、派發-Delayed</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">服務端</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">單線程、內存運行、快照持久化（自動、停機、手動）、Broker 模式集羣、集羣熱擴展</td></tr></tbody></table><h3>特點</h3><ul><li>高吞吐量、低延遲</li></ul><p>FolkMQ 純內存運行，每秒能處理幾十萬條消息，最低延遲不到 1 毫秒。</p><ul><li>可擴展性</li></ul><p>FolkMQ Broker 集羣支持 folkmq-server 節點熱擴展。流量高時隨時加，流量低時可減</p><ul><li>持久性、可靠性</li></ul><p>消息被快照持久化（類似於 redis）到本地磁盤，並且支持數據備份防止數據丟失</p><ul><li>高可用</li></ul><p>集羣內任何節點壞掉只要還有「一個」同類節點，仍可提供服務</p><ul><li>快（單機版，180K TPS）。</li></ul><p>有點像 Redis 之於 MySql。</p><h3>本次更新</h3><ul><li>添加，協議版本的握手傳遞</li><li>添加，消息事務支持（即二段式提交），支持反向事務確認</li><li>添加，請求響應模式支持（即 rpc 模式）</li><li>添加，消息用户屬性支持</li><li>優化，內存佔用與快照大小</li><li>優化，安全停止延時改為 4 秒</li><li>優化，客户端相關參數校驗</li><li>優化，客户端的心跳間隔為 6 秒</li><li>優化，停止打印信息</li><li>sokcet.d 升為 2.4.3</li></ul><p>新功能示例（事務消息）：</p><pre><code class="language-java"><em>//準備（1.取名字；2.添加響應實現）</em><span style="color:#986801">MqClient</span><span style="color:#986801">client</span><span>=</span> FolkMQ.createClient(<span style="color:#50a14f">"folkmq://127.0.0.1:18602"</span>)
    .nameAs(<span style="color:#50a14f">"demoapp"</span>) <em>//一般用當前應用名（也當默認消息者組用）</em>
    .connect();

<em>//用於響應服務端發起的反向確認</em>
client.response(m-&gt;{
  <span style="color:#a626a4">if</span> (m.isTransaction()) {
      <em>//極端特殊的情況下，客户端未完成事務確認。由服務端發起補嘗確認</em><span style="color:#a626a4">if</span>(<span style="color:#50a14f">"1"</span>.equals(m.getAttr(<span style="color:#50a14f">"orderId"</span>))) {
          <em>//一般這裏，需要查詢數據庫之類的</em>
          m.acknowledge(<span style="color:#0184bb">true</span>);
      }
  }
});
    
<em>//發送事務消息    </em><span style="color:#986801">MqTransaction</span><span style="color:#986801">tran</span><span>=</span> client.newTransaction();

<span style="color:#a626a4">try</span> {
    client.publish(<span style="color:#50a14f">"demo"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"demo1"</span>).attr(<span style="color:#50a14f">"orderId"</span>,<span style="color:#50a14f">"1"</span>).transaction(tran));
    client.publish(<span style="color:#50a14f">"demo"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"demo2"</span>).attr(<span style="color:#50a14f">"orderId"</span>,<span style="color:#50a14f">"1"</span>).transaction(tran));
    client.publish(<span style="color:#50a14f">"demo"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"demo3"</span>).attr(<span style="color:#50a14f">"orderId"</span>,<span style="color:#50a14f">"1"</span>).transaction(tran));
    client.publish(<span style="color:#50a14f">"demo"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"demo4"</span>).attr(<span style="color:#50a14f">"orderId"</span>,<span style="color:#50a14f">"1"</span>).transaction(tran));

    tran.commit();
} <span style="color:#a626a4">catch</span> (Throwable e) {
    tran.rollback();
}
</code></pre><p>新功能示例（請求響應模式）：</p><pre><code class="language-java"><em>//客户端 2</em><span style="color:#986801">MqClient</span><span style="color:#986801">client1</span><span>=</span> FolkMQ.createClient(<span style="color:#50a14f">"folkmq://127.0.0.1:18602"</span>)
    .nameAs(<span style="color:#50a14f">"demo-app1"</span>) 
    .connect();

<em>//要支持 rpc 響應，要添加響應實現（MqResponseRouter 帶了主體路由功能）</em>
client1.response(<span style="color:#a626a4">new</span><span style="color:#c18401">MqResponseRouter</span>().doOn(<span style="color:#50a14f">"test.hello"</span>, m -&gt; {
    m.acknowledge(<span style="color:#0184bb">true</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">StringEntity</span>(m.getSender() +  <span style="color:#50a14f">": me to! rev: "</span> + m.getContent()));
}));

<em>//客户端 2</em><span style="color:#986801">MqClient</span><span style="color:#986801">client2</span><span>=</span> FolkMQ.createClient(<span style="color:#50a14f">"folkmq://127.0.0.1:18602"</span>)
    .nameAs(<span style="color:#50a14f">"demo-app2"</span>)
    .connect();

<em>//發起請求並等響應，同步模式</em><span style="color:#986801">Reply</span><span style="color:#986801">reply</span><span>=</span> client2.request(<span style="color:#50a14f">"demo-app1"</span>, <span style="color:#50a14f">"test.hello"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"hello"</span>)).await();
print(reply.dataAsString());
</code></pre><h3>代碼倉庫</h3><ul><li><a href="https://gitee.com/noear/folkmq">https://gitee.com/noear/folkmq</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnoear%2Ffolkmq" target="_blank">https://github.com/noear/folkmq</a></li></ul><h3>官網</h3><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffolkmq.noear.org%2F" target="_blank">https://folkmq.noear.org</a></li></ul></div></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 09:38:50 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279996/folkmq-1-2-released</guid>
            <link>https://www.oschina.net/news/279996/folkmq-1-2-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[金合技術開發平台 V1.1.3 發佈，版本升級]]>
            </title>
            <description>
                <![CDATA[<div class="content"><div><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#40485b">金合技術開發平台是陝西金合信息科技股份有限公司在內部孵化的技術開發平台，致力於減少項目交付在基礎環境上消耗的工時，換而言之金合的技術開發平台是為項目交付而生，讓項目不需要在底層的功能或環境上再消耗時間。</span><br><span style="background-color:#ffffff; color:#40485b">目前金合技術中台已經支持交付了內外部 40 + 項目，當前版本為首個開源版本，我們迫切的想聽到您的改進意見和功能建議，希望更多的開發者可以參與改進平台，助力更多開發者和企業。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#40485b">預覽圖：更多信息請訪問項目主頁</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img alt="ASSETS-WORKBENCH" src="https://static.oschina.net/uploads/img/202402/01134219_aAHg.png" referrerpolicy="no-referrer"></p><p>&nbsp;</p><pre>future:
<span style="color:#cf8e6d">- </span>Spring Boot<span>版本升級至</span>3.2.2<span>，為使用</span>JdbcCline<span>等新特性做準備。
</span><span style="color:#cf8e6d">- </span>Knife4J<span>版本升級至</span>4.3.0<span>。
</span><span style="color:#cf8e6d">- </span>MybatisPlus<span>版本升級至</span>3.5.5<span>。
</span><span style="color:#cf8e6d">- </span><span>由於功能未完善，暫時關閉審批高級配置。
</span><span style="color:#cf8e6d">- </span><span>由於功能未完善，暫時移除審批詳情中的打印功能。
</span><span style="color:#cf8e6d">- </span><span>應用開發最小可用功能上線，支持簡單數據填報、簡單</span>CRUD<span>業務頁面的無代碼搭建。
- 新版文檔補全更新。
</span>
bugfix:
<span style="color:#cf8e6d">- </span><span>修復編輯審批表單時頁面提示</span>」<span>提交失敗</span>「<span>的缺陷。
</span><span style="color:#cf8e6d">- </span><span>修復消息已讀後未正常顯示的缺陷。
</span><span style="color:#cf8e6d">- </span><span>修復代碼打包時強制執行</span>gpg<span>插件的缺陷，現在</span>gpg<span>插件僅在發佈階段執行。
</span><span style="color:#cf8e6d">- </span><span>修復代碼打包時強制執行</span>javadoc<span>生成插件的缺陷，現在</span>javadoc<span>生成插件僅在發佈階段執行。</span></pre></div><ul><li><strong>企業級產品 / UI 設計，滿足各類業務場景需求。</strong></li><li><strong>經歷我司內部項目生產環境的反覆錘鍊，確保高效穩定運行。</strong></li><li><strong>雙技術架構，單體 / 微服務無縫切換。</strong></li><li><strong>雙業務架構，小型管理系統可使用後台管理模式，大型業務系統可使用 Saas 平台模式。</strong></li><li><strong>全面的通用能力支撐，系統管理、文件服務、日誌審計、任務調度等應有盡有。</strong></li><li><strong>完整實現 「中國式審批」 的各類需求，開箱即用。</strong></li><li><strong>高靈活度的消息中心，隨心配置模板、多渠道（站內 / 微信 / 短信 / 釘釘）觸達。</strong></li><li><strong>深度集成第三方組件 / 平台，包括積木報表、OnlyOffice、KKFile。</strong></li><li><strong>支持多種登錄方式，包括短信驗證碼登錄、微信掃碼登錄、微信小程序登錄等。</strong></li><li><strong>支持多種數據庫，包括 MySQL、Postgresql、Oracle。</strong></li><li><strong>支持多種對象存儲服務，包括 Minio、騰訊 COS、阿里 OSS 等。</strong></li><li><strong>......</strong></li></ul><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">技術路線</p><ul><li><span>&nbsp;</span>JDK 17</li><li><span>&nbsp;</span>Maven 4.0.0</li><li><span>&nbsp;</span>Spring Boot 3.1.7</li><li><span>&nbsp;</span>Spring Cloud 2022.0.4</li><li><span>&nbsp;</span>Spring Cloud Alibaba 2022.0.0.0</li><li><span>&nbsp;</span>Mybatis-Plus 3.5.5</li><li><span>&nbsp;</span>Redis 7.2</li><li><span>&nbsp;</span>MySQL 8.0+/Postgresql 16+/Oracle 11g+12c</li><li><span>&nbsp;</span>Minio/Tencent COS/Ali OSS</li><li><span>&nbsp;</span>RabbitMQ/RocketMQ</li><li><span>&nbsp;</span>Prometheus+Grafana</li></ul></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 08:08:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279974/iking-platform-1-1-3-released</guid>
            <link>https://www.oschina.net/news/279974/iking-platform-1-1-3-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Rust 通用代碼生成器蓮花發佈紅蓮嚐鮮版二十一發布介紹視頻，前端代碼生成物大翻新]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#4d4d4d; margin-left:0; margin-right:0; text-align:start"><strong>&nbsp;Rust 通用代碼生成器蓮花發佈紅蓮嚐鮮版二十一發布介紹視頻，前端代碼生成物大翻新</strong></p><p style="color:#4d4d4d; margin-left:0; margin-right:0; text-align:start">Rust 通用代碼生成器發佈了紅蓮嚐鮮版二十一的最新介紹視頻，前端代碼生成物大翻新。視頻請見：</p><p style="color:#4d4d4d; margin-left:0; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1UH4y1j7td%2F" target="_blank">https://www.bilibili.com/video/BV1UH4y1j7td/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Rust 通用代碼生成器蓮花已發佈紅蓮嚐鮮版二十一，此版本採用了新的前端代碼生成引擎：時空之門前端代碼生成器 6.2.0。此引擎支持 Nodejs 21,Nodejs 18 和 Nodejs 14。消除了 95% 的前端 EsLint 編譯警告，並可以忽略全部編譯警告。消除了所有前端代碼生成物的縮進和其他常見的編程格式問題，達到了美觀規範的工業級代碼標準。此版本修復了動詞否定功能羣和複雜版面和圖形報表聯合使用時的一些缺陷。此版本支持 MariaDB，MySQL，PostgreSQL 和 Oracle 四種數據庫。此版本支持枚舉和 datadummy 模式。請部署在 Tomcat9 的 webapps 目錄下。歡迎使用。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Rust 通用代碼生成器蓮花發佈紅蓮嚐鮮版二十視頻請見：<br><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1GW4y1c7vA%2F" target="_blank">https://www.bilibili.com/video/BV1GW4y1c7vA/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">紅蓮嚐鮮版十九視頻請見：<br><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1bC4y1C7bT%2F" target="_blank">https://www.bilibili.com/video/BV1bC4y1C7bT/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Rust 通用代碼生成器蓮花發佈深度修復版紅蓮嚐鮮版十八介紹視頻，動詞否定功能羣介紹。視頻請見：<br><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1sa4y1d7cz%2F" target="_blank">https://www.bilibili.com/video/BV1sa4y1d7cz/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Rust 通用代碼生成器蓮花發佈深度修復版紅蓮嚐鮮版十八介紹視頻，初學者指南，詳細介紹代碼生成器環境搭建，編譯，運行和使用代碼生成物，歡迎使用。視頻請見：<br><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1364y157Zg%2F" target="_blank">https://www.bilibili.com/video/BV1364y157Zg/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">代碼生成器的項目地址：<a href="https://gitee.com/jerryshensjf/Lotus">https://gitee.com/jerryshensjf/Lotus</a><br> 二進制 war 包的下載地址:<span>&nbsp;</span><a href="https://gitee.com/jerryshensjf/Lotus/attach_files">https://gitee.com/jerryshensjf/Lotus/attach_files</a></p><h1>Rust 通用代碼生成器：蓮花</h1><h3>項目介紹</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Rust 通用代碼生成器：蓮花，是 Java 寫成的 Rust 通用代碼生成器，目前的版本採用 openjdk 17 編譯。軟件為一 war 包，可以部署在 Tomcat 9 的 webapps 目錄下，啓動即可運行。</p><h4>項目圖片</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/RedLotus.jpg" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/pl_3.jpeg" referrerpolicy="no-referrer"></p><h3>軟件架構</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">後端代碼生成物是 rust 1.69 環境。採用 Axum 0.6.20, tokio 1.32.0 , sqlx 0.7.1 數據庫訪問層和 MariaDB, MySQL 8，PostgreSQL 數據庫。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">前端代碼生成物可運行在 Nodejs 21,18 或 14 上。是 Vue ElementUI 架構。</p><h3>重點組件和功能</h3><ul><li>動詞算子</li><li>域對象</li><li>稜柱</li><li>項目</li><li>時空之門前端代碼生成器引擎</li><li>彈性登錄模塊</li><li>Grid 頁生成模塊</li><li>多對多生成模塊</li><li>數據庫腳本生成模塊</li><li>動態椰子樹功能羣</li><li>動詞否定功能羣</li><li>字段否定功能羣</li><li>高級定製功能羣</li><li>部分生成功能羣</li><li>自動生成差異版本功能羣</li><li>上傳生成界面</li><li>模板嚮導生成界面</li><li>自動生成差異版本生成界面</li><li>Excel 數據導出功能</li><li>PDF 數據導出功能</li><li>數據庫後端模式</li><li>數據庫工具模式</li><li>啞數據模式</li></ul><h3>安裝教程</h3><ul><li>先裝好 open jdk 17 和 Apache Tomcat 9，如果您從源碼編譯代碼生成器還需要事先裝好 Apache Maven</li><li>下載編譯好的 Rust 通用代碼生成器蓮花的 war 包，或者下載源碼，解壓後使用 mvn install 命令編譯，得到代碼生成器的 war 包</li><li>把代碼生成器的 war 包的名字改短，成為 Lotus.war，並放置在 Apache Tomcat 9 的 webapps 目錄下</li><li>啓動 Apache Tomcat 9</li><li>訪問<a href="https://gitee.com/link?target=http%3A%2F%2Flocalhost%3A8080%2FLotus%2F">http://localhost:8080/Lotus/</a></li><li>即可使用代碼生成器</li></ul><h3>後端代碼生成物運行</h3><ul><li>使用代碼生成器生成一個示例或自己的 SGS2 模板，得到兩個代碼生成物，一個前端，一個後端</li><li>將後端項目下載並解壓</li><li>根據您的數據庫選項，配置好您後端的數據庫，並使用後端代碼生成物的 sql 文件夾下的數據庫腳本完成建庫建表並加載初始化數據</li><li>您需要檢查後端代碼生成物內的配置文件，確認數據庫和用户名密碼的正確性</li><li>您需要安裝配置好 rust 1.69 或其他兼容版本的 rust 環境</li><li>在後端代碼生成物的根目錄下運行 cargo run 命令啓動 rust 後端項目</li><li>啓動完畢後訪問後端代碼生成物，<a href="https://gitee.com/link?target=http%3A%2F%2Flocalhost%3A8082">http://localhost:8082</a></li></ul><h3>前端代碼生成物運行</h3><ul><li>使用代碼生成器生成一個示例或自己的 SGS2 模板，得到兩個代碼生成物，一個前端，一個後端</li><li>將前端代碼生成物解壓</li><li>確認您已經安裝好和您選擇的 Nodejs 版本相容的前端 Nodejs 環境</li><li>使用 npm install -registry=<a href="https://gitee.com/link?target=https%3A%2F%2Fregistry.npm.taobao.org">https://registry.npm.taobao.org</a><span>&nbsp;</span>安裝 Nodejs 依賴包</li><li>如果您使用的是 Nodejs 21 和 Nodejs18，請運行命令：export NODE_OPTIONS=--openssl-legacy-provider</li><li>運行命令：node --max-http-header-size=1000000 ./node_modules/.bin/webpack-dev-server --inline --progress --config build/webpack.dev.conf.js</li><li>如此訪問前端代碼生成物，<a href="https://gitee.com/link?target=http%3A%2F%2Flocalhost%3A8000%2F">http://localhost:8000/</a></li></ul><h3>運行截圖</h3><h4>軟件截屏</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_excelg.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_wizard.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_compare2.png" referrerpolicy="no-referrer"></p><h4>後端代碼生成物截屏</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">日期時間對話框</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/datetime.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">單表操作</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_grid.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">多對多</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/rust_mtm.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">複雜版面，樹表</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_treegrid.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">圖形報表</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_echarts.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">圖片功能</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_pic.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Excel 數據導出</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_excel_export.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">PDF 數據導出</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_pdf_export.png" referrerpolicy="no-referrer"></p><h4>前端代碼生成物截屏</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Vue 前端日期對話框</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/front_date.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Vue 獨立前端，登錄界面</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_frontend_login.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Vue 獨立前端，內頁</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="輸入圖片説明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_frontend_inner.png" referrerpolicy="no-referrer"></p><h3>百度話題</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">＃通用代碼生成器＃</p><h3>嚐鮮版二十一的二進制發佈包下載</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/jerryshensjf/Lotus/attach_files">https://gitee.com/jerryshensjf/Lotus/attach_files</a></p><h3>Nodejs 前端代碼生成物運行指南</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">蓮花嚐鮮版二十一消除了 95% 的 EsLint 編譯警告。並且，您可以忽略全部編譯警告。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">蓮花嚐鮮版二十支持 Nodejs 21, 18 和 14 三種 Nodejs 環境。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">首先，使用 Rust 通用代碼生成器蓮花的紅蓮嚐鮮版二十生成前端代碼生成物，生成時需選擇 Nodejs 相應版本。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">將代碼生成物的前端和後端代碼生成物的壓縮包拷入工作目錄並完成解壓縮，部署並啓動後端項目。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">進入前端代碼生成物的根目錄，需選擇正確的 Nodejs 版本。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">運行命令：npm install -registry=<a href="https://gitee.com/link?target=https%3A%2F%2Fregistry.npm.taobao.org">https://registry.npm.taobao.org</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">此命令使用淘寶鏡像安裝 Nodejs 依賴包。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">如果您使用的是 Nodejs 21 和 Nodejs18，請運行命令：export NODE_OPTIONS=--openssl-legacy-provider</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">此命令暴露了一個必須的內存變量。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">運行命令：node --max-http-header-size=1000000 ./node_modules/.bin/webpack-dev-server --inline --progress --config build/webpack.dev.conf.js</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">此命令啓動了前端項目。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">訪問：<a href="https://gitee.com/link?target=http%3A%2F%2Flocalhost%3A8000%2F">http://localhost:8000/</a></p><h3>源碼編譯用户指南</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">通用代碼生成器已經支持自己編譯源碼，我已把原來缺的前端代碼生成器的 jar 包上傳。支持大家自行編譯源碼。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">需要注意的是，現在我的開發平台是 Fedora 37 上的 openjdk 17。所以大家編譯源碼最好使用 openjdk17。編譯好的 war 包運行在 apache tomcat 9.0 上。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">已有 jdk8 的用户報告默認下載的代碼生成器 war 包在他的平台上無法運行。您如果遇到類似問題請報告。我的電子郵件是：<a href="https://www.oschina.net/action/GoToLink?url=mailto%3Ajerry_shen_sjf%40qq.com" target="_blank">jerry_shen_sjf@qq.com</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">附 openjdk 17 下載地址：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fjdk.java.net%2Fjava-se-ri%2F17">https://jdk.java.net/java-se-ri/17</a></p><h3>近期視頻</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">&nbsp;Rust 通用代碼生成器蓮花發佈紅蓮嚐鮮版二十一發布介紹視頻，前端代碼生成物大翻新，視頻請見：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1UH4y1j7td%2F">https://www.bilibili.com/video/BV1UH4y1j7td/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Rust 通用代碼生成器蓮花發佈紅蓮嚐鮮版二十介紹視頻，視頻請見：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1GW4y1c7vA%2F">https://www.bilibili.com/video/BV1GW4y1c7vA/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Rust 通用代碼生成器蓮花發佈深度修復版紅蓮嚐鮮版十九介紹視頻，介紹了 PostgreSQL 代碼生成。視頻請見：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1bC4y1C7bT%2F">https://www.bilibili.com/video/BV1bC4y1C7bT/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Rust 通用代碼生成器蓮花發佈深度修復版紅蓮嚐鮮版十八介紹視頻，初學者指南，詳細介紹代碼生成器環境搭建，編譯，運行和使用代碼生成物，歡迎使用。視頻請見：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1364y157Zg%2F">https://www.bilibili.com/video/BV1364y157Zg/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">嚐鮮版十八的視頻請見：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1sa4y1d7cz%2F">https://www.bilibili.com/video/BV1sa4y1d7cz/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">嚐鮮版十七的視頻請見：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1pG411i7Qa%2F">https://www.bilibili.com/video/BV1pG411i7Qa/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1iC4y1j7rd%2F">https://www.bilibili.com/video/BV1iC4y1j7rd/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1rQ4y1t7qJ%2F">https://www.bilibili.com/video/BV1rQ4y1t7qJ/</a></p><h3>版本歷史和視頻</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/jerryshensjf/Lotus/blob/master/History.md">版本歷史和視頻</a></p><h3>源碼研讀者注意事項</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">無垠式代碼生成器第一個完整版本源碼，有興趣可以抄寫一下：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/jerryshensjf/InfinityGPGenerator_0_6_5">https://gitee.com/jerryshensjf/InfinityGPGenerator_0_6_5</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">相關技術視頻：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1fX4y1u7Bn%2F">https://www.bilibili.com/video/BV1fX4y1u7Bn/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1rv41187qY%2F">https://www.bilibili.com/video/BV1rv41187qY/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1xv41187cA%2F">https://www.bilibili.com/video/BV1xv41187cA/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1t64y1v7WA%2F">https://www.bilibili.com/video/BV1t64y1v7WA/</a></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 07:46:26 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279968</guid>
            <link>https://www.oschina.net/news/279968</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[🎉 通用、靈活、高性能分佈式 ID 生成器 | CosId 2.6.6 發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosId Logo" height="206" src="https://oscimg.oschina.net/oscnet/up-63e6250bd72c3e4d2dde12bc154ad9f06d2.png" width="300" referrerpolicy="no-referrer"></p><h1>CosId<span>&nbsp;</span>通用、靈活、高性能分佈式 ID 生成器</h1><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.apache.org%2Flicenses%2FLICENSE-2.0.html"><img alt="License" src="https://img.shields.io/badge/license-Apache%202-4EB1BA.svg" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId%2Freleases"><img alt="GitHub release" src="https://img.shields.io/github/release/Ahoo-Wang/CosId.svg" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fapp.codacy.com%2Fgh%2FAhoo-Wang%2FCosId%3Futm_source%3Dgithub.com%26utm_medium%3Dreferral%26utm_content%3DAhoo-Wang%2FCosId%26utm_campaign%3DBadge_Grade_Settings"><img alt="Codacy Badge" src="https://api.codacy.com/project/badge/Grade/dfd1d6237a1644409548ebfbca300dc1" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fcodecov.io%2Fgh%2FAhoo-Wang%2FCosId"><img alt="codecov" src="https://codecov.io/gh/Ahoo-Wang/CosId/branch/main/graph/badge.svg?token=L0N51NB7ET" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><img alt="Integration Test Status" src="https://github.com/Ahoo-Wang/CosId/actions/workflows/integration-test.yml/badge.svg" referrerpolicy="no-referrer"></p><blockquote><p style="margin-left:0; margin-right:0"><em>官方文檔</em><span>&nbsp;&nbsp;</span><img alt="🎉" height="14" src="https://cn-assets.gitee.com/assets/emoji/tada-be741eadd68f6c33355db4b50a6c141b.png" width="14" referrerpolicy="no-referrer"><span>&nbsp;</span><img alt="👉" height="14" src="https://cn-assets.gitee.com/assets/emoji/point_right-8d392cf32998e3bca12bb7b4ee10dae0.png" width="14" referrerpolicy="no-referrer"><span>&nbsp;</span><a href="https://ahoowang.gitee.io/cosid/" target="_blank">https://ahoowang.gitee.io/cosid/</a><span>&nbsp;</span><img alt="👈" height="14" src="https://cn-assets.gitee.com/assets/emoji/point_left-4570b6929b8880ab2e8b8031007fef18.png" width="14" referrerpolicy="no-referrer"></p></blockquote><h2>更新內容</h2><ul><li>依賴: 升級<span>&nbsp;</span><code>org.springframework.boot:spring-boot-dependencies</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v3.2.3</code></li><li>依賴: 升級<span>&nbsp;</span><code>com.github.spotbugs</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v6.0.7</code></li><li>依賴: 升級<span>&nbsp;</span><code>org.axonframework:axon-bom</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v4.9.3</code></li><li>依賴: 升級<span>&nbsp;</span><code>org.testcontainers:testcontainers-bom</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v1.19.6</code></li><li>依賴: 升級<span>&nbsp;</span><code>flowable</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v7</code></li><li>依賴: 升級<span>&nbsp;</span><code>gradle</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v8.6</code></li><li>依賴: 升級<span>&nbsp;</span><code>junit5</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v5.10.2</code></li></ul><h2>簡介</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId">CosId</a></em><span>&nbsp;</span>旨在提供通用、靈活、高性能的分佈式 ID 生成器。</p><ul><li><code>CosIdGenerator</code><span>&nbsp;</span>:<span>&nbsp;</span><em>單機 TPS 性能：1557W/s</em>，三倍於<span>&nbsp;</span><code>UUID.randomUUID()</code>，基於時鐘的全局趨勢遞增 ID。</li><li><code>SnowflakeId</code><span>&nbsp;</span>:<span>&nbsp;</span><em>單機 TPS 性能：409W/s</em><span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fcosid.ahoo.me%2Fguide%2Fperf-test.html">JMH 基準測試</a><span>&nbsp;</span>, 主要解決<span>&nbsp;</span><em>時鐘回撥問題</em><span>&nbsp;</span>、<em>機器號分配問題</em>、<em>取模分片不均勻問題</em><span>&nbsp;</span>並且提供更加友好、靈活的使用體驗。</li><li><code>SegmentId</code>: 每次獲取一段 (<code>Step</code>) ID，來降低號段分發器的網絡 IO 請求頻次提升性能。 
  <ul><li><code>IdSegmentDistributor</code>: 號段分發器（號段存儲器） 
    <ul><li><code>RedisIdSegmentDistributor</code>: 基於<span>&nbsp;</span><em>Redis</em><span>&nbsp;</span>的號段分發器。</li><li><code>JdbcIdSegmentDistributor</code>: 基於<span>&nbsp;</span><em>Jdbc</em><span>&nbsp;</span>的號段分發器，支持各種關係型數據庫。</li><li><code>ZookeeperIdSegmentDistributor</code>: 基於<span>&nbsp;</span><em>Zookeeper</em><span>&nbsp;</span>的號段分發器。</li><li><code>MongoIdSegmentDistributor</code>: 基於<span>&nbsp;</span><em>MongoDB</em><span>&nbsp;</span>的號段分發器。</li></ul></li></ul></li><li><code>SegmentChainId</code>(<strong>推薦</strong>):<code>SegmentChainId</code><span>&nbsp;</span>(<em>lock-free</em>) 是對<span>&nbsp;</span><code>SegmentId</code><span>&nbsp;</span>的增強。性能可達到近似<span>&nbsp;</span><code>AtomicLong</code><span>&nbsp;</span>的<span>&nbsp;</span><em>TPS 性能：12743W+/s</em><span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fcosid.ahoo.me%2Fguide%2Fperf-test.html">JMH 基準測試</a><span>&nbsp;</span>。 
  <ul><li><code>PrefetchWorker</code><span>&nbsp;</span>維護安全距離 (<code>safeDistance</code>), 並且支持基於飢餓狀態的動態<span>&nbsp;</span><code>safeDistance</code><span>&nbsp;</span>擴容 / 收縮。</li></ul></li></ul><h2><a href="https://ahoowang.gitee.io/cosid/guide/getting-started.html">快速開始</a></h2><h2>背景（為什麼需要<em>分佈式 ID</em>）</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">在軟件系統演進過程中，隨着業務規模的增長 (TPS / 存儲容量)，我們需要通過集羣化部署來分攤計算、存儲壓力。 應用服務的無狀態設計使其具備了伸縮性。在使用<span>&nbsp;</span><strong>Kubernetes</strong><span>&nbsp;</span>部署時我們只需要一行命令即可完成服務伸縮 (<code>kubectl scale --replicas=5 deployment/order-service</code>)。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">但對於有狀態的數據庫就不那麼容易了，此時數據庫變成系統的性能瓶頸是顯而易見的。</p><h3>分庫分表</h3><blockquote><p style="margin-left:0; margin-right:0">從微服務的角度來理解垂直拆分其實就是微服務拆分。以限界上下文來定義服務邊界將大服務 / 單體應用拆分成多個自治的粒度更小的服務，因為自治性規範要求，數據庫也需要進行業務拆分。 但垂直拆分後的單個微服務依然會面臨 TPS / 存儲容量，的挑戰，所以這裏我們重點討論水平拆分的方式。</p></blockquote><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="分庫分表" src="https://oscimg.oschina.net/oscnet/up-bf3f59559837c87fe828f12113f2ec6269c.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">數據庫分庫分表方案是邏輯統一，物理分區自治的方案。其核心設計在於中間層映射方案的設計 (上圖<span>&nbsp;</span><strong>Mapping</strong>)，即分片算法的設計。 幾乎所有編程語言都內置實現了散列表 (java:<code>HashMap</code>/csharp:<code>Dictionary</code>/python:<code>dict</code>/go:<code>map</code><span>&nbsp;</span>...)。分片算法跟散列表高度相似 (<code>hashCode</code>)，都得通過<span>&nbsp;</span><code>key</code>/<code>shardingValue</code><span>&nbsp;</span>映射到對應的槽位 (<code>slot</code>)。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">那麼<span>&nbsp;</span><code>shardingValue</code><span>&nbsp;</span>從哪裏來呢？<strong>CosId</strong>！！</p><blockquote><p style="margin-left:0; margin-right:0">當然還有很多分佈式場景需要<em>分佈式 ID</em>，這裏不再一一列舉。</p></blockquote><h2>分佈式 ID 方案的核心指標</h2><ul><li><strong>全局（相同業務）唯一性</strong>：唯一性保證是<span>&nbsp;</span><strong>ID</strong><span>&nbsp;</span>的必要條件，假設 ID 不唯一就會產生主鍵衝突，這點很容易可以理解。 
  <ul><li>通常所説的全局唯一性並不是指所有業務服務都要唯一，而是相同業務服務不同部署副本唯一。 比如 Order 服務的多個部署副本在生成<span>&nbsp;</span><code>t_order</code><span>&nbsp;</span>這張表的<span>&nbsp;</span><code>Id</code><span>&nbsp;</span>時是要求全局唯一的。至於<span>&nbsp;</span><code>t_order_item</code><span>&nbsp;</span>生成的<span>&nbsp;</span><code>ID</code><span>&nbsp;</span>與<span>&nbsp;</span><code>t_order</code><span>&nbsp;</span>是否唯一，並不影響唯一性約束，也不會產生什麼副作用。 不同業務模塊間也是同理。即唯一性主要解決的是 ID 衝突問題。</li></ul></li><li><strong>有序性</strong>：有序性保證是面向查詢的數據結構算法（除了 Hash 算法）所必須的，是<strong>二分查找法</strong><span>&nbsp;</span>(分而治之) 的前提。 
  <ul><li>MySq-InnoDB B + 樹是使用最為廣泛的，假設 Id 是無序的，B+ 樹，為了維護 ID 的有序性，就會頻繁的在索引的中間位置插入而挪動後面節點的位置，甚至導致頻繁的頁分裂，這對於性能的影響是極大的。那麼如果我們能夠保證 ID 的有序性這種情況就完全不同了，只需要進行追加寫操作。所以 ID 的有序性是非常重要的，也是 ID 設計不可避免的特性。</li></ul></li><li><strong>吞吐量 / 性能 (ops/time)</strong>：即單位時間（每秒）能產生的 ID 數量。生成 ID 是非常高頻的操作，也是最為基本的。假設 ID 生成的性能緩慢，那麼不管怎麼進行系統優化也無法獲得更好的性能。 
  <ul><li>一般我們會首先生成 ID，然後再執行寫入操作，假設 ID 生成緩慢，那麼整體性能上限就會受到限制，這一點應該不難理解。</li></ul></li><li><strong>穩定性 (time/op)</strong>：穩定性指標一般可以採用<strong>每個操作的時間進行百分位採樣</strong>來分析，比如<span>&nbsp;</span><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId">CosId</a></em><span>&nbsp;</span>百分位採樣<span>&nbsp;</span><strong>P9999=0.208 us/op</strong>，即<span>&nbsp;</span><strong>0% ~ 99.99%</strong><span>&nbsp;</span>的單位操作時間小於等於<span>&nbsp;</span><strong>0.208 us/op</strong>。 
  <ul><li><a href="https://gitee.com/link?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E7%2599%25BE%25E5%2588%2586%25E4%25BD%258D%25E6%2595%25B0">百分位數 WIKI</a><span>&nbsp;</span>：統計學術語，若將一組數據從小到大排序，並計算相應的累計百分點，則某百分點所對應數據的值，就稱為這百分點的百分位數，以 Pk 表示第 k 百分位數。百分位數是用來比較個體在羣體中的相對地位量數。</li><li>為什麼不用平均<em>每個操作的時間</em>：馬老師的身價跟你的身價能平均麼？平均後的值有意義不？</li><li>可以使用最小<em>每個操作的時間</em>、最大<em>每個操作的時間</em>作為參考嗎？因為最小、最大值只説明瞭零界點的情況，雖説可以作為穩定性的參考，但依然不夠全面。而且<em>百分位數</em>已經覆蓋了這倆個指標。</li></ul></li><li><strong>自治性（依賴）</strong>：主要是指對外部環境有無依賴，比如<strong>號段模式</strong>會強依賴第三方存儲中間件來獲取<span>&nbsp;</span><code>NexMaxId</code>。自治性還會對可用性造成影響。</li><li><strong>可用性</strong>：分佈式 ID 的可用性主要會受到自治性影響，比如<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>會受到時鐘回撥影響，導致處於短暫時間的不可用狀態。而<strong>號段模式</strong>會受到第三方發號器（<code>NexMaxId</code>）的可用性影響。 
  <ul><li><a href="https://gitee.com/link?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E5%258F%25AF%25E7%2594%25A8%25E6%2580%25A7">可用性 WIKI</a><span>&nbsp;</span>：在一個給定的時間間隔內，對於一個功能個體來講，總的可用時間所佔的比例。</li><li>MTBF：平均故障間隔</li><li>MDT：平均修復 / 恢復時間</li><li>Availability=MTBF/(MTBF+MDT)</li><li>假設 MTBF 為 1 年，MDT 為 1 小時，即<span>&nbsp;</span><code>Availability=(365*24)/(365*24+1)=0.999885857778792≈99.99%</code>，也就是我們通常所説對可用性 4 個 9。</li></ul></li><li><strong>適應性</strong>：是指在面對外部環境變化的自適應能力，這裏我們主要説的是面對流量突發時動態伸縮分佈式 ID 的性能， 
  <ul><li><strong>SegmentChainId</strong><span>&nbsp;</span>可以基於<strong>飢餓狀態</strong>進行<strong>安全距離</strong>的動態伸縮。</li><li><strong>SnowflakeId</strong><span>&nbsp;</span>常規位分配方案性能恆定 409.6W，雖然可以通過調整位分配方案來獲得不同的 TPS 性能，但是位分配方法的變更是破壞性的，一般根據業務場景確定位分配方案後不再變更。</li></ul></li><li><strong>存儲空間</strong>：還是用 MySq-InnoDB B + 樹來舉例，普通索引（二級索引）會存儲主鍵值，主鍵越大佔用的內存緩存、磁盤空間也會越大。Page 頁存儲的數據越少，磁盤 IO 訪問的次數會增加。總之在滿足業務需求的情況下，儘可能小的存儲空間佔用在絕大多數場景下都是好的設計原則。</li></ul><h3>不同分佈式 ID 方案核心指標對比</h3><table cellspacing="0" style="--darkreader-inline-bgcolor:#181a1b; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-top:currentcolor; --darkreader-inline-color:#b7b1a7; -webkit-text-stroke-width:0px; background-color:#ffffff; border-collapse:collapse; border-spacing:0px; border:medium none; box-sizing:border-box; color:#40485b; display:block; font-family:-apple-system,&quot;system-ui&quot;,&quot;Segoe UI&quot;,Helvetica,Arial,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Liberation Sans&quot;,&quot;PingFang SC&quot;,&quot;Microsoft YaHei&quot;,&quot;Hiragino Sans GB&quot;,&quot;Wenquanyi Micro Hei&quot;,&quot;WenQuanYi Zen Hei&quot;,&quot;ST Heiti&quot;,SimHei,SimSun,&quot;WenQuanYi Zen Hei Sharp&quot;,sans-serif; font-size:16px; font-style:normal; font-variant-caps:normal; font-variant-ligatures:normal; font-weight:400; letter-spacing:normal; line-height:inherit; margin:0px 0px 16px; max-width:100%; orphans:2; overflow:auto; text-align:left; text-decoration-color:initial; text-decoration-style:initial; text-decoration-thickness:initial; text-transform:none; white-space:normal; widows:2; word-break:initial; word-spacing:0px"><tbody><tr><th>分佈式 ID</th><th>全局唯一性</th><th>有序性</th><th>吞吐量</th><th>穩定性（1s=1000,000us）</th><th>自治性</th><th>可用性</th><th>適應性</th><th>存儲空間</th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">UUID/GUID</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">完全無序</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">3078638(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=0.325(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">完全自治</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">100%</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">否</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">128-bit</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">SnowflakeId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">本地單調遞增，全局趨勢遞增 (受全局時鐘影響)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">4096000(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=0.244(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">依賴時鐘</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">時鐘回撥會導致短暫不可用</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">否</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">64-bit</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">SegmentId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">本地單調遞增，全局趨勢遞增 (受 Step 影響)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">29506073(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=46.624(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">依賴第三方號段分發器</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">受號段分發器可用性影響</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">否</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">64-bit</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">SegmentChainId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">本地單調遞增，全局趨勢遞增 (受 Step、安全距離影響)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">127439148(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=0.208(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">依賴第三方號段分發器</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">受號段分發器可用性影響，但因安全距離存在，預留 ID 段，所以高於 SegmentId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">64-bit</td></tr></tbody></table><h3>有序性 (要想分而治之・二分查找法，必須要維護我)</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">剛剛我們已經討論了 ID 有序性的重要性，所以我們設計 ID 算法時應該儘可能地讓 ID 是單調遞增的，比如像表的自增主鍵那樣。但是很遺憾，因全局時鐘、性能等分佈式系統問題，我們通常只能選擇局部單調遞增、全局趨勢遞增的組合（就像我們在分佈式系統中不得不的選擇最終一致性那樣）以獲得多方面的權衡。下面我們來看一下什麼是單調遞增與趨勢遞增。</p><h4>有序性之單調遞增</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="單調遞增" src="https://oscimg.oschina.net/oscnet/up-8ba6ce51f3f87c5ad8768ebf6ef32e854d9.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">單調遞增：T 表示全局絕對時點，假設有 Tn+1&gt;Tn（絕對時間總是往前進的，這裏不考慮相對論、時間機器等），那麼必然有 F (Tn+1)&gt;F (Tn)，數據庫自增主鍵就屬於這一類。 另外需要特別説明的是單調遞增跟連續性遞增是不同的概念。 連續性遞增：<code>F(n+1)=(F(n)+step)</code><span>&nbsp;</span>即下一次獲取的 ID 一定等於當前<span>&nbsp;</span><code>ID+Step</code>，當<span>&nbsp;</span><code>Step=1</code><span>&nbsp;</span>時類似於這樣一個序列:<code>1-&gt;2-&gt;3-&gt;4-&gt;5</code>。</p><blockquote><p style="margin-left:0; margin-right:0">擴展小知識：數據庫的自增主鍵也不是連續性遞增的，相信你一定遇到過這種情況，請思考一下數據庫為什麼這樣設計？</p></blockquote><h4>有序性之趨勢遞增</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="趨勢遞增" src="https://oscimg.oschina.net/oscnet/up-c1c18e3548c373db0f634c1d0183739b41b.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">趨勢遞增：Tn&gt;Tn-s，那麼大概率有 F (Tn)&gt;F (Tn-s)。雖然在一段時間間隔內有亂序，但是整體趨勢是遞增。從上圖上看，是有上升趨勢的（趨勢線）。</p><ul><li>在<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>中 n-s 受到全局時鐘同步影響。</li><li>在號段模式 (<strong>SegmentId</strong>) 中 n-s 受到號段可用區間 (<code>Step</code>) 影響。</li></ul><h2>分佈式 ID 分配方案</h2><h3>UUID/GUID</h3><ul><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer">不依賴任何第三方中間件</li><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer">性能高</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">完全無序</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">空間佔用大，需要佔用 128 位存儲空間。</li></ul><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">UUID 最大的缺陷是隨機的、無序的，當用於主鍵時會導致數據庫的主鍵索引效率低下（為了維護索引樹，頻繁的索引中間位置插入數據，而不是追加寫）。這也是 UUID 不適用於數據庫主鍵的最為重要的原因。</p><h3>SnowflakeId</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Snowflake 雪花算法" src="https://oscimg.oschina.net/oscnet/up-8d58346c8e62fdd525df8ed4bc1b1458710.png" referrerpolicy="no-referrer"></p><blockquote><p style="margin-left:0; margin-right:0"><em>SnowflakeId</em><span>&nbsp;</span>使用<span>&nbsp;</span><code>Long</code>（64-bit）位分區來生成 ID 的一種分佈式 ID 算法。 通用的位分配方案為：<code>timestamp</code>(41-bit)+<code>machineId</code>(10-bit)+<code>sequence</code>(12-bit)=63-bit。</p></blockquote><ul><li>41-bit<code>timestamp</code>=(1L&lt;&lt;41)/(1000/3600/365)，約可以存儲 69 年的時間戳，即可以使用的絕對時間為<span>&nbsp;</span><code>EPOCH</code>+69 年，一般我們需要自定義<span>&nbsp;</span><code>EPOCH</code><span>&nbsp;</span>為產品開發時間，另外還可以通過壓縮其他區域的分配位數，來增加時間戳位數來延長可用時間。</li><li>10-bit<code>machineId</code>=(1L&lt;&lt;10)=1024，即相同業務可以部署 1024 個副本 (在 Kubernetes 概念裏沒有主從副本之分，這裏直接沿用 Kubernetes 的定義)。一般情況下沒有必要使用這麼多位，所以會根據部署規模需要重新定義。</li><li>12-bit<code>sequence</code>=(1L&lt;&lt;12)*1000=4096000，即單機每秒可生成約 409W 的 ID，全局同業務集羣可產生<span>&nbsp;</span><code>4096000*1024=419430W=41.9 億 (TPS)</code>。</li></ul><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">從<span>&nbsp;</span><em>SnowflakeId</em><span>&nbsp;</span>設計上可以看出:</p><ul><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer"><code>timestamp</code><span>&nbsp;</span>在高位，單實例<span>&nbsp;</span><em>SnowflakeId</em><span>&nbsp;</span>是會保證時鐘總是向前的（校驗本機時鐘回撥），所以是本機單調遞增的。受全局時鐘同步 / 時鐘回撥影響<span>&nbsp;</span><em>SnowflakeId</em><span>&nbsp;</span>是全局趨勢遞增的。</li><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer"><em>SnowflakeId</em><span>&nbsp;</span>不對任何第三方中間件有強依賴關係，並且性能也非常高。</li><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer">位分配方案可以按照業務系統需要靈活配置，來達到最優使用效果。</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">強依賴本機時鐘，潛在的時鐘回撥問題會導致 ID 重複、處於短暫的不可用狀態。</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer"><code>machineId</code><span>&nbsp;</span>需要手動設置，實際部署時如果採用手動分配<span>&nbsp;</span><code>machineId</code>，會非常低效。</li></ul><h4>SnowflakeId 之機器號分配問題</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">在<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>中根據業務設計的位分配方案確定了基本上就不再有變更了，也很少需要維護。但是<span>&nbsp;</span><code>machineId</code><span>&nbsp;</span>總是需要配置的，而且集羣中是不能重複的，否則分區原則就會被破壞而導致 ID 唯一性原則破壞，當集羣規模較大時<span>&nbsp;</span><code>machineId</code><span>&nbsp;</span>的維護工作是非常繁瑣，低效的。</p><blockquote><p style="margin-left:0; margin-right:0">有一點需要特別説明的，<strong>SnowflakeId</strong><span>&nbsp;</span>的<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>是邏輯上的概念，而不是物理概念。 想象一下假設<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>是物理上的，那麼意味着一台機器擁有隻能擁有一個<span>&nbsp;</span><strong>MachineId</strong>，那會產生什麼問題呢？</p></blockquote><blockquote><p style="margin-left:0; margin-right:0">目前<span>&nbsp;</span><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId">CosId</a></em><span>&nbsp;</span>提供了以下五種<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>分配器。</p></blockquote><ul><li>ManualMachineIdDistributor: 手動配置<span>&nbsp;</span><code>machineId</code>，一般只有在集羣規模非常小的時候才有可能使用，不推薦。</li><li>StatefulSetMachineIdDistributor: 使用<span>&nbsp;</span><code>Kubernetes</code><span>&nbsp;</span>的<span>&nbsp;</span><code>StatefulSet</code><span>&nbsp;</span>提供的穩定的標識 ID（HOSTNAME=service-01）作為機器號。</li><li>RedisMachineIdDistributor: 使用<span>&nbsp;</span><strong>Redis</strong><span>&nbsp;</span>作為機器號的分發存儲，同時還會存儲<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>的上一次時間戳，用於<strong>啓動時時鐘回撥</strong>的檢查。</li><li>JdbcMachineIdDistributor: 使用<strong>關係型數據庫</strong>作為機器號的分發存儲，同時還會存儲<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>的上一次時間戳，用於<strong>啓動時時鐘回撥</strong>的檢查。</li><li>ZookeeperMachineIdDistributor: 使用<span>&nbsp;</span><strong>ZooKeeper</strong><span>&nbsp;</span>作為機器號的分發存儲，同時還會存儲<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>的上一次時間戳，用於<strong>啓動時時鐘回撥</strong>的檢查。</li></ul><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Redis MachineId Distributor" src="https://oscimg.oschina.net/oscnet/up-e5966f62f7f64aff097899743596a6ca385.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Machine Id Safe Guard" src="https://oscimg.oschina.net/oscnet/up-ce3a0238995e354fa22e1d7fcdb5f0e13c1.png" referrerpolicy="no-referrer"></p><h4>SnowflakeId 之時鐘回撥問題</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">時鐘回撥的致命問題是會導致 ID 重複、衝突（這一點不難理解），ID 重複顯然是不能被容忍的。 在<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>算法中，按照<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>分區 ID，我們不難理解的是不同<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>是不可能產生相同 ID 的。所以我們解決的時鐘回撥問題是指當前<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>的時鐘回撥問題，而不是所有集羣節點的時鐘回撥問題。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><strong>MachineId</strong><span>&nbsp;</span>時鐘回撥問題大體可以分為倆種情況：</p><ul><li>運行時時鐘回撥：即在運行時獲取的當前時間戳比上一次獲取的時間戳小。這個場景的時鐘回撥是很容易處理的，一般<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>代碼實現時都會存儲<span>&nbsp;</span><code>lastTimestamp</code><span>&nbsp;</span>用於運行時時鐘回撥的檢查，並拋出時鐘回撥異常。 
  <ul><li>時鐘回撥時直接拋出異常是不太好地實踐，因為下游使用方几乎沒有其他處理方案（噢，我還能怎麼辦呢，等吧），時鐘同步是唯一的選擇，當只有一種選擇時就不要再讓用户選擇了。</li><li><code>ClockSyncSnowflakeId</code><span>&nbsp;</span>是<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>的包裝器，當發生時鐘回撥時會使用<span>&nbsp;</span><code>ClockBackwardsSynchronizer</code><span>&nbsp;</span>主動等待時鐘同步來重新生成 ID，提供更加友好的使用體驗。</li></ul></li><li>啓動時時鐘回撥：即在啓動服務實例時獲取的當前時鐘比上次關閉服務時小。此時的<span>&nbsp;</span><code>lastTimestamp</code><span>&nbsp;</span>是無法存儲在進程內存中的。當獲取的外部存儲的<strong>機器狀態</strong>大於當前時鐘時鐘時，會使用<span>&nbsp;</span><code>ClockBackwardsSynchronizer</code><span>&nbsp;</span>主動同步時鐘。 
  <ul><li>LocalMachineStateStorage：使用本地文件存儲<span>&nbsp;</span><code>MachineState</code>(機器號、最近一次時間戳)。因為使用的是本地文件所以只有當實例的部署環境是穩定的，<code>LocalMachineStateStorage</code><span>&nbsp;</span>才適用。</li><li>RedisMachineIdDistributor：將<span>&nbsp;</span><code>MachineState</code><span>&nbsp;</span>存儲在<span>&nbsp;</span><strong>Redis</strong><span>&nbsp;</span>分佈式緩存中，這樣可以保證總是可以獲取到上次服務實例停機時<strong>機器狀態</strong>。</li></ul></li></ul><h4>SnowflakeId 之 JavaScript 數值溢出問題</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><code>JavaScript</code><span>&nbsp;</span>的<span>&nbsp;</span><code>Number.MAX_SAFE_INTEGER</code><span>&nbsp;</span>只有 53-bit，如果直接將 63 位的<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>返回給前端，那麼會產生值溢出的情況（所以這裏我們應該知道後端傳給前端的<span>&nbsp;</span><code>long</code><span>&nbsp;</span>值溢出問題，<strong>遲早</strong>會出現，只不過 SnowflakeId 出現得更快而已）。 很顯然溢出是不能被接受的，一般可以使用以下倆種處理方案：</p><ul><li>將生成的 63-bit<code>SnowflakeId</code><span>&nbsp;</span>轉換為<span>&nbsp;</span><code>String</code><span>&nbsp;</span>類型。 
  <ul><li>直接將<span>&nbsp;</span><code>long</code><span>&nbsp;</span>轉換成<span>&nbsp;</span><code>String</code>。</li><li>使用<span>&nbsp;</span><code>SnowflakeFriendlyId</code><span>&nbsp;</span>將<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>轉換成比較友好的字符串表示：<code>{timestamp}-{machineId}-{sequence} -&gt; 20210623131730192-1-0</code></li></ul></li><li>自定義<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>位分配來縮短<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>的位數（53-bit）使<span>&nbsp;</span><code>ID</code><span>&nbsp;</span>提供給前端時不溢出 
  <ul><li>使用<span>&nbsp;</span><code>SafeJavaScriptSnowflakeId</code>(<code>JavaScript</code><span>&nbsp;</span>安全的<span>&nbsp;</span><code>SnowflakeId</code>)</li></ul></li></ul><h2>號段模式（SegmentId）</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Segment Id" src="https://oscimg.oschina.net/oscnet/up-d91b5939ccc673f26ccdcfbbd9e6aa68535.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">從上面的設計圖中，不難看出<strong>號段模式</strong>基本設計思路是通過每次獲取一定長度（Step）的可用 ID（Id 段 / 號段），來降低網絡 IO 請求次數，提升性能。</p><ul><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">強依賴第三方號段分發器，可用性受到第三方分發器影響。</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">每次號段用完時獲取<span>&nbsp;</span><code>NextMaxId</code><span>&nbsp;</span>需要進行網絡 IO 請求，此時的性能會比較低。</li><li>單實例 ID 單調遞增，全局趨勢遞增。 
  <ul><li>從設計圖中不難看出<span>&nbsp;</span><strong>Instance 1</strong><span>&nbsp;</span>每次獲取的<span>&nbsp;</span><code>NextMaxId</code>，一定比上一次大，意味着下一次的號段一定比上一次大，所以從單實例上來看是單調遞增的。</li><li>多實例各自持有的不同的號段，意味着同一時刻不同實例生成的 ID 是亂序的，但是整體趨勢的遞增的，所以全局趨勢遞增。</li></ul></li><li>ID 亂序程度受到 Step 長度以及集羣規模影響（從趨勢遞增圖中不難看出）。 
  <ul><li>假設集羣中只有一個實例時<strong>號段模式</strong>就是單調遞增的。</li><li><code>Step</code><span>&nbsp;</span>越小，亂序程度越小。當<span>&nbsp;</span><code>Step=1</code><span>&nbsp;</span>時，將無限接近單調遞增。需要注意的是這裏是無限接近而非等於單調遞增，具體原因你可以思考一下這樣一個場景： 
    <ul><li>號段分發器 T1 時刻給<span>&nbsp;</span><strong>Instance 1</strong><span>&nbsp;</span>分發了<span>&nbsp;</span><code>ID=1</code>,T2 時刻給<span>&nbsp;</span><strong>Instance 2</strong><span>&nbsp;</span>分發了<span>&nbsp;</span><code>ID=2</code>。因為機器性能、網絡等原因，<code>Instance 2</code><span>&nbsp;</span>網絡 IO 寫請求先於<span>&nbsp;</span><code>Instance 1</code><span>&nbsp;</span>到達。那麼這個時候對於數據庫來説，ID 依然是亂序的。</li></ul></li></ul></li></ul><h2>號段鏈模式（SegmentChainId）</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fcosid.ahoo.me%2Fguide%2Fsegment-chain.html">分佈式 ID (CosId) 之號段鏈模式性能 (1.2 億 /s) 解析</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Segment Chain Id" src="https://oscimg.oschina.net/oscnet/up-d96e7c4f91786832c1345a7228a7c012177.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><strong>SegmentChainId</strong><span>&nbsp;</span>是<span>&nbsp;</span><strong>SegmentId</strong><span>&nbsp;</span>增強版，相比於<span>&nbsp;</span><strong>SegmentId</strong><span>&nbsp;</span>有以下優勢：</p><ul><li>穩定性：<strong>SegmentId</strong><span>&nbsp;</span>的穩定性問題（P9999=46.624 (us/op)）主要是因為號段用完之後同步進行<span>&nbsp;</span><code>NextMaxId</code><span>&nbsp;</span>的獲取導致的（會產生網絡 IO）。 
  <ul><li><strong>SegmentChainId</strong><span>&nbsp;</span>（P9999=0.208 (us/op)）引入了新的角色<span>&nbsp;</span><strong>PrefetchWorker</strong><span>&nbsp;</span>用以維護和保證<strong>安全距離</strong>，理想情況下使得獲取 ID 的線程幾乎完全不需要進行同步的等待<span>&nbsp;</span><code>NextMaxId</code><span>&nbsp;</span>獲取，性能可達到近似<span>&nbsp;</span><code>AtomicLong</code><span>&nbsp;</span>的<span>&nbsp;</span><em>TPS 性能：12743W+/s</em><span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId%2Fblob%2Fmain%2FREADME.zh-CN.md%23jmh-benchmark">JMH 基準測試</a><span>&nbsp;</span>。</li></ul></li><li>適應性：從<span>&nbsp;</span><strong>SegmentId</strong><span>&nbsp;</span>介紹中我們知道了影響<span>&nbsp;</span><strong>ID 亂序</strong>的因素有倆個：集羣規模、<code>Step</code><span>&nbsp;</span>大小。集羣規模是我們不能控制的，但是<span>&nbsp;</span><code>Step</code><span>&nbsp;</span>是可以調節的。 
  <ul><li><code>Step</code><span>&nbsp;</span>應該近可能小才能使得<span>&nbsp;</span><strong>ID 單調遞增</strong>的可能性增大。</li><li><code>Step</code><span>&nbsp;</span>太小會影響吞吐量，那麼我們如何合理設置<span>&nbsp;</span><code>Step</code><span>&nbsp;</span>呢？答案是我們無法準確預估所有時點的吞吐量需求，那麼最好的辦法是吞吐量需求高時，Step 自動增大，吞吐量低時 Step 自動收縮。</li><li><strong>SegmentChainId</strong><span>&nbsp;</span>引入了<strong>飢餓狀態</strong>的概念，<strong>PrefetchWorker</strong><span>&nbsp;</span>會根據<strong>飢餓狀態</strong>檢測當前<strong>安全距離</strong>是否需要膨脹或者收縮，以便獲得吞吐量與有序性之間的權衡，這便是<span>&nbsp;</span><strong>SegmentChainId</strong><span>&nbsp;</span>的自適應性。</li></ul></li></ul><h2>集成</h2><h3>CosIdPlugin（MyBatis 插件）</h3><blockquote><p style="margin-left:0; margin-right:0">Kotlin DSL</p></blockquote><div><div><pre><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">implementation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span style="color:#eeeeee">(</span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">"me.ahoo.cosid:cosid-mybatis:${cosidVersion}"</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#eeeeee">)</span></span></pre></div></div><div><div><pre><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49">class</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><strong><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1">Order</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>{</span></span><span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">@CosId</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">(</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">value</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">=</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span>"order"</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">private</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>orderId</span><span>;</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">private</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>userId</span><span>;</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>getOrderId</strong><span>()</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">return</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>orderId</span><span>;</span></span><span><span>}</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>void</strong><strong>setOrderId</strong><span>(</span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>orderId</span><span>)</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">this</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>.</span><span style="color:#008080">orderId</span><span>=</span><span>orderId</span><span>;</span></span><span><span>}</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>getUserId</strong><span>()</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">return</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>userId</span><span>;</span></span><span><span>}</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>void</strong><strong>setUserId</strong><span>(</span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>userId</span><span>)</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">this</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>.</span><span style="color:#008080">userId</span><span>=</span><span>userId</span><span>;</span></span><span><span>}</span></span><span><span>}</span></span></pre></div></div><h3>ShardingSphere 插件</h3><blockquote><p style="margin-left:0; margin-right:0"><code>CosIdKeyGenerateAlgorithm</code>、<code>CosIdModShardingAlgorithm</code>、<code>CosIdIntervalShardingAlgorithm</code><span>&nbsp;</span>已合併至<span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fapache%2Fshardingsphere%2Fpull%2F14132">ShardingSphere</a><span>&nbsp;</span>官方，未來<span>&nbsp;</span><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId%2Ftree%2Fmain%2Fcosid-shardingsphere">cosid-shardingsphere</a></em><span>&nbsp;</span>模塊的維護可能會以官方為主。</p></blockquote><blockquote><p style="margin-left:0; margin-right:0">Kotlin DSL</p></blockquote><div><div><pre><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">implementation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span style="color:#eeeeee">(</span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">"me.ahoo.cosid:cosid-shardingsphere:${cosidVersion}"</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#eeeeee">)</span></span></pre></div></div><h4>CosIdKeyGenerateAlgorithm (分佈式主鍵)</h4><div><div><pre><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">spring</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">shardingsphere</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">rules</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">sharding</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">key-generators</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">cosid</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">type</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span><span style="background-color:transparent; color:#00aadd">COSID</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">props</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">id-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span><span style="background-color:transparent; color:#00aadd">__share__</span></span></pre></div></div><h4>基於間隔的時間範圍分片算法</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosId Interval Sharding Algorithm" src="https://oscimg.oschina.net/oscnet/up-8afd1ee134d5b3cb656d984b86c3c26a2b9.png" referrerpolicy="no-referrer"></p><ul><li>易用性：支持多種數據類型 (<code>Long</code>/<code>LocalDateTime</code>/<code>DATE</code>/<span>&nbsp;</span><code>String</code><span>&nbsp;</span>/<span>&nbsp;</span><code>SnowflakeId</code>)，而官方實現是先轉換成字符串再轉換成<span>&nbsp;</span><code>LocalDateTime</code>，轉換成功率受時間格式化字符影響。</li><li>性能：相比於<span>&nbsp;</span><code>org.apache.shardingsphere.sharding.algorithm.sharding.datetime.IntervalShardingAlgorithm</code><span>&nbsp;</span>性能高出<span>&nbsp;</span><em>1200~4000</em><span>&nbsp;</span>倍。</li></ul><table cellspacing="0" style="--darkreader-inline-bgcolor:#181a1b; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-top:currentcolor; --darkreader-inline-color:#b7b1a7; -webkit-text-stroke-width:0px; background-color:#ffffff; border-collapse:collapse; border-spacing:0px; border:medium none; box-sizing:border-box; color:#40485b; display:block; font-family:-apple-system,&quot;system-ui&quot;,&quot;Segoe UI&quot;,Helvetica,Arial,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Liberation Sans&quot;,&quot;PingFang SC&quot;,&quot;Microsoft YaHei&quot;,&quot;Hiragino Sans GB&quot;,&quot;Wenquanyi Micro Hei&quot;,&quot;WenQuanYi Zen Hei&quot;,&quot;ST Heiti&quot;,SimHei,SimSun,&quot;WenQuanYi Zen Hei Sharp&quot;,sans-serif; font-size:16px; font-style:normal; font-variant-caps:normal; font-variant-ligatures:normal; font-weight:400; letter-spacing:normal; line-height:inherit; margin:0px 0px 16px; max-width:100%; orphans:2; overflow:auto; text-align:left; text-decoration-color:initial; text-decoration-style:initial; text-decoration-thickness:initial; text-transform:none; white-space:normal; widows:2; word-break:initial; word-spacing:0px"><tbody><tr><th><strong>PreciseShardingValue</strong></th><th><strong>RangeShardingValue</strong></th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of IntervalShardingAlgorithm - PreciseShardingValue" src="https://oscimg.oschina.net/oscnet/up-2a88161c2346bded68be5270064dcfc8246.png" referrerpolicy="no-referrer"></td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of IntervalShardingAlgorithm - RangeShardingValue" src="https://oscimg.oschina.net/oscnet/up-f31899cf725fa89975be9af664f80617d20.png" referrerpolicy="no-referrer"></td></tr></tbody></table><ul><li>CosIdIntervalShardingAlgorithm 
  <ul><li>type: COSID_INTERVAL</li></ul></li><li>SnowflakeIntervalShardingAlgorithm 
  <ul><li>type: COSID_INTERVAL_SNOWFLAKE</li></ul></li></ul><div><div><pre><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">spring</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">shardingsphere</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">rules</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding-algorithms</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">alg-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">type</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">COSID_INTERVAL_{type_suffix}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">props</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">logic-name-prefix</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">logic-name-prefix</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">id-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">cosid-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-lower</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>2021</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-12</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-08</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>22</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">:00:00</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-upper</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>2022</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-12</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-01</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>00</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">:00:00</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding-suffix-pattern</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">yyyyMM</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-interval-unit</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">MONTHS</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-interval-amount</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>1</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></pre></div></div><h4>取模分片算法</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosIdModShardingAlgorithm" src="https://oscimg.oschina.net/oscnet/up-614e23fdac05028408625b0856f2e1163aa.png" referrerpolicy="no-referrer"></p><ul><li>性能：相比於<span>&nbsp;</span><code>org.apache.shardingsphere.sharding.algorithm.sharding.mod.ModShardingAlgorithm</code><span>&nbsp;</span>性能高出<span>&nbsp;</span><em>1200~4000</em><span>&nbsp;</span>倍。並且穩定性更高，不會出現嚴重的性能退化。</li></ul><table cellspacing="0" style="--darkreader-inline-bgcolor:#181a1b; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-top:currentcolor; --darkreader-inline-color:#b7b1a7; -webkit-text-stroke-width:0px; background-color:#ffffff; border-collapse:collapse; border-spacing:0px; border:medium none; box-sizing:border-box; color:#40485b; display:block; font-family:-apple-system,&quot;system-ui&quot;,&quot;Segoe UI&quot;,Helvetica,Arial,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Liberation Sans&quot;,&quot;PingFang SC&quot;,&quot;Microsoft YaHei&quot;,&quot;Hiragino Sans GB&quot;,&quot;Wenquanyi Micro Hei&quot;,&quot;WenQuanYi Zen Hei&quot;,&quot;ST Heiti&quot;,SimHei,SimSun,&quot;WenQuanYi Zen Hei Sharp&quot;,sans-serif; font-size:16px; font-style:normal; font-variant-caps:normal; font-variant-ligatures:normal; font-weight:400; letter-spacing:normal; line-height:inherit; margin:0px 0px 16px; max-width:100%; orphans:2; overflow:auto; text-align:left; text-decoration-color:initial; text-decoration-style:initial; text-decoration-thickness:initial; text-transform:none; white-space:normal; widows:2; word-break:initial; word-spacing:0px"><tbody><tr><th><strong>PreciseShardingValue</strong></th><th><strong>RangeShardingValue</strong></th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of ModShardingAlgorithm - PreciseShardingValue" src="https://oscimg.oschina.net/oscnet/up-b0509c7b8d072d626c62e6d85006bb4f9ef.png" referrerpolicy="no-referrer"></td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of ModShardingAlgorithm - RangeShardingValue" src="https://oscimg.oschina.net/oscnet/up-37c0d23dabd951f4a00985b74cd20c5a328.png" referrerpolicy="no-referrer"></td></tr></tbody></table><div><div><pre><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">spring</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">shardingsphere</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">rules</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding-algorithms</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">alg-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">type</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">COSID_MOD</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">props</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">mod</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>4</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">logic-name-prefix</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">t_table_</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre></div></div><h2>性能測試報告</h2><h3>SegmentChainId - 吞吐量 (ops/s)</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Throughput-Of-SegmentChainId" src="https://oscimg.oschina.net/oscnet/up-bcdd47563907ba963673c8cd1ee99f3a753.png" referrerpolicy="no-referrer"></p><h3>SegmentChainId - 每次操作耗時的百分位數 (us/op)</h3><blockquote><p style="margin-left:0; margin-right:0"><a href="https://gitee.com/link?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E7%2599%25BE%25E5%2588%2586%25E4%25BD%258D%25E6%2595%25B0">百分位數</a><span>&nbsp;</span>，統計學術語，若將一組數據從小到大排序，並計算相應的累計百分點，則某百分點所對應數據的值，就稱為這百分點的百分位數，以 Pk 表示第 k 百分位數。百分位數是用來比較個體在羣體中的相對地位量數。</p></blockquote><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Percentile-Sample-Of-SegmentChainId" src="https://oscimg.oschina.net/oscnet/up-bc3e9bb34396489e0da8ec0888151b7d489.png" referrerpolicy="no-referrer"></p><h3>CosId VS 美團 Leaf</h3><blockquote><p style="margin-left:0; margin-right:0">CosId (<code>SegmentChainId</code>) 性能是 Leaf (<code>segment</code>) 的 5 倍。</p></blockquote><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosId VS 美團 Leaf" src="https://gitee.com/AhooWang/CosId/raw/main/document/docs/.vuepress/public/assets/perf/CosId-VS-Leaf.png" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 06:12:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279947/cosid-2-6-6-released</guid>
            <link>https://www.oschina.net/news/279947/cosid-2-6-6-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Eclipse Vert.x 4.5.4 發佈，Java 微服務開發框架]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="background-color:#ffffff; color:#333333">Eclipse Vert.x 是一個微服務開發框架，基於事件和異步，依託於全異步 Java 服務器 Netty，並擴展了很多其他特性，以其輕量、高性能、支持多語言開發而備受開發者青睞。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span><span><span style="color:#3c3c3b"><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Eclipse Vert.x 版本 4.5.4 現已<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fvertx.io%2Fblog%2Feclipse-vert-x-4-5-4%2F" target="_blank">發佈</a>。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:#ffffff; color:#333333">一些棄用和破壞性變更包括：</span></p><h4 style="text-align:start"><strong>Vert.x Core</strong></h4><p style="text-align:start"><strong><span><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>TCP 客户端 TLS 配置的破壞性變更</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Feclipse-vertx%2Fvert.x%2Fpull%2F5117" target="_blank">https://github.com/eclipse-vertx/vert.x/pull/5117</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><code>NetClient</code>的 TLS 配置不再將默認主機名驗證算法設置為空字符串，而是客户端的用户必須使用非空字符串明確配置主機名驗證算法。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><div style="text-align:start"><pre><span style="color:var(--color-prettylights-syntax-comment)">// Before</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClient</span><span>client</span> = <span>vertx</span>.<span style="color:var(--color-prettylights-syntax-entity)">createNetClient</span>(<span style="color:var(--color-prettylights-syntax-keyword)">new</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClientOptions</span>().<span style="color:var(--color-prettylights-syntax-entity)">setSsl</span>(<span style="color:var(--color-prettylights-syntax-constant)">true</span>).<span style="color:var(--color-prettylights-syntax-entity)">setTrustOptions</span>(<span>trustedCert</span>));

<span style="color:var(--color-prettylights-syntax-comment)">// After </span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">String</span><span>algo</span> = ...;
<span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClient</span><span>client</span> = <span>vertx</span>.<span style="color:var(--color-prettylights-syntax-entity)">createNetClient</span>(<span style="color:var(--color-prettylights-syntax-keyword)">new</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClientOptions</span>().<span style="color:var(--color-prettylights-syntax-entity)">setSsl</span>(<span style="color:var(--color-prettylights-syntax-constant)">true</span>).<span style="color:var(--color-prettylights-syntax-entity)">setHostnameVerificationAlgorithm</span>(<span>algo</span>).<span style="color:var(--color-prettylights-syntax-entity)">setTrustOptions</span>(<span>trustedCert</span>));
</pre></div><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>驗證算法可以是以下之一：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><ul><li><code>""</code>：接受任何可信證書</li><li><code>"HTTPS"</code>：根據&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdatatracker.ietf.org%2Fdoc%2Fhtml%2Frfc2818%23section-3.1" target="_blank">rfc2818 驗證任何可信證書</a></li><li><code>"LDAPS"</code>：根據&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdatatracker.ietf.org%2Fdoc%2Fhtml%2Frfc2830%23section-3.6" target="_blank">rfc2830 驗證任何可信證書</a></li></ul><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>因此，Vert.x Redis 客户端 TLS 配置必須在 TCP 客户端選項上明確設置算法。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><div style="text-align:start"><pre><span style="color:var(--color-prettylights-syntax-comment)">// Before</span><span>redisOptions</span>.<span style="color:var(--color-prettylights-syntax-entity)">setNetClientOptions</span>(<span style="color:var(--color-prettylights-syntax-keyword)">new</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClientOptions</span>().<span style="color:var(--color-prettylights-syntax-entity)">setSsl</span>(<span style="color:var(--color-prettylights-syntax-constant)">true</span>).<span style="color:var(--color-prettylights-syntax-entity)">setTrustOptions</span>(<span>cert</span>));

<span style="color:var(--color-prettylights-syntax-comment)">// After</span><span>redisOptions</span>.<span style="color:var(--color-prettylights-syntax-entity)">setNetClientOptions</span>(<span style="color:var(--color-prettylights-syntax-keyword)">new</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClientOptions</span>().<span style="color:var(--color-prettylights-syntax-entity)">setSsl</span>(<span style="color:var(--color-prettylights-syntax-constant)">true</span>).<span style="color:var(--color-prettylights-syntax-entity)">setTrustOptions</span>(<span>cert</span>).<span style="color:var(--color-prettylights-syntax-entity)">setHostnameVerificationAlgorithm</span>(<span>algo</span>));
</pre></div><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>因此，Vert.x MQTT 客户端 TLS 配置必須在 MQTT 客户端選項上明確設置算法。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><pre><code>// Before
mqttClientOptions.setSsl(true).setTrustOptions(cert);

// After
mqttClientOptions.setSsl(true).setTrustOptions(cert).setHostnameVerificationAlgorithm(algo);</code></pre><p style="text-align:start"><strong><span><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>Deprecation of HTTP connection shutdown with a timeout</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Feclipse-vertx%2Fvert.x%2Fpull%2F5115" target="_blank">https://github.com/eclipse-vertx/vert.x/pull/5115</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>棄用<code>HttpConnection#timeout(long)</code>，替換為<code>HttpConnection#timeout(long, TimeUnit)</code></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><div style="text-align:start"><pre style="text-align:start"><span style="color:var(--color-prettylights-syntax-comment)">// Before</span><span>connection</span>.<span style="color:var(--color-prettylights-syntax-entity)">shutdown</span>(<span style="color:var(--color-prettylights-syntax-constant)">5</span> * <span style="color:var(--color-prettylights-syntax-constant)">1000</span>); <span style="color:var(--color-prettylights-syntax-comment)">// 5 seconds</span><span style="color:var(--color-prettylights-syntax-comment)">// After</span><span>connection</span>.<span style="color:var(--color-prettylights-syntax-entity)">shutdown</span>(<span style="color:var(--color-prettylights-syntax-constant)">5</span>, <span style="color:var(--color-prettylights-syntax-storage-modifier-import)">TimeUnit</span>.<span style="color:var(--color-prettylights-syntax-constant)">SECONDS</span>);</pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">更多詳情可查看 4.5.4&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fvert-x3%2Fwiki%2Fwiki%2F4.5.4-Release-Notes" target="_blank">發行説明</a>。</p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 05:45:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279938/eclipse-vert-x-4-5-4-released</guid>
            <link>https://www.oschina.net/news/279938/eclipse-vert-x-4-5-4-released</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[酷瓜雲課堂（內網版）v1.1.1 發佈，局域網學習平台方案]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><img alt="酷瓜雲課堂-局域網學習平台" src="https://portal-1255691183.file.myqcloud.com/img/content/624528cd8be23.png" referrerpolicy="no-referrer"></p><h3>更新內容</h3><ul><li>增加 ldap 登錄</li><li>增加主觀題評分功能</li><li>增加用户導出功能</li><li>增加彈幕審核和管理</li><li>去除 league/commonmark 包</li><li>使用 AccountSearchTrait 複用代碼</li><li>使用 xlswriter 替換 phpspreadsheet</li><li>修正 exam/question/img 上傳問題</li><li>修正 chapter_user 中 plan_id=0 問題</li><li>修正 ArticleUser 賬號查詢</li><li>修正首頁 simple 模式樣式問題</li><li>修正關閉考試中的問題</li><li>更新 layui-v2.9.3</li><li>優化錯誤處理</li></ul><h3>系統介紹</h3><p>酷瓜雲課堂內網版，採用 C 擴展框架 Phalcon 開發，使用本地基礎服務，無營銷相關功能，主要適用於公司、集團、機關、學校等內部網絡環境使用。</p><h3>系統功能</h3><p>實現了點播、直播、專欄、問答、積分等。</p><p>友情提示：</p><ul><li>演示系統配置低，帶寬有限，切莫壓測</li><li>課程數據來源於網絡（無實質內容）</li><li>管理後台已禁止數據提交，私密配置已過濾</li></ul><p>系統演示：</p><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flan-edu.koogua.com" target="_blank">前台演示</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flan-edu.koogua.com%2Fadmin" target="_blank">後台演示</a></li></ul><p>演示賬號：100015@163.com / 123456 （前後台通用）</p><h3>項目組件</h3><ul><li>後台框架：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fphalcon.io" target="_blank">phalcon 3.4.5</a></li><li>前端框架：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flayui.dev" target="_blank">layui 2.9.3</a></li><li>全文檢索：<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fwww.xunsearch.com" target="_blank">xunsearch 1.4.9</a></li><li>基礎依賴：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fphp.net" target="_blank">php7.3</a>， <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmysql.com" target="_blank">mysql5.7</a>， <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fredis.io" target="_blank">redis5.0</a></li></ul><h3>項目文檔</h3><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.koogua.com%2Fpage%2Fwiki" target="_blank">運行環境搭建</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.koogua.com%2Fpage%2Fwiki" target="_blank">系統服務配置</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.koogua.com%2Fpage%2Fwiki" target="_blank">客户終端配置</a></li></ul><h3>產品試用</h3><p>申請地址：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.koogua.com%2Fpage%2Ftrial" target="_blank">點擊申請</a></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 05:25:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279935/course-tencent-cloud-1-1-1-released</guid>
            <link>https://www.oschina.net/news/279935/course-tencent-cloud-1-1-1-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[超 3000 次 commit，MyBatis-Flex v1.8.0 發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><img alt="" height="265" src="https://oscimg.oschina.net/oscnet/up-0d6ec96d8070deb116566704fcc7bfd1291.png" width="500" referrerpolicy="no-referrer"></p><h1>MyBatis-Flex： 一個優雅的 MyBatis 增強框架</h1><h1>特徵</h1><h4>1、很輕量</h4><blockquote><p style="margin-left:0; margin-right:0">MyBatis-Flex 整個框架只依賴 MyBatis，再無其他任何第三方依賴。</p></blockquote><h4>2、只增強</h4><blockquote><p style="margin-left:0; margin-right:0">MyBatis-Flex 支持 CRUD、分頁查詢、多表查詢、批量操作，但不丟失 MyBatis 原有的任何功能。</p></blockquote><h4>3、高性能</h4><blockquote><p style="margin-left:0; margin-right:0">MyBatis-Flex 採用獨特的技術架構、相比許多同類框架，MyBatis-Flex 的在增刪改查等方面的性能均超越其 5~10 倍或以上。</p></blockquote><h4>4、更靈動</h4><blockquote><p style="margin-left:0; margin-right:0">MyBatis-Flex 支持多主鍵、多表查詢、邏輯刪除、樂觀鎖、數據脱敏、數據加密、多數據源、分庫分表、字段權限、 字段加密、多租户、事務管理、SQL 審計... 等等等等。 這一切，免費且靈動。</p></blockquote><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>不知不覺，MyBatis-Flex 發佈快 1 年的時間了。在這 1 年中，MyBatis-Flex 一共發佈了 180 個版本，130 位小夥伴參與貢獻，一共獲得了超過 3000 次 commit，感謝大家的付出，才能讓 MyBatis-FLex 茁壯成長。</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><h4><strong>MyBatis-Flex v1.7.9~1.8.0 更新細節如下：</strong></h4><div><ul><li>新增：ActiveRecord 模式新增 withRelations(columns) 的查詢方法，感謝<span>&nbsp;</span><a href="https://gitee.com/tangzc" target="_blank">@唐振超</a></li><li>新增：在不配置 genPath 時對增量編譯的支持，感謝<span>&nbsp;</span><a href="https://gitee.com/cloudplayer" target="_blank">@CloudPlayer</a></li><li>新增：通過 FlexConfiguration 預註冊的自定義 typeHandler 的功能，感謝<span>&nbsp;</span><a href="https://gitee.com/tanglh" target="_blank">@tanglh</a></li><li>優化：重構代碼生成器生成 BaseEntity 的代碼</li><li>優化：entityOrBase.tpl 中命令佔位符被替換後，entity 裏面多了一行空白行，感謝<span>&nbsp;</span><a href="https://gitee.com/caohenghui" target="_blank">@Accado</a></li><li>修復：在複雜的 VO 嵌套查詢時，addResultMap 拋出異常的問題，感謝<span>&nbsp;</span><a href="https://gitee.com/leizhiyou" target="_blank">@leizhiyou</a></li><li>修復：實體類實現多層級的接口時監聽器無法匹配問題，感謝<span>&nbsp;</span><a href="https://gitee.com/ruansheng" target="_blank">@ruansheng</a></li><li>修復：使用 Mappers 執行語法時, 異常未被精確拋出問題，感謝<span>&nbsp;</span><a href="https://gitee.com/ruansheng" target="_blank">@ruansheng</a></li><li>修復：@EnumValue 在 get 方法上，查詢報錯的問題，感謝<span>&nbsp;</span><a href="https://gitee.com/Suomm" target="_blank">@王帥</a></li><li>修復：QueryConditionBuilder 的 ge 方法修改為 eq 的問題，感謝<span>&nbsp;</span><a href="https://gitee.com/wittplus" target="_blank">@witt</a></li><li>修復：Db.insertBatchWithFirstRowColumns 當 row key 的順序沒保持一致時，出錯的問題</li><li>修復：Db.insertBatchWithFirstRowColumns 不能自動填充主鍵字段的問題</li><li>修復：paginateWithRelationsAs 不及時清空 threadLocal 的 relation 配置的問題<span>&nbsp;</span><a href="https://gitee.com/mybatis-flex/mybatis-flex/issues/I90S5G">#I90S5G:[Bug]: paginateWithRelationsAs 使用關聯查詢時，在查詢總數為 0 的情況下直接返回了，未清空 RelationManage 裏的數據，當 Tomcat 使用線程池時複用連接時會複用上一個線程的 threadLocal 值</a></li><li>修復：在某些極端情況下 AbstractRelation 出現 NPE 的問題<span>&nbsp;</span><a href="https://gitee.com/mybatis-flex/mybatis-flex/issues/I90XTY">#I90XTY:[Bug]: @RelationOneToMany 啓動時查詢調用出現 NullPointerException</a></li><li>修復：在和 Apache CXF 整合時，出錯的問題<span>&nbsp;</span><a href="https://gitee.com/mybatis-flex/mybatis-flex/issues/I90XE5">#I90XE5:[Bug]: 與 apache 的 cxf 同時整合到項目，產生錯誤</a></li><li>文檔：優化 faq 的相關文檔，感謝<span>&nbsp;</span><a href="https://gitee.com/Suomm" target="_blank">@王帥</a></li></ul><p style="margin-left:0; margin-right:0">代碼貢獻者，請參考：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fintro%2Fwhat-is-mybatisflex.html%23%25E8%25B4%25A1%25E7%258C%25AE%25E8%2580%2585" target="_blank">https://mybatis-flex.com/zh/intro/what-is-mybatisflex.html#%E8%B4%A1%E7%8C%AE%E8%80%85</a></p><p style="margin-left:0; margin-right:0">&nbsp;</p></div><h4><strong>進一步瞭解 MyBatis-Flex 框架，請參考一下鏈接：</strong></h4><ul><li>1、快速開始：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fintro%2Fgetting-started.html" target="_blank">https://mybatis-flex.com/zh/intro/getting-started.html</a></li><li>2、多表關聯查詢：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fbase%2Fquery.html%23%25E5%2585%25B3%25E8%2581%2594%25E6%259F%25A5%25E8%25AF%25A2-%25E6%2588%2596%25E5%25A4%259A%25E8%25A1%25A8%25E6%259F%25A5%25E8%25AF%25A2" target="_blank">https://mybatis-flex.com/zh/base/query.html</a></li><li>3、一對多、多對一：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fbase%2Frelations-query.html" target="_blank">https://mybatis-flex.com/zh/base/relations-query.html</a></li><li>4、靈活的 QueryWrapper：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fbase%2Fquerywrapper.html" target="_blank">https://mybatis-flex.com/zh/base/querywrapper.html</a></li><li>5、邏輯刪除：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Flogic-delete.html" target="_blank">https://mybatis-flex.com/zh/core/logic-delete.html</a></li><li>6、樂觀鎖：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fversion.html" target="_blank">https://mybatis-flex.com/zh/core/version.html</a></li><li>7、數據填充：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Ffill.html" target="_blank">https://mybatis-flex.com/zh/core/fill.html</a></li><li>6、數據脱敏：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fmask.html" target="_blank">https://mybatis-flex.com/zh/core/mask.html</a></li><li>7、SQL 審計：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Faudit.html" target="_blank">https://mybatis-flex.com/zh/core/audit.html</a></li><li>8、多數據源：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fmulti-datasource.html" target="_blank">https://mybatis-flex.com/zh/core/multi-datasource.htm</a></li><li>9、數據源加密：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fdatasource-encryption.html" target="_blank">https://mybatis-flex.com/zh/core/datasource-encryption.html</a></li><li>10、動態表名：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fdynamic-table.html" target="_blank">https://mybatis-flex.com/zh/core/dynamic-table.html</a></li><li>11、事務管理：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Ftx.html" target="_blank">https://mybatis-flex.com/zh/core/tx.html</a></li><li>12、數據權限：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fdata-permission.html" target="_blank">https://mybatis-flex.com/zh/core/data-permission.html</a></li><li>13、字段權限：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fcolumns-permission.html" target="_blank">https://mybatis-flex.com/zh/core/columns-permission.html</a></li><li>14、字段加密：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fcolumns-encrypt.html" target="_blank">https://mybatis-flex.com/zh/core/columns-encrypt.html</a></li><li>15、字典回寫：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fcolumns-dict.html" target="_blank">https://mybatis-flex.com/zh/core/columns-dict.html</a></li><li>16、枚舉屬性：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fenum-property.html" target="_blank">https://mybatis-flex.com/zh/core/enum-property.html</a></li><li>17、多租户：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fmulti-tenancy.html" target="_blank">https://mybatis-flex.com/zh/core/multi-tenancy.html</a></li><li>18、代碼生成器：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fothers%2Fcodegen.html" target="_blank">https://mybatis-flex.com/zh/others/codegen.html</a></li><li>19、QQ 交流羣：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fintro%2Fqq-group.html" target="_blank">https://mybatis-flex.com/zh/intro/qq-group.html</a></li><li>20、更好用的功能正在路上：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com" target="_blank">https://mybatis-flex.com</a></li></ul><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><h4><strong>bilibili 視頻教程（免費）：</strong></h4><p style="color:#3c3c43; margin-left:0; margin-right:0; text-align:start"><strong>課程 ：《MyBatis-Flex 視頻教程》</strong></p><blockquote><p style="color:var(--vp-c-text-2); margin-left:0; margin-right:0">課程簡介：該課程由<span>&nbsp;</span><a href="https://gitee.com/Suomm" target="_blank">王帥</a><span>&nbsp;</span>老師錄製主講，<span>&nbsp;</span><a href="https://gitee.com/Suomm" target="_blank">王帥</a><span>&nbsp;</span>老師也是除了作者以外，對 MyBatis-Flex 代碼貢獻最大的 committer。 其無論對 MyBatis 還是 MyBatis-Flex，都有非常深入的理解。</p></blockquote><p style="color:#3c3c43; margin-left:0; margin-right:0; text-align:start">課程地址：</p><p style="color:#3c3c43; margin-left:0; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV11h411A7cU" target="_blank">https://www.bilibili.com/video/BV11h411A7cU</a></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 03:20:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279913/mybatis-flex-1-8-0-released</guid>
            <link>https://www.oschina.net/news/279913/mybatis-flex-1-8-0-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Apache ECharts 5.5.0 引入服務端渲染的新利器：1KB 的客户端輕量運行時]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>Apache ECharts 5.5.0 版本已於 2024.2.18 正式發佈。</p><p><em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fapache%2Fecharts%2Freleases%2Ftag%2F5.5.0" target="_blank">https://github.com/apache/echarts/releases/tag/5.5.0</a></u></em></p><p><strong>主要變化</strong></p><ul><li><p>增強了代碼的 ESM 識別，對&nbsp;Node.js&nbsp;環境開發更加友好；</p></li><li><p>為服務端渲染方案提供了一個 gzip 後僅 1KB 的輕量運行時，極大地降低了加載時間；</p></li><li><p>為數據下鑽支持了過渡動畫，開發者可以方便地實現多級數據的動畫效果；</p></li><li><p>為餅圖和極座標系圖表增加了更多配置項，可以實現更豐富的樣式；</p></li><li><p>新增阿拉伯語和荷蘭語兩種語言的翻譯</p></li><li><p>……</p></li></ul><p>以下內容轉自：<em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FIpGQS1GspyXzNe-u9F4B-A" target="_blank">https://mp.weixin.qq.com/s/IpGQS1GspyXzNe-u9F4B-A</a></u></em></p><hr><h2>增強的 ESM 支持</h2><p>為了讓開發者在測試和 Node.js 環境使用更方便，我們在這個版本中對 ESM 的識別問題進行了優化。</p><p>以前，ECharts 只在 npm（npm 包的 lib 目錄中）導出&nbsp;<code>*.esm</code>&nbsp;文件。雖然這在 bundlers 環境表現良好，但 Node.js 環境和一些基於 Node.js 的測試框架（如 vitest 和 jest）中的表現並不理想。</p><p>有了這個新功能，我們做了幾個改變以改善這個問題：</p><ul><li><p>在&nbsp;<code>package.json</code>&nbsp;中添加了&nbsp;<code>"type": "module"</code></p></li><li><p>在&nbsp;<code>package.json</code>&nbsp;中添加了&nbsp;<code>"exports": {...}</code></p></li><li><p>在子目錄中添加了一些只包含&nbsp;<code>"type": "commonjs"</code>&nbsp;的&nbsp;<code>package.json</code>&nbsp;文件</p></li></ul><p>這些改變意味着，像&nbsp;<code>echarts/core.js</code>&nbsp;這樣的文件現在可以在像純 Node.js、vitest、jest 和 create-react-app 這樣的環境中解析為 ESM。</p><p>我們還確保了這個新功能與各種環境兼容，包括運行時（Node.js/vitest/jest（create-react-app）/ssr/…）和打包器（webpack/rollup/vite/esbuild/…）。</p><p>我們非常期待這一新功能，並相信它將極大地改善開發者的體驗。</p><h2>服務端渲染 + 客户端輕量運行時</h2><p>Apache ECharts 功能強大，相應地，包體積也比較大。我們在之前的版本中也做了各種努力來改進這一點。開發者可以使用 TreeShaking 按需加載部分代碼，以減少加載的代碼量。從 Apache ECharts 5.3 版本起，我們支持了零依賴的服務端 SVG 字符串渲染方案，並支持圖表的初始動畫。這樣，使用服務端渲染的結果作為首屏渲染的畫面，可以大大減少首屏加載時間。</p><p>服務端渲染雖然是一種很有效減少包體積的解決方案，但如果需要在客户端實現一些交互，那麼不得不仍舊加載 echarts.js，這可能會增加更多的加載時間。對於一些對頁面加載速度要求較高的場景，這可能不是一個理想的選擇。</p><p><strong>在 5.5.0 版本中，我們新增了客户端輕量運行時</strong>，客户端無需加載完整 ECharts 即可實現部分交互。這樣，我們可以在服務端渲染圖表，然後在客户端加載輕量運行時，實現一些常見的交互。這意味着，<strong>只需要加載&nbsp;4KB 的輕量運行時（gzip 後 1KB），即可實現帶初始動畫和部分常用交互形式的圖表</strong>。這一改進將極大地提升頁面加載速度，特別是對於移動端的體驗。</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-5c9857523986e92155d29f453c6307014c1.png" referrerpolicy="no-referrer"></p><p>以這個帶標題的餅圖為例，如果按客户端僅打包餅圖和標題組件的方案，gzip 後需要 135KB；如果按服務端渲染的方案，渲染結果 SVG gzip 後 1 KB、客户端運行時 gzip 後 1KB，僅為前者體積的 1.5%。交互方面，後者也可以做到初始動畫、鼠標移動到圖表元素後的高亮，並且獲取到點擊事件，能夠滿足大部分的常見交互需求。</p><p>如需使用客户端輕量運行時方案，服務端代碼和之前一樣，但需要保證 ECharts 版本號在 5.5.0 以上。</p><pre><code>//&nbsp;服務端代碼
const&nbsp;echarts&nbsp;=&nbsp;require('echarts');

//&nbsp;在&nbsp;SSR&nbsp;模式下第一個參數不需要再傳入&nbsp;DOM&nbsp;對象
const&nbsp;chart&nbsp;=&nbsp;echarts.init(null,&nbsp;null,&nbsp;{
&nbsp;&nbsp;renderer:&nbsp;'svg',&nbsp;//&nbsp;必須使用&nbsp;SVG&nbsp;模式
&nbsp;&nbsp;ssr:&nbsp;true,&nbsp;//&nbsp;開啓&nbsp;SSR
&nbsp;&nbsp;width:&nbsp;400,&nbsp;//&nbsp;需要指明高和寬，如果是根據客户端容器大小動態的，該值需要從客户端得到
&nbsp;&nbsp;height:&nbsp;300
});

//&nbsp;像正常使用一樣&nbsp;setOption
chart.setOption({
&nbsp;&nbsp;//...
});

//&nbsp;輸出字符串
const&nbsp;svgStr&nbsp;=&nbsp;chart.renderToSVGString();

//&nbsp;調用&nbsp;dispose&nbsp;以釋放內存
chart.dispose();
chart&nbsp;=&nbsp;null;

//&nbsp;通過 HTTP Response 返回 svgStr 給前端或者緩存到本地（這裏以 Express.js 為例）：
res.writeHead(200,&nbsp;{
&nbsp;&nbsp;'Content-Type':&nbsp;'application/xml'
});
res.write(svgStr);
res.end();

</code></pre><p>客户端將得到的 SVG 字符串添加到容器中，並綁定輕量運行時：</p><pre><code>&lt;div&nbsp;id="chart-container"&nbsp;style="width:800px;height:600px"&gt;&lt;/div&gt;

&lt;script&nbsp;src="https://cdn.jsdelivr.net/npm/echarts/ssr/client/dist/index.js"&gt;&lt;/script&gt;
&lt;script&gt;
const&nbsp;ssrClient&nbsp;=&nbsp;window['echarts-ssr-client'];

let&nbsp;isSeriesShown&nbsp;=&nbsp;{
&nbsp;&nbsp;a:&nbsp;true,
&nbsp;&nbsp;b:&nbsp;true
};

function&nbsp;updateChart(svgStr)&nbsp;{
&nbsp;&nbsp;const&nbsp;container&nbsp;=&nbsp;document.getElementById('chart-container');
&nbsp;&nbsp;container.innerHTML&nbsp;=&nbsp;svgStr;

&nbsp;&nbsp;//&nbsp;使用輕量運行時賦予圖表交互能力
&nbsp;&nbsp;ssrClient.hydrate(main,&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;on:&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;click:&nbsp;(params)&nbsp;=&gt;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(params.ssrType&nbsp;===&nbsp;'legend')&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;點擊圖例元素，請求服務器進行二次渲染
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isSeriesShown[params.seriesName]&nbsp;=&nbsp;!isSeriesShown[params.seriesName];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fetch('...?series='&nbsp;+&nbsp;JSON.stringify(isSeriesShown))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.then(res&nbsp;=&gt;&nbsp;res.text())
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.then(svgStr&nbsp;=&gt;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updateChart(svgStr);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;});
}

//&nbsp;通過&nbsp;AJAX&nbsp;請求獲取服務端渲染的&nbsp;SVG&nbsp;字符串
fetch('...')
&nbsp;&nbsp;.then(res&nbsp;=&gt;&nbsp;res.text())
&nbsp;&nbsp;.then(svgStr&nbsp;=&gt;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;updateChart(svgStr);
&nbsp;&nbsp;});
&lt;/script&gt;
</code></pre><p>客户端輕量運行時必須配合 SVG 形式的服務端渲染結果使用，支持以下交互：</p><ul><li><p>圖表初始動畫（實現原理：服務端渲染的 SVG 帶有 CSS 動畫）</p></li><li><p>高亮樣式（實現原理：服務端渲染的 SVG 帶有 CSS 動畫）</p></li><li><p>動態改變數據（實現原理：輕量運行時請求服務器進行二次渲染）</p></li><li><p>點擊圖例切換系列是否顯示（實現原理：輕量運行時請求服務器進行二次渲染）</p></li></ul><p>可以發現，這能夠滿足大部分的交互場景需求。如果需要更復雜的交互，則客户端需要加載&nbsp;<code>echarts.js</code>&nbsp;實現完整功能。</p><p>完整的介紹請參見官網使用手冊的「應用篇 - 跨平台方案 - 服務端渲染」。</p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 02:59:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279907/echarts-5-5-0</guid>
            <link>https://www.oschina.net/news/279907/echarts-5-5-0</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Elasticsearch 8.12.2 發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="background-color:#ffffff"><span style="color:#333333">Elasticsearch 是一個基於 Lucene 庫的搜索引擎。它提供了一個分佈式、支持多租户的全文搜索引擎，具有 HTTP Web 接口和無模式 JSON 文檔。Elasticsearch 基於 Java 開發，並在 SSPL + Elastic License 雙重授權許可下作為開源軟件發佈。</span></span></p><p>Elasticsearch 8.12.2 現已發佈<span style="background-color:#ffffff"><span style="color:#333333">，具體更新內容如下：</span></span></p><h4 style="margin-left:0px; margin-right:0px; text-align:left"><strong><span style="color:#212529"><span style="background-color:#ffffff">Bug 修復</span></span></strong></h4><div style="text-align:left"><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Application</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">修復因<code>rule_query</code>中<code>text_expansion</code>未重寫而出錯的&nbsp;bug&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105365" target="_blank">#105365</a></span></span></li><li><span style="color:#212529"><span style="background-color:#ffffff">[Connectors API] 修復爬蟲配置解析和<code>sync_now</code>flag 的錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105024" target="_blank">#105024</a></span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Authentication</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">在重新加載 JWT 共享密鑰之前驗證設置<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105070" target="_blank">#105070</a></span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Downsampling</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">更好地處理未分配源索引的 Downsampling 問題，並修復檢索最後處理的 tsid 的錯誤&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105228" target="_blank">#105228</a></span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>ES|QL</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">ESQL：如果可能，將 CIDR_MATCH 推送到 Lucene&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105061" target="_blank">#105061</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F105042" target="_blank">#105042</a>）</span></span></li><li><span style="color:#212529"><span style="background-color:#ffffff">ES|QL：修復錯誤日期模式的<code>date_parse</code>異常處理<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105048" target="_blank">#105048</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104124" target="_blank">#104124</a>）</span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Indices APIs</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">始終顯示可組合索引模板的<code>composed_of</code>字段<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105315" target="_blank">#105315</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104627" target="_blank">#104627</a>）</span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Ingest Node</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">從<code>LogstashInternalBridge</code>回傳穩定的<code>ThreadPool</code>constructor&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105165" target="_blank">#105165</a></span></span></li><li><span style="color:#212529"><span style="background-color:#ffffff">在 enrich runner 中強化索引映射參數檢查<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105096" target="_blank">#105096</a></span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Machine Learning</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">修復禁用機器學習的節點的<code>ml.config_version</code>節點屬性處理<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105066" target="_blank">#105066</a></span></span></li><li><span style="color:#212529"><span style="background-color:#ffffff">修復 XLM Roberta tokenizer 中代理對的處理&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105183" target="_blank">#105183</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104626" target="_blank">#104626</a>、<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104981" target="_blank">#104981</a>）</span></span></li><li><span style="color:#212529"><span style="background-color:#ffffff">推理服務應在關閉期間拒絕任務&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105213" target="_blank">#105213</a></span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Network</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">在客户端取消時關閉<code>currentChunkedWrite</code><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105258" target="_blank">#105258</a></span></span></li><li><span style="color:#212529"><span style="background-color:#ffffff">修復關閉後發送的 HTTP 響應泄漏<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105293" target="_blank">#105293</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104651" target="_blank">#104651</a>）</span></span></li><li><span style="color:#212529"><span style="background-color:#ffffff">修復 HTTP 響應關閉處理中的&nbsp;race&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105306" target="_blank">#105306</a></span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Search</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">Field-caps 應該從 up-to-dated shards&nbsp;中讀取字段<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105153" target="_blank">#105153</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104809" target="_blank">#104809</a>）</span></span></li></ul></div><p><strong><span style="color:#212529"><span style="background-color:#ffffff">Snapshot/Restore</span></span></strong></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">完成由 shard snapshot&nbsp;updates 完成的所有&nbsp;snapshots&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105245" target="_blank">#105245</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104939" target="_blank">#104939</a>）</span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Transform</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">觸發<code>ABORTING</code>轉換時不記錄警告&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105234" target="_blank">#105234</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F105233" target="_blank">#105233</a>）</span></span></li><li><span style="background-color:#ffffff">讓</span><span style="color:#212529"><span style="background-color:#ffffff"><code>_reset</code></span></span><span style="background-color:#ffffff"><span style="color:#212529">動作在</span></span><span style="background-color:#ffffff"><span style="color:#212529">不強制的情況下</span></span><span style="background-color:#ffffff"><span style="color:#212529">停止&nbsp;</span><span style="color:#212529">transforms</span><span style="color:#212529"> #&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F104870" target="_blank">104870</a><span style="color:#212529">（issue&nbsp;</span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F100596" target="_blank">#100596</a><span style="color:#212529">、</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104825" target="_blank">#104825</a><span style="background-color:#ffffff"><span style="color:#212529">）</span></span></li></ul></div></div><h4 style="margin-left:0px; margin-right:0px; text-align:left"><strong><span style="color:#212529"><span style="background-color:#ffffff">Enhancements</span></span></strong></h4><div style="text-align:left"><p><strong><span style="color:#212529"><span style="background-color:#ffffff">IdentityProvider</span></span></strong></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">在 IdP 插件<code>_has_privileges</code>請求中包含用户的權限操作<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F104026" target="_blank">#104026</a></span></span></li></ul></div></div><p style="margin-left:0; margin-right:0; text-align:left"><span style="color:#333333"><span style="background-color:#ffffff"><span style="color:#212529">詳情可</span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.elastic.co%2Fguide%2Fen%2Felasticsearch%2Freference%2F8.11%2Frelease-notes-8.11.4.html" target="_blank">查看更新説明</a><span style="background-color:#ffffff"><span style="color:#212529">。</span></span></span></p><p style="margin-left:0; margin-right:0; text-align:left"><span style="color:#333333"><span style="background-color:#ffffff"><span style="color:#333333"><span style="color:#212529"><span style="background-color:#ffffff">下載地址：</span></span></span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Felastic.co%2Fdownloads%2Felasticsearch" target="_blank">https://elastic.co/downloads/elasticsearch</a></span></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 02:35:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279899/elasticsearch-8-12-2-released</guid>
            <link>https://www.oschina.net/news/279899/elasticsearch-8-12-2-released</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[🎉Laravel + Vue3 前後端分離後端框架 CatchAdmin v3.1.9 發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><h1>介紹</h1><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><code>CatchAdmin</code><span>&nbsp;</span>是一款基於<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flaravel.com%2F" target="_blank">Laravel</a><span>&nbsp;</span>和<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Felement-plus.org%2F" target="_blank">Element Plus</a><span>&nbsp;</span>二次開發而成後台管理系統。<code>Laravel</code><span>&nbsp;</span>社區也有許多非常優秀的後台管理系統，例如<span>&nbsp;</span><code>Nova</code>, 官方出品，當然是收費的，免費的有基於<span>&nbsp;</span><code>Livewire</code><span>&nbsp;</span>的<span>&nbsp;</span><code>Filament</code>，還有不得不説的<span>&nbsp;</span><code>Laravel Admin</code>。<code>CatchAdmin</code><span>&nbsp;</span>還是採用傳統的前後端分離策略，<code>Laravel</code><span>&nbsp;</span>框架僅僅作為<span>&nbsp;</span><code>Api</code><span>&nbsp;</span>輸出。將管理系統模塊之間的耦合降到了最低限度。每個模塊之間都有獨立的控制器，路由，模型，數據表。在開發上儘可能將模塊之間的影響降到最低，降低了開發上的難度。基於<span>&nbsp;</span><code>CatchAdmin<span>&nbsp;</span></code><span>&nbsp;</span>可以開發<span>&nbsp;</span><code>CMS</code>，<code>CRM</code>，<code>OA</code><span>&nbsp;</span>等，等系統。也封裝了很多實用的工具，提升開發體驗。</p><h2>V3.1.9 日誌</h2><ul><li>修復模型時間戳錯誤</li><li>修復角色選擇數據權限報錯</li><li>優化賬户禁用功能</li><li>修復修復 ElementPlus 語言錯誤</li><li>修復菜單組件更新錯誤</li><li>修復模塊路由初始化錯誤</li><li>修復菜單 action loading 錯誤</li><li>修復安裝權限模塊</li><li>重構項目安裝指令</li><li>更多....</li></ul><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>視頻</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1jP41127aW%2F" target="_blank">catchadmin 模塊創建</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1Qh4y1J7eB%2F" target="_blank">catchadmin 之快速開發</a></p><h2>功能<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcatchadmin.com%2Fdocs%2F3.0%2Fintro%23%25E5%258A%259F%25E8%2583%25BD" target="_blank">​</a></h2><ul><li><span>&nbsp;</span>用户管理，後台用户管理</li><li><span>&nbsp;</span>部門管理，配置公司的部門結構，支持樹形結構</li><li><span>&nbsp;</span>崗位管理，配置後台用户的職務</li><li><span>&nbsp;</span>菜單管理，配置系統菜單，按鈕等等</li><li><span>&nbsp;</span>角色管理，配置用户擔當的角色，分配權限</li><li><span>&nbsp;</span>操作日誌，後台用户操作記錄</li><li><span>&nbsp;</span>登錄日誌，後台系統用户的登錄記錄</li><li><span>&nbsp;</span>代碼生成，生成 API 端的 CURD 操作</li><li><span>&nbsp;</span>Schema 管理，生成表結構</li><li><span>&nbsp;</span>模塊管理，系統模塊管理</li></ul><h2>額外模塊<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcatchadmin.com%2Fdocs%2F3.0%2Fintro%23%25E9%25A2%259D%25E5%25A4%2596%25E6%25A8%25A1%25E5%259D%2597" target="_blank">​</a></h2><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fcatch-admin%2Fcms" target="_blank">CMS 模塊</a></li></ul><h2>項目地址<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcatchadmin.com%2Fdocs%2F3.0%2Fintro%23%25E9%25A1%25B9%25E7%259B%25AE%25E5%259C%25B0%25E5%259D%2580" target="_blank">​</a></h2><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fjaguarjack%2Fcatch-admin" target="_blank">github 地址</a></li><li><a href="https://gitee.com/jaguarjack/catchAdmin" target="_blank">gitee 地址</a></li></ul><h2>預覽<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcatchadmin.com%2Fdocs%2F3.0%2Fintro%23%25E9%25A2%2584%25E8%25A7%2588" target="_blank">​</a></h2><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img alt="zRrjNd.png" src="https://i.imgtg.com/2023/02/16/dASpg.png" referrerpolicy="no-referrer"><span>&nbsp;</span><img alt="zRsAEQ.png" src="https://i.imgtg.com/2023/02/16/dAsKK.png" referrerpolicy="no-referrer"><span>&nbsp;</span><img alt="zRsUv6.png" src="https://i.imgtg.com/2023/02/16/dA0fB.png" referrerpolicy="no-referrer"><span>&nbsp;</span><img alt="zRsV4s.png" src="https://i.imgtg.com/2023/02/16/dAd5s.png" referrerpolicy="no-referrer"></p><h2>體驗地址<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcatchadmin.com%2Fdocs%2F3.0%2Fintro%23%25E4%25BD%2593%25E9%25AA%258C%25E5%259C%25B0%25E5%259D%2580" target="_blank">​</a></h2><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fv3.catchadmin.com%2F" target="_blank">demo 地址</a></p><ul><li>賬户:<span>&nbsp;</span><code>catch@admin.com</code></li><li>密碼:<span>&nbsp;</span><code>catchadmin</code></li></ul><h2>感謝🙏<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcatchadmin.com%2Fdocs%2F3.0%2Fintro%23%25E6%2584%259F%25E8%25B0%25A2" target="_blank">​</a></h2><blockquote><p style="margin-left:0; margin-right:0">排名不分先後</p></blockquote><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flaravel.com%2F" target="_blank">Laravel</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcn.vuejs.org%2F" target="_blank">Vue</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Felement-plus.org%2F" target="_blank">ElementPlus</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocusaurus.com%2F" target="_blank">Docusaurus</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.jetbrains.com%2F" target="_blank">JetBrains</a></li></ul></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 00:32:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279874</guid>
            <link>https://www.oschina.net/news/279874</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[國產數據庫管理工具 CloudDM v2.4.5 發佈，支持更多數據庫對象查看功能]]>
            </title>
            <description>
                <![CDATA[<div class="content"><div><div><p style="margin-left:0; margin-right:0"><span>CloudDM<span>&nbsp;</span></span><span style="color:#333333">是<span>&nbsp;</span></span><span>ClouGence</span><span style="color:#333333"><span>&nbsp;</span>公司推出的一款</span><strong><span>一站式多數據源開發管理工具</span></strong><span style="color:#333333">，使用它可以方便地訪問和管理<span>&nbsp;</span></span><span>MySQL、Oracle、PostgreSQL、阿里雲 RDS、Greenplum、TiDB、Redis、StarRocks、Doris、SelectDB、SQL SERVER、ClickHouse、OceanBase 、PolarDB-X 、IBM Db2 等多種不同類型的數據庫。通過 CloudDM 豐富的數據源支持可以避免在多個專業工具之間切換，從而提高工作效率。</span></p><p style="margin-left:0; margin-right:0"><span>它是本地化的應用程序，沒有後台進程。和<span>&nbsp;</span></span><strong><span>DataGrip</span></strong><span>、</span><strong><span>Navicat</span></strong><span><span>&nbsp;</span>一樣在安裝完成後，只需要雙擊應用程序圖標，便可以方便的管理位於本地計算機或遠程計算機上的數據庫。已經支持<span>&nbsp;</span></span><strong><span>Windows</span></strong><span>、</span><strong><span>MacOS</span></strong><span><span>&nbsp;</span>和<span>&nbsp;</span></span><strong><span>Linux</span></strong><span><span>&nbsp;</span>主流操作系統。</span></p></div></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><img src="https://oscimg.oschina.net/oscnet/up-c0a92ca7654a775e970ab24569abe3fe44d.png" referrerpolicy="no-referrer"></p><div><div><h2><span>更新內容</span></h2><div><ul><li><span>[新增]</span><div><ul><li><span>新增 Dameng 數據庫查看同義詞列表功能</span></li><li><span>新增 Db2、Dameng 等數據庫查看存儲過程列表功能</span></li><li><span>新增 Db2、Dameng、Greenplum、Doris 等數據庫查看函數列表功能</span></li><li><span>新增 Db2、Dameng、Greenplum 等數據庫查看物化視圖列表功能</span></li><li><span>新增 Db2、Dameng、Greenplum 等數據庫查看序列列表功能</span></li><li><span>新增 Db2、Dameng、Greenplum 等數據庫查看觸發器列表功</span></li></ul></div></li><li><span style="color:#333333">[修復]</span><ul><li><span>修復，連接 Oracle 數據庫時，出現命令未正確結束的問題</span></li><li><span>修復 DB2 數據庫編輯數據功能數據展示錯誤的問題</span></li><li><span>修復 DB2 數據庫雙擊表時生成的 SQL 查詢語句錯誤的問題</span></li><li><span>修復 SQL SERVER 數據庫使用子賬號連接後，數據庫數量不能正確展示的問題</span></li></ul></li></ul></div></div><h2><span>下載與反饋</span></h2><ul><li><span>產品官網：</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.clougence.com%2Fclouddm-personal" target="_blank"><span>https://www.clougence.com/clouddm-personal</span></a></li><li><span>問題反饋：</span><a href="https://gitee.com/clougence/clouddm-issue/issues" target="_blank"><span>https://gitee.com/clougence/clouddm-issue/issues</span></a></li><li>Release Node：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.clougence.com%2Fdmp-doc%2Freleaseinfo%2Fdesktop_2_4_5" target="_blank">https://www.clougence.com/dmp-doc/releaseinfo/desktop_2_4_5</a></li><li><span style="color:#333333">微信交流羣：訪問產品官網，掃描右側二維碼即可加</span></li></ul></div></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 10:10:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279826/clouddm-2-4-5-released</guid>
            <link>https://www.oschina.net/news/279826/clouddm-2-4-5-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[WinSCP 6.3.1 發佈，Windows 圖形化 SFTP 客户端]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="color:#000000">WinSCP 是一個 Windows 環境下使用的&nbsp;SSH&nbsp;的開源圖形化&nbsp;SFTP&nbsp;客户端，同時支持&nbsp;SCP&nbsp;協議，它的主要功能是在本地與遠程計算機間安全地複製文件，並且可以直接編輯文件。</span></p><p style="color:#000000; margin-left:0; margin-right:0; text-align:start">目前，WinSCP 6.3.1 已經發布。該版本具體更新內容如下：</p><ul><li>翻譯已完成： 挪威語。</li><li>錯誤修復：使用 SFTP 版本 5 及更高版本重命名文件時，SFTP 數據包編碼錯誤。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwinscp.net%2Ftracker%2F2259" target="_blank">2259</a></li><li>錯誤修復：嘗試在不支持的服務器上通過校驗和同步文件時失敗。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwinscp.net%2Ftracker%2F2260" target="_blank">2260</a></li><li>錯誤修復：關閉 FTP&nbsp;TLS&nbsp;1.3 連接時隨機掛起/失敗。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwinscp.net%2Ftracker%2F2261" target="_blank">2261</a></li><li>錯誤修復：無法在登錄對話框上使用 IPv6 literal 作為 hostname。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwinscp.net%2Ftracker%2F2263" target="_blank">2263</a></li></ul><p><span style="background-color:#ffffff; color:#000000"><span style="background-color:#ffffff">更新説明</span></span><span style="background-color:#ffffff; color:#333333">：</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwinscp.net%2Feng%2Fdocs%2Fhistory%236.3.1" target="_blank">https://winscp.net/eng/docs/history#6.3.1</a></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 09:55:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279822/winscp-6-3-1-released</guid>
            <link>https://www.oschina.net/news/279822/winscp-6-3-1-released</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[BeeV2.4.0 日期分片支持，支持 ElasticSearch 查詢，SQL 鏈式編程防止注入攻擊]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="color:#2980b9">Hibernate/MyBatis+ plus +Sharding JDBC + Jpa+ Spring data+ GraphQL+ App ORM (Android, 鴻蒙)=<span>&nbsp;</span></span><span style="color:#e67e22">Bee</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="color:#c0392b"><strong>小巧玲瓏！僅 860K, 還不到 1M, 但卻是功能強大！</strong></span></p><h3><strong>V2.4.0.2 (2024 元宵節)</strong></h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#40485b">1.chaing SQL 編程支持佔位符預編譯,防止注入攻擊;增加 update,delete 的 chaing 編程支持</span><br><span style="background-color:#ffffff; color:#40485b">2.沒有指定表名則不放緩存</span><br><span style="background-color:#ffffff; color:#40485b">3.添加 Calculate 默認日期分片實現，添加自定義分片實現樣例</span><br><span style="background-color:#ffffff; color:#40485b">4.支持 ElasticSearch(7.x) ORM 查詢 (Q 羣 992650213)</span><br><span style="background-color:#ffffff; color:#40485b">5.自定義 sql(PreparedSql) 增加關聯表名的方法,讓自定義 sql 中,方法沒帶實體 T 的,也能納入緩存管理</span><br><span style="background-color:#ffffff; color:#40485b">6.MongoDB 根據表生成 Javabean,支持生成默認註解</span></p><p>&nbsp;</p><h1><a href="https://my.oschina.net/u/4111850/blog/10759889">一文搞懂數據庫分片：分庫分表，只分庫不分表，只分表不分庫...</a></h1><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://my.oschina.net/u/4111850/blog/10759889">https://my.oschina.net/u/4111850/blog/10759889</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">支持各種分片模式:</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">1. 分庫分表<br> 2. 僅分庫<br> 3. 僅分表<br> 4. 使用日期的字段作為分片鍵<br> 5. 不規則，通過自定義設置映射</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#fafafb">自動生成 Spring Boot 後端微服務代碼，幾秒鐘即可完成，秒殺 GPT.</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/automvc/gencode">https://gitee.com/automvc/gencode</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>下期功能預告:</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>Bee 已經是一個功能很齊全的 ORM 啦，</strong><span>&nbsp;</span>你還想添加什麼功能，請到評論區告訴我們.<span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span>扣羣 (</span><strong>992650213</strong><span style="background-color:#ffffff; color:#40485b">)</span>!</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">項目首頁:</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/automvc/bee" target="_blank">https://gitee.com/automvc/bee</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fautomvc%2Fbee" target="_blank">https://github.com/automvc/bee</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/automvc/bee-springboot">https://gitee.com/automvc/bee-springboot</a></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 09:20:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279815/bee-2-4-0-released</guid>
            <link>https://www.oschina.net/news/279815/bee-2-4-0-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Longhorn 1.6.0 發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="color:#000000">Longhorn 1.6.0 版本現已<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FOhHYIrOKeL7BMg3I9L9LWA" target="_blank">發佈</a>。公告稱，此次發佈標誌着性能提升和多平台支持方面的重要進展。本次更新引入了眾多新功能和改進，包括備受期待的 Longhorn Data Engine version 2.0 的功能預覽、Talos 支持以及對系統穩定性、性能和彈性的增強。</span></p><h4><strong><span style="color:#000000">Longhorn Data Engine version 2.0（技術預覽）</span></strong></h4><p><span style="color:#000000">Longhorn Data Engine version 2.0（v2 Data Engine）的核心功能得到了顯著增強；現在你可以在版本 1 和 2 數據引擎之間無縫執行卷備份和還原操作，為將來在兩個數據引擎之間進行卷遷移鋪平了道路。</span></p><p><span style="color:#000000">Longhorn 的 V2 數據引擎利用 SPDK 的強大功能提升了整體性能。這種集成顯著降低了 I/O 延遲，同時提高了 IOPS 和吞吐量。該增強提供了一種能夠滿足各種工作負載需求的高性能存儲解決方案。</span></p><p><strong><span style="color:#000000">Longhorn 性能 - IOPS：</span></strong></p><p><img height="405" src="https://oscimg.oschina.net/oscnet/up-8543066123c6c22c2ed4426bf5b3d7e21d7.png" width="500" referrerpolicy="no-referrer"></p><p><span style="color:#000000">與 V1 引擎相比，Longhorn 的寫入性能提高了 2 到 4 倍，隨機讀性能提高了 2 到 3 倍，單副本的 IOPS 與本地磁盤相當。</span></p><p><strong><span style="color:#000000">Longhorn 性能 - 延遲：</span></strong></p><p><img height="406" src="https://oscimg.oschina.net/oscnet/up-51308f632391260a66d3fa853c5c2a86d20.png" width="500" referrerpolicy="no-referrer"></p><p><span style="color:#000000">與 V1 引擎相比，Longhorn 的延遲減少了 50-70%，單個副本的讀/寫延遲與本地磁盤相當。</span></p><h4><strong><span style="color:#000000">Talos 支持</span></strong></h4><p><span style="color:#000000">Longhorn 旨在無縫運行在通用 Linux 發行版上，以及某些容器優化系統，例如 SLE Micro。針對眾多請求，v1.6.0 進行了增強，允許在 Talos 上安裝 Longhorn 組件，Talos 是一個安全、不可變且最小化的 Kubernetes 操作系統。v1.6.0 還包括 OKD 支持，感謝社區提供此功能。</span></p><p><span style="color:#000000">Longhorn 團隊致力於使 Longhorn 成為自適應存儲解決方案，並期待收到你對首選平台的反饋。</span></p><h4><strong><span style="color:#000000">空間效率</span></strong></h4><p><span style="color:#000000">現在，Longhorn 還允許你配置所有卷和特定卷的最大快照數量和最大聚合快照大小。無論是全局應用還是個別應用，這兩個設置都有助於空間估算和管理。早期的 Longhorn 版本不提供控制或預測卷快照數量和大小的機制。</span></p><h4><strong><span style="color:#000000">其他重要變化</span></strong></h4><p><span style="color:#000000">Longhorn 1.6.0 發佈的其他重要變化包括：</span></p><ul><li><span style="color:#000000">Longhorn 已經通過了主流的 GitOps 解決方案的驗證，包括 Flux、Argo CD 和 Fleet；</span></li><li><span style="color:#000000">支持 block volume 加密；</span></li><li><span style="color:#000000">兩個新的 node drain 策略選項：阻止驅逐和如果包含最後一個副本則阻止驅逐；</span></li><li><span style="color:#000000">後端鏡像管理，允許創建和恢復後端鏡像的備份。</span></li></ul></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 07:45:17 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279788/longhorn-1-6-0-released</guid>
            <link>https://www.oschina.net/news/279788/longhorn-1-6-0-released</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[夜鶯監控 V7 第一個 beta 版本來了]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>夜鶯項目從 2024 開始開發 V7 版本，重點做體驗優化，V7 和 V6 版本兼容可以平滑升級<span style="background-color:#ffffff; color:#333333">（V6 升級到 V7 只需要替換一下二進制重啓即可，如果是容器部署，只需要更新鏡像並重啓）</span>，今天發佈第一個 beta，此 beta 版本的優化項包括：</p><ul><li>全站暗黑主題</li><li>優化邊緣機房機器失聯告警的實現邏輯，真正做到邊緣機房告警自閉環</li><li>優化內置大盤、內置告警規則的列表頁面 UI</li><li>全局回調地址頁面展示優化，增加詳盡的文檔提示信息</li></ul><p><span style="background-color:#ffffff; color:#333333">更多優化項正在開發中，V5、V6 用户可以放心升級，V7 會是一個更好的版本。升級之前記得備份以防萬一。</span></p><h2>項目介紹</h2><p style="color:#333333; text-align:left">夜鶯監控是一款開源雲原生觀測分析工具，採用 All-in-One 的設計理念，集數據採集、可視化、監控告警、數據分析於一體，與雲原生生態緊密集成，提供開箱即用的企業級監控分析和告警能力。夜鶯於 2020 年 3 月 20 日，在 github 上發佈 v1 版本，已累計迭代 100 多個版本。</p><p style="color:#333333; text-align:left">夜鶯最初由滴滴開發和開源，並於 2022 年 5 月 11 日，捐贈予中國計算機學會開源發展委員會（CCF ODC），為 CCF ODC 成立後接受捐贈的第一個開源項目。夜鶯的核心研發團隊，也是 Open-Falcon 項目原核心研發人員，從 2014 年（Open-Falcon 是 2014 年開源）算起來，也有 10 年了，只為把監控這個事情做好。</p><h2>項目截圖</h2><p style="color:#333333; text-align:left"><img alt="20240221141801" src="https://download.flashcat.cloud/ulric/20240221141801.png" referrerpolicy="no-referrer"></p><p style="color:#333333; text-align:left"><img alt="20240221141817" src="https://download.flashcat.cloud/ulric/20240221141817.png" referrerpolicy="no-referrer"></p><h2>項目代碼</h2><ul><li>後端：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fccfos%2Fnightingale" target="_blank">💡 https://github.com/ccfos/nightingale</a></li><li>前端：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fn9e%2Ffe" target="_blank">💡 https://github.com/n9e/fe</a></li></ul><p style="color:#333333; text-align:left">夜鶯項目已收穫 8000 多 github stars，1000 多 forks，100 多 contributors 參與其中，歡迎大家在<span>&nbsp;</span><strong><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fccfos%2Fnightingale" target="_blank"><strong>GitHub</strong></a></strong><span>&nbsp;</span>上關注夜鶯項目，及時獲取項目更新動態，有任何問題，也歡迎提交 issues，以及提交 pull requests，開源社區需要大家一起參與才能有蓬勃的生命力。</p><p>&nbsp;</p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 04:15:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279741/nightingale-7-0-0-beta-0-released</guid>
            <link>https://www.oschina.net/news/279741/nightingale-7-0-0-beta-0-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[gRPC 1.62.0 發佈，跨語言 RPC 框架]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="background-color:#ffffff; color:#333333">gRPC 是可以在任何環境中運行的現代開源高性能 RPC 框架。gRPC 1.62.0 現已發佈，包含了一些完善、改進和錯誤修復；具體更新內容如下：</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>Core</strong></p><ul><li>[metadata] 允許非應用程序/grpc 內容類型值。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35824" target="_blank">#35824</a>&nbsp;)</li><li>[BoringSSL] 更新 third_party/boringssl-with-bazel。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35768" target="_blank">#35768</a>&nbsp;)</li><li>[GPR] 刪除了 GPR_BACKWARDS_COMPATIBILITY_MODE。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35602" target="_blank">#35602</a>&nbsp;)</li></ul><p style="text-align:start"><strong><span><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>Python</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><ul><li><p>[Build] 剝離 armv7 工件。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35832" target="_blank">#35832</a>&nbsp;)</p></li><li><p>[Python AIO] 獲取當前循環時處理 DeprecationWarnings。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35583" target="_blank">#35583</a>&nbsp;)</p></li><li><p>[Python AIO] 如果超出併發 RPC 限制，則會引發 resource_exhausted 錯誤。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35376" target="_blank">#35376</a>&nbsp;)</p></li><li><p>[Python O11y] 構建並分發 O11y 包。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35578" target="_blank">#35578</a>&nbsp;)</p></li><li><p>[Python setuptools] 從 distutils 中導入低版本 setuptools 時出錯。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35561" target="_blank">#35561</a>&nbsp;)</p></li><li><p>[ruby] 修復 use-after-free for post-fork channel recreation。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35488" target="_blank">#35488</a>&nbsp;)</p></li></ul><p style="text-align:start"><strong><span><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>Ruby</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><ul><li>[ruby] 構建/測試 ruby​​ 3.3 並構建具有 Ruby 3.3 支持的&nbsp;native gem<span style="background-color:#ffffff; color:#1f2328">s</span>。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35399" target="_blank">#35399</a>&nbsp;)</li></ul><p>更新説明：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Freleases%2Ftag%2Fv1.62.0" target="_blank">https://github.com/grpc/grpc/releases/tag/v1.62.0</a></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 02:48:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279723/grpc-1-62-0-released</guid>
            <link>https://www.oschina.net/news/279723/grpc-1-62-0-released</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Spring Cloud Tencent 1.13 版本發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>開發者們，大家好！</p><p>Spring Cloud Tencent 1.13 版本現已發佈，支持 Spring Cloud 2022、2021、2020、Hoxton 版。</p><p>一、發佈項列表：</p><p>1. 1.13.1-2022.0.4<br> 2. 1.13.1-2021.0.9<br> 3. 1.13.1-2020.0.6<br> 4. 1.13.1-Hoxton.SR12</p><p>二、主要更新列表：</p><p>1. 支持配置加密。參考文檔：https://polarismesh.cn/docs/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/%E6%8E%A7%E5%88%B6%E5%8F%B0%E4%BD%BF%E7%94%A8/%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/%E9%85%8D%E7%BD%AE%E5%8A%A0%E5%AF%86/<br> 2. 支持服務契約上報。參考文檔：https://github.com/Tencent/spring-cloud-tencent/wiki/%E6%9C%8D%E5%8A%A1%E5%A5%91%E7%BA%A6<br> 3. Feign 調用下的服務路由支持 cookie 參數的判斷。<br> 4. 支持熔斷規則的 actuator 端點。參考文檔：https://github.com/Tencent/spring-cloud-tencent/wiki/Actuator-Endpoint-%E6%89%A9%E5%B1%95#6-%E6%9C%8D%E5%8A%A1%E7%86%94%E6%96%AD%E7%AB%AF%E7%82%B91130-%E7%89%88%E6%9C%AC%E5%BC%80%E5%A7%8B%E6%8F%90%E4%BE%9B<br> 5. 支持配置日誌輸出路徑。相關配置：spring.cloud.polaris.logging.path<br> 6. 支持 SCT 應用使用 spring-retry 組件的正常功能。<br> 7. 支持 SCT 應用使用 spring-cloud-starter-sleuth 組件的正常功能。<br> 8. 更新 example 代碼結構，並使用 spring-cloud-starter-tencent-all 依賴展示功能。</p><p>三、後續計劃</p><p>1. 支持 Spring Cloud 2023 。<br> 2. 支持服務發現零實例保護。<br> 3. 支持優雅上下線。<br> 4. 動態配置支持多個文件分組的默認配置文件的讀取。<br> 5. 支持服務鑑權。<br> 6. 支持騰訊雲就近路由。<br> 7. 支持 graalvm native-image 。</p><p><br> 歡迎大家使用體驗、Star、Fork、Issue，也歡迎大家參與 Spring Cloud Tencent 開源共建！</p><p>倉庫地址：https://github.com/Tencent/spring-cloud-tencent<br> 項目文檔：https://github.com/Tencent/spring-cloud-tencent/wiki<br> 往期發佈：https://github.com/Tencent/spring-cloud-tencent/releases</p><p>如果您的組織或者項目正在使用或試用 Spring Cloud Tencent，建議您在下方 ISSUE 填寫相關信息，以便獲取更多技術支持。</p><p>https://github.com/Tencent/spring-cloud-tencent/issues/200</p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 02:25:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279718/spring-cloudtencent-1-13-released</guid>
            <link>https://www.oschina.net/news/279718/spring-cloudtencent-1-13-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[PlayEdu 1.6 發佈，企業內部培訓解決方案]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">PlayEdu 是基於 SpringBoot3 + Java17 + React18 開發的企業內部培訓系統。它專注於提供私有化部署方案，包括視頻，圖片等資源的內網部署。目前主要支持有本地視頻上傳播放、學員郵箱登錄、無限級部門、無限級資源分類、學員在線學習等主要功能。</p><h3>更新</h3><ul><li>新增：[後台]視頻上傳最小化懸浮窗</li><li>新增：[後台]線上課創建人字段</li><li>新增：[後台]彈窗組件加載增加 loading</li><li>新增：[後台]系統版本號</li><li>新增：[H5]主頁面下拉刷新</li><li>優化：[後台]去除學員身份證號字段並移除關聯權限</li><li>優化：[PC]線上課課程詳情 tab 交互</li><li>優化：[PC]首頁學習時間不顯示天數</li><li>優化：[PC]刪除無用的 js 依賴</li><li>優化：[PC]安全退出登錄</li><li>優化：[PC]系統錯誤提示</li><li>優化：[PC]部門切換緩存</li><li>優化：[後台]網站設置標題優化</li><li>優化：[後台]刪除無用的依賴</li><li>優化：[後台]刪除資源選擇器上傳資源的按鈕</li><li>優化：[H5]刪除無用依賴</li><li>修復：[PC]pnpm build 和 dev 報錯</li><li>修復：[後台]pnpm build 和 dev 報錯</li><li>修復：[H5]pnpm build 和 dev 報錯</li><li>修復：[H5]iPhone 端底部標籤欄懸浮 bug</li><li>修復：LDAP 用户讀取。現已支持分頁讀取數據</li><li>修復：LDAP 禁用用户不同步信息</li><li>修復：LDAP 禁用禁用禁止登錄系統</li></ul><h3>源代碼</h3><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fplayedu.xyz" target="_blank">https://playedu.xyz</a></li><li><a href="https://gitee.com/playeduxyz/playedu">https://gitee.com/playeduxyz/playedu</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fplayedu%2Fplayedu" target="_blank">https://github.com/playedu/playedu</a></li></ul><h3>頁面展示</h3><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="5562" src="https://oscimg.oschina.net/oscnet/up-44c3b6c8e3283b55f0c529870cac27cd92f.png" width="1600" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="6386" src="https://oscimg.oschina.net/oscnet/up-5e034c2138ee40e33e0875bc5185e43c91c.png" width="1600" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 01:50:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279704</guid>
            <link>https://www.oschina.net/news/279704</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[高性能 Elasticsearch Java RestClient bboss v7.1.6 發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">高性能 Elasticsearch Java RestClient bboss v7.1.6 發佈,<span style="background-color:#ffffff; color:#34495e">ES 小白分分鐘上手，功能豐富，涵蓋 Elasticsearch 所有功能，多集羣多數據源,自動索引託管，多種分頁機制，傻瓜級 CRUD，腳本，sql，jdbc，高亮，權重，聚合，IP 地理位置解析，父子嵌套等，應有盡有。</span></p><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt="" height="217" src="https://esdoc.bbossgroups.com/images/client-Elasticsearch.png" width="611" referrerpolicy="no-referrer"></p><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><strong>主要特點：代碼簡潔，性能高效，客户端負載容災，兼容性好，易於集成</strong></p><ol><li>A highlevel rest client.</li><li>A high performence o/r mapping rest client.</li><li>A dsl and sql rest client.</li><li>Support Elasticsearch 1.x,2.x,5.x,6.x,7.x,8.x,+</li><li>Support Opensearch 1.x,2.x,+</li><li>Support Spring boot 1.x,2.x,3.x</li><li>可在普通 maven 項目和其他 java 工程中快速集成和使用 bboss</li><li>提供豐富的<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fdocument-crud" target="_blank">crud</a>、分頁查詢（<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Ffrom-size" target="_blank">from-size</a>/<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2FScroll-SliceScroll-api" target="_blank">scroll/slicescroll</a>/<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fsearch-after" target="_blank">searchafter</a>）、批處理（同步 /<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2FbulkProcessor" target="_blank">異步</a>）API</li><li>API 返回的結果可以是原始 json 報文、PO 對象、List 集合、Map 對象以及分頁查詢、聚合查詢、高亮檢索封裝對象，亦可以方便獲取索引文檔 id、score、index、version、type 等文檔元數據信息</li></ol><h1><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fchangelog%3Fid%3Dv675-%25e5%258a%259f%25e8%2583%25bd%25e6%2594%25b9%25e8%25bf%259b" target="_blank"><span style="color:#34495e">v7.1.6 功能改進</span></a></h1><ol><li><p style="margin-left:0; margin-right:0">Elasticsearch Client 增加對 spring boot3 的支持，並提供相關案例工程：</p><p style="margin-left:0; margin-right:0"><a href="https://gitee.com/bboss/springboot3-elasticsearch-webservice" target="_blank">https://gitee.com/bboss/springboot3-elasticsearch-webservice</a></p><p style="margin-left:0; margin-right:0"><a href="https://gitee.com/bboss/eshelloword-spring-boot3-starter" target="_blank">https://gitee.com/bboss/eshelloword-spring-boot3-starter</a></p><p style="margin-left:0; margin-right:0"><a href="https://gitee.com/bboss/db-db-job3" target="_blank">https://gitee.com/bboss/db-db-job3</a></p></li><li><p style="margin-left:0; margin-right:0">升級若干第三方依賴開源包版本</p></li></ol><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>快速開始 bboss</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">一般項目導入下面的 maven 座標即可：</p><pre><code><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>dependency</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>groupId</span><span style="color:#525252">&gt;</span></span>com.bbossgroups.plugins<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>groupId</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>artifactId</span><span style="color:#525252">&gt;</span></span>bboss-datatran-jdbc<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>artifactId</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>version</span><span style="color:#525252">&gt;</span></span>7.1.6<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>version</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>dependency</span><span style="color:#525252">&gt;</span></span></code></pre><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">spring boot1.x,2.x 項目還需要導入下面的 maven 座標：</p><pre><code><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>dependency</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>groupId</span><span style="color:#525252">&gt;</span></span>com.bbossgroups.plugins<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>groupId</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>artifactId</span><span style="color:#525252">&gt;</span></span>bboss-elasticsearch-spring-boot-starter<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>artifactId</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>version</span><span style="color:#525252">&gt;</span></span>7.1.6<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>version</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>dependency</span><span style="color:#525252">&gt;</span></span></code></pre><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">spring boot 3.x 項目還需要導入下面的 maven 座標：</p><pre><code><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>dependency</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>groupId</span><span style="color:#525252">&gt;</span></span>com.bbossgroups.plugins<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>groupId</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>artifactId</span><span style="color:#525252">&gt;</span></span>bboss-elasticsearch-spring-boot3-starter<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>artifactId</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>version</span><span style="color:#525252">&gt;</span></span>7.1.6<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>version</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>dependency</span><span style="color:#525252">&gt;</span></span></code></pre><p style="margin-left:0px; margin-right:0px; text-align:start"><strong><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fquickstart%3Fid%3D_2%25e5%25ae%25a2%25e6%2588%25b7%25e7%25ab%25af%25e7%25bb%2584%25e4%25bb%25b6clientinterface%25e5%25ae%259e%25e4%25be%258b%25e8%258e%25b7%25e5%258f%2596" target="_blank"><span style="color:#34495e">獲取</span></a></strong><strong><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fquickstart%3Fid%3D_2%25e5%25ae%25a2%25e6%2588%25b7%25e7%25ab%25af%25e7%25bb%2584%25e4%25bb%25b6clientinterface%25e5%25ae%259e%25e4%25be%258b%25e8%258e%25b7%25e5%258f%2596" target="_blank"><span style="color:#34495e">客户端組件 ClientInterface 實例</span></a></strong></p><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">通過 ElasticSearchHelper 獲取 elasticsearch rest client api 實例：</p><pre><code><span style="color:#8e908c">//創建加載配置文件的客户端實例，單實例多線程安全</span>
ClientInterface clientUtil <span>=</span> ElasticSearchHelper<span style="color:#525252">.</span><span style="color:#e96900">getConfigRestClientUtil</span><span style="color:#525252">(</span><span style="color:var(--theme-color,#42b983)">"esmapper/demo.xml"</span><span style="color:#525252">)</span><span style="color:#525252">;</span><span style="color:#8e908c">//創建直接操作 dsl 的客户端實例，單實例多線程安全</span>
ClientInterface clientUtil <span>=</span> ElasticSearchHelper<span style="color:#525252">.</span><span style="color:#e96900">getRestClientUtil</span><span style="color:#525252">(</span><span style="color:#525252">)</span><span style="color:#525252">;</span></code></pre><p><strong>一行代碼插入/修改</strong></p><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">// 添加 / 修改文檔，如果文檔 id 存在則修改，不存在則插入</p><pre><code>clientUtil<span style="color:#525252">.</span><span style="color:#e96900">addDocument</span><span style="color:#525252">(</span><span style="color:var(--theme-color,#42b983)">"agentinfo"</span><span style="color:#525252">,</span><span style="color:#8e908c">//索引名稱</span>
                data<span style="color:#525252">)</span><span style="color:#525252">;</span><span style="color:#8e908c">//需添加/修改的索引數據對象，</span>data 可以是一般的 PO 對象，也可以是 Map 對象</code></pre><p><strong>一行代碼批量插入/修改文檔</strong></p><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">// 添加 / 修改文檔，如果文檔 id 存在則修改，不存在則插入</p><pre><code>List<span style="color:#e96900"><span style="color:#525252">&lt;</span>AgentInfo<span style="color:#525252">&gt;</span></span> agentInfos <span>=</span><span style="color:#525252">.</span><span style="color:#525252">.</span><span style="color:#525252">.</span><span style="color:#525252">.</span><span style="color:#525252">;</span>
clientUtil<span style="color:#525252">.</span><span style="color:#e96900">addDocuments</span><span style="color:#525252">(</span><span style="color:var(--theme-color,#42b983)">"agentinfo"</span><span style="color:#525252">,</span><span style="color:#8e908c">//索引名稱</span>
                datas<span style="color:#525252">)</span><span style="color:#525252">;</span><span style="color:#8e908c">//需批量添加/修改的索引數據對象集合，</span>datas 可以是一般的 PO 對象集合，也可以是 Map 對象集合</code></pre><p><strong>一行代碼分頁 / 高亮檢索</strong></p><pre><code>ESDatas<span style="color:#e96900"><span style="color:#525252">&lt;</span>TAgentInfo<span style="color:#525252">&gt;</span></span> data <span style="color:#8e908c">//ESDatas 為查詢結果集對象，封裝了返回的當前查詢的 List&lt;TAgentInfo&gt;結果集和符合條件的總記錄數 totalSize</span><span>=</span> clientUtil<span style="color:#525252">.</span><span style="color:#e96900">searchList</span><span style="color:#525252">(</span><span style="color:var(--theme-color,#42b983)">"trace-*/_search"</span><span style="color:#525252">,</span><span style="color:#8e908c">//查詢操作，查詢 indices trace-*中符合條件的數據</span><span style="color:var(--theme-color,#42b983)">"queryServiceByCondition"</span><span style="color:#525252">,</span><span style="color:#8e908c">//通過名稱引用配置文件中的 query dsl 語句</span>
                                traceExtraCriteria<span style="color:#525252">,</span><span style="color:#8e908c">//查詢條件封裝對象</span>
                                TAgentInfo<span style="color:#525252">.</span><span style="color:#e96900">class</span><span style="color:#525252">)</span><span style="color:#525252">;</span><span style="color:#8e908c">//指定返回的 po 對象類型，po 對象中的屬性與 indices 表中的文檔 filed 名稱保持一致</span><span style="color:#8e908c">//獲取當前頁結果對象列表</span>
        List<span style="color:#e96900"><span style="color:#525252">&lt;</span>TAgentInfo<span style="color:#525252">&gt;</span></span> demos <span>=</span> data<span style="color:#525252">.</span><span style="color:#e96900">getDatas</span><span style="color:#525252">(</span><span style="color:#525252">)</span><span style="color:#525252">;</span><span style="color:#8e908c">//獲取總記錄數</span><span style="color:#e96900">long</span> totalSize <span>=</span> data<span style="color:#525252">.</span><span style="color:#e96900">getTotalSize</span><span style="color:#525252">(</span><span style="color:#525252">)</span><span style="color:#525252">;</span></code></pre><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><strong>根據文檔 id 獲取文檔</strong></p><pre><code>Demo demo <span>=</span> clientUtil<span style="color:#525252">.</span><span style="color:#e96900">getDocument</span><span style="color:#525252">(</span><span style="color:var(--theme-color,#42b983)">"demo"</span><span style="color:#525252">,</span><span style="color:#8e908c">//索引表</span><span style="color:var(--theme-color,#42b983)">"2"</span><span style="color:#525252">,</span><span style="color:#8e908c">//文檔 id</span>
      Demo<span style="color:#525252">.</span><span style="color:#e96900">class</span><span style="color:#525252">)</span><span style="color:#525252">;</span><span style="color:#8e908c">//指定返回對象類型</span></code></pre><p><strong>參考文檔：</strong></p><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fquickstart" target="_blank">https://esdoc.bbossgroups.com/#/quickstart</a></p><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fdocument-crud" target="_blank">https://esdoc.bbossgroups.com/#/document-crud</a></p><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fcommon-project-with-bboss" target="_blank">https://esdoc.bbossgroups.com/#/common-project-with-bboss</a></p><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fspring-booter-with-bboss" target="_blank">https://esdoc.bbossgroups.com/#/spring-booter-with-bboss</a></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 01:18:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279703</guid>
            <link>https://www.oschina.net/news/279703</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
    </channel>
</rss>
