<?xml version="1.0" encoding="UTF-8"?>
<rss
    xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"


>
    <channel>
        <title>
            <![CDATA[開源中國-軟件更新資訊]]>
        </title>
        <link>https://www.oschina.net/news/project</link>
        <atom:link href="https://rsshub.app/oschina/news/project" rel="self" type="application/rss+xml" />
        <description>
            <![CDATA[開源中國-軟件更新資訊 - Made with love by RSSHub(https://github.com/DIYgod/RSSHub)]]>
        </description>
        <generator>RSSHub</generator>
        <webMaster>i@diygod.me (DIYgod)</webMaster>
        <language>zh-cn</language>
        <lastBuildDate>Sun, 21 Jan 2024 03:05:32 GMT</lastBuildDate>
        <ttl>120</ttl>
        <item>
            <title>
                <![CDATA[Docker 25.0.0 發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="background-color:#ffffff; color:#333333">Docker 25.0.0 現已發佈，具體更新內容如下：</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong style="color:#333333">New</strong></p><ul><li>添加 OpenTelemetry 跟蹤。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F45652" target="_blank">moby/moby#45652</a>，<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F45579" target="_blank">moby/moby#45579</a></li><li>添加對 Linux 下 CDI 設備的支持。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F45134" target="_blank">moby/moby#45134</a>，<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fdocker%2Fcli%2Fpull%2F4510" target="_blank">docker/cli#4510</a>，<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F46004" target="_blank">moby/moby#46004</a></li><li>添加一個額外的時間間隔，供容器啓動期間運行狀況檢查使用。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F40894" target="_blank">moby/moby#40894</a>，<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fdocker%2Fcli%2Fpull%2F4405" target="_blank">docker/cli#4405</a>，<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F45965" target="_blank">moby/moby#45965</a></li><li>為<code>dockerd</code>添加一個<code>--log-format</code>標誌，來控制日誌記錄格式：文本（默認）或 JSON。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F45737" target="_blank">moby/moby#45737</a></li><li>添加對遞歸只讀掛載的支持。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F45278" target="_blank">moby/moby#45278</a>，<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F46037" target="_blank">moby/moby#46037</a></li><li>添加使用<code>docker image ls --filter=until=&lt;timestamp&gt;</code>對基於時間戳過濾 images 的支持。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F46577" target="_blank">moby/moby#46577</a></li></ul><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong style="color:#333333">Bug fixes and enhancements</strong></p><ul><li>API：修復<code>ValidateRestartPolicy</code>無效策略的錯誤消息。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F46352" target="_blank">moby/moby#46352</a></li><li>API：更新<code>/info</code>端點以使用 singleflight。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F45847" target="_blank">moby/moby#45847</a></li><li>為使用<code>-f</code>和<code>stdin</code>指定 Dockerfile 文件名時添加錯誤信息。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fdocker%2Fcli%2Fpull%2F4346" target="_blank">docker/cli#4346</a></li><li>添加對<code>--network</code>格式的<code>mac-address</code>和<code>link-local-ip</code>字段的支持。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fdocker%2Fcli%2Fpull%2F4419" target="_blank">docker/cli#4419</a></li><li>添加對在<code>docker container create</code>和<code>docker run</code>中指定多個<code>--network</code>標誌的支持。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F45906" target="_blank">moby/moby#45906</a></li><li>指定 IPv6 子網時自動在網絡上啓用 IPv6。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F46455" target="_blank">moby/moby#46455</a></li><li>添加對基於 IPv6 傳輸的覆蓋網絡的支持。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F46790" target="_blank">moby/moby#46790</a></li><li>配置重新加載現在更加穩健：如果在配置重新加載過程中出現錯誤，則不會應用任何配置更改。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F43980" target="_blank">moby/moby#43980</a></li><li>Live restore：具有自動刪除（<code>docker run --rm</code>）功能的容器在引擎重啓時不再被強制刪除。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F46857" target="_blank">moby/moby#46857</a></li><li>Live restore：當守護進程重啓時，live-restored&nbsp;容器現在將獲得另一個運行狀況檢查啓動週期。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F47051" target="_blank">moby/moby#47051</a></li><li>容器健康狀態刷新到磁盤的頻率較低，從而減少了閃存存儲的磨損。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F47044" target="_blank">moby/moby#47044</a></li><li>確保網絡名稱是唯一的。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F46251" target="_blank">moby/moby#46251</a></li><li>確保 overlay2 層元數據正確。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F46471" target="_blank">moby/moby#46471</a></li><li>修復 image pull 時的<code>Downloading</code>進度消息。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F46515" target="_blank">moby/moby#46515</a></li><li>......</li></ul><p style="text-align:start"><strong><span><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>Packaging updates</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><ul><li>將 API 升級到 v1.44。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F45468" target="_blank">moby/moby#45468</a></li><li>將 Compose 升級到<code>2.24.1</code>。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fdocker%2Fdocker-ce-packaging%2Fpull%2F980" target="_blank">docker/docker-ce-packaging#980</a></li><li>將 containerd 升級到 v1.7.12（僅限靜態二進制文件）。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F47070" target="_blank">moby/moby#47070</a></li><li>將 Go 運行時升級到&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgo.dev%2Fdoc%2Fdevel%2Frelease%23go1.21.minor" target="_blank">1.21.6</a>。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F47053" target="_blank">moby/moby#47053</a></li><li>將 runc 升級到 v1.1.11。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F47007" target="_blank">moby/moby#47007</a></li><li>將 BuildKit 升級到 v0.12.4。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F46882" target="_blank">moby/moby#46882</a></li><li>將 Buildx 升級到 v0.12.1。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fdocker%2Fdocker-ce-packaging%2Fpull%2F979" target="_blank">docker/docker-ce-packaging#979</a></li></ul><p style="text-align:start"><strong><span><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>Removed</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><ul><li>API：移除<code>GET /images/json</code>和<code>GET /images/{id}/json</code>端點的 VirtualSize 字段。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F45469" target="_blank">moby/moby#45469</a></li><li>刪除已棄用的<code>devicemapper</code>存儲驅動程序。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F43637" target="_blank">moby/moby#43637</a></li><li>刪除已棄用的協調器選項。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fdocker%2Fcli%2Fpull%2F4366" target="_blank">docker/cli#4366</a></li><li>刪除對 Debian Upstart init 系統的支持。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F45548" target="_blank">moby/moby#45548</a>，<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F45551" target="_blank">moby/moby#45551</a></li><li>刪除<code>--oom-score-adjust</code>守護進程選項。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F45484" target="_blank">moby/moby#45484</a></li><li>刪除已棄用的<code>~/.dockercfg</code>文件警告。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fdocker%2Fcli%2Fpull%2F4281" target="_blank">docker/cli#4281</a></li><li>刪除<code>logentries</code>logging driver。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F46925" target="_blank">moby/moby#46925</a></li></ul><p style="text-align:start"><strong><span><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>Deprecated</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><ul><li>棄用 1.24 之前的 API 版本。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fblob%2Fdeprecated.md%23deprecate-legacy-api-versions" target="_blank">棄用通知</a></li><li>棄用用於<code>docker search</code>的<code>IsAutomated</code>字段和<code>is-automated</code>filter&nbsp;。&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fblob%2Fdeprecated.md%23isautomated-field-and-is-automated-filter-on-docker-search" target="_blank">棄用通知</a></li><li>API：棄用<code>/images/{id}/json</code>(<code>docker image inspect</code>) 的<code>Container</code>及其<code>ContainerConfig</code>屬性。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Fpull%2F46939" target="_blank">moby/moby#46939</a></li></ul><p>詳情可查看更新説明：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmoby%2Fmoby%2Freleases%2Ftag%2Fv25.0.0" target="_blank">https://github.com/moby/moby/releases/tag/v25.0.0</a></p><p>&nbsp;</p></div>
                                    ]]>
            </description>
            <pubDate>Sun, 21 Jan 2024 02:44:28 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276262/docker-25-0-0-released</guid>
            <link>https://www.oschina.net/news/276262/docker-25-0-0-released</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[MooTool 1.6.0 發佈，開發者常備小工具]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">MooTool 1.6.0 已發佈，這是一個用 Java 編寫的開發者常備桌面小工具集。</p><h3><strong>更新內容</strong></h3><div><ul><li>JSON 工具支持壓縮，格式化支持按 key 字母排序、忽略 key 字母大小寫、檢查重複 key，支持 JSON 和 XML 互轉，支持通過 JSON Path 取值</li></ul><p style="margin-left:0; margin-right:0"><strong>下載地址：</strong><a href="https://gitee.com/zhoubochina/MooTool/releases">https://gitee.com/zhoubochina/MooTool/releases</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/quick_note_2_mac.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/quick_replace_mac.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/time_mac_2.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/json_mac_2.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/host_mac_2.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/http_mac_2.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/encode_mac_2.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/qr_code_mac_2.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/crypto_mac_2.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/calculator_mac_2.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/net_mac_2.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/color_board_mac_2.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/regex_mac_2.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/cron_mac_2.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/java_mac_2.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/mt-favoriteColor.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/quick_note_light_mac.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Overview" src="https://gitee.com/zhoubochina/MooTool/raw/master/screen_shoot/theme.png" referrerpolicy="no-referrer"></p></div></div>
                                    ]]>
            </description>
            <pubDate>Sun, 21 Jan 2024 02:19:28 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276258/mootool-1-6-0-released</guid>
            <link>https://www.oschina.net/news/276258/mootool-1-6-0-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Taro 3.6.23 發佈，BAT 小程序、H5 與 RN 端統一框架]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="color:#333333">Taro 3.6.23 現已發佈。Taro 是一個開放式跨端跨框架解決方案，支持使用 React/Vue/Nerv 等框架來開發微信 / 京東 / 百度 / 支付寶 / 字節跳動 / QQ 小程序 / H5 等應用。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="color:#333333">此版本具體更新內容如下：</span></p><h4><strong>特性</strong></h4><ul><li>新增了 H5/RN 的表單組件支持使用 defaultValue 屬性來設置初始值</li><li>更新了 CI，降低 Ubuntu 版本到 20.04</li></ul><p style="text-align:start"><strong>小程序</strong></p><ul><li>新增了抖音小程序對 awesome-user-card 的支持，用於關注抖音號</li><li>提升了 CompileMode 的小程序兼容性：支持支付寶小程序的事件名，兼容百度、支付寶小程序中模板不能循環引用的問題，兼容各小程序的 wxs 引用語法</li></ul><p style="text-align:start"><strong>H5</strong></p><ul><li>Request 模塊新增了 abort 接口，以適配小程序的 requestTask.abort 方法</li></ul><p style="text-align:start"><strong>鴻蒙</strong></p><ul><li>新增了 hybrid 模式的編譯支持</li><li>降低了 taro-platform-harmony-hybrid 的 Rollup 版本號</li></ul><h4><strong>修復</strong></h4><ul><li>更新了運行時依賴文件，包括代碼抖動方式、構建模式、路由模式等</li><li>修復了 H5/RN 表單組件沒有正確處理是否受控的問題</li><li>更新了測試覆蓋率 CI</li><li>優化了獲取 scrollTop 的錯誤處理邏輯</li></ul><p style="text-align:start"><strong>小程序</strong></p><ul><li>修復了在 IDEA 中缺少 TS 類型提示的問題，移除 tsconfig.json 中不必要的 baseUrl 配置項</li></ul><p style="text-align:start"><strong>H5</strong></p><ul><li>修復了 harmony-hybrid 配置導致 H5 Babel 配置被覆蓋的問題</li><li>移除了組件全局樣式中的 weui 樣式依賴，減少不可抖動的樣式體積</li><li>優化了初始項目包體積的抖動問題</li><li>修復了 timeout 默認值不生效的問題</li><li>修復了默認模板中 Jest 無法匹配到單元測試文件導致無法運行 Jest 的問題</li><li>優化了在啓用動畫時禁用頁面滾動，以避免 iOS 設備上觸底頁面彈動遮擋的問題</li><li>優化了 swiper 組件在複製節點後可能出現的報錯問題添加容錯處理</li></ul><p style="text-align:start"><strong>RN</strong></p><ul><li>優化了 clickable 組件，使得 1000 節點渲染速度提升了 20%</li><li>修復了當使用 resource 全局注入 SCSS 時可能導致報錯的問題</li></ul><h4><strong>Typings</strong></h4><ul><li>更新了 Canvas API</li><li>更新了與開放接口相關的 API 的類型定義</li><li>修復了在開啓 darkmode 頁面配置下的屬性類型問題</li></ul><p>更新説明：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FNervJS%2Ftaro%2Freleases%2Ftag%2Fv3.6.23" target="_blank">https://github.com/NervJS/taro/releases/tag/v3.6.23</a></p></div>
                                    ]]>
            </description>
            <pubDate>Sun, 21 Jan 2024 02:08:28 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276257/taro-3-6-23-released</guid>
            <link>https://www.oschina.net/news/276257/taro-3-6-23-released</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[高性能跨平台網絡通信框架 HP-Socket v5.9.5]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fldcsaa%2FHP-Socket" target="_blank"><img alt="HP-Socket" src="http://static.oschina.net/uploads/space/2013/0609/023923_mORT_867443.png" referrerpolicy="no-referrer"></a></p><ul><li>項目主頁&nbsp;:&nbsp;<a href="http://www.oschina.net/p/hp-socket" target="_blank">http://www.oschina.net/p/hp-socket</a></li><li>開發文檔&nbsp;: <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.docin.com%2Fp-4478351216.html" target="_blank">https://www.docin.com/p-4478351216.html</a></li><li>下載地址&nbsp;: <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fldcsaa%2FHP-Socket" target="_blank">https://github.com/ldcsaa/HP-Socket</a></li></ul><hr><h2><span style="background-color:#ffffff"><strong>v5.9.5 更新</strong></span></h2><p><strong>一、主要更新</strong></p><ol><li>問題修復：由於 v5.9.4 版本升級了 KCP 導致 UDP ARQ 組件不可用</li></ol><p><strong>二、第三方庫更新</strong></p><ol><li>openssl 升級到 3.0.12 版本</li><li>llhttp 升級到 9.1.3 版本</li><li>brotli 升級到 1.1.0 版本</li></ol><hr><h2><span style="background-color:#ffffff"><strong>HP-Socket 組件列表</strong></span></h2><ol><li><span style="background-color:#ffffff"><strong>基礎組件<br><img alt="" height="646" src="https://oscimg.oschina.net/oscnet/up-42bad6a83208cda6aaa264ed00e5c328326.JPEG" referrerpolicy="no-referrer"></strong></span></li><li><span style="background-color:#ffffff"><strong>SSL 組件<br><img alt="" height="429" src="https://oscimg.oschina.net/oscnet/up-481b7e4181c1e57dbe57cf0f4f328d7d227.JPEG" referrerpolicy="no-referrer"></strong></span></li><li><span style="background-color:#ffffff"><strong>HTTP 組件<br><img alt="" height="386" src="https://oscimg.oschina.net/oscnet/up-83092ff97598f275e3ca6b7abed679d4f61.JPEG" referrerpolicy="no-referrer"></strong></span></li></ol><hr></div>
                                    ]]>
            </description>
            <pubDate>Sat, 20 Jan 2024 16:46:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276254/hp-socket-5-9-5-released</guid>
            <link>https://www.oschina.net/news/276254/hp-socket-5-9-5-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Codes 重新定義 SaaS 模式的研發管理平台開源版 4.3.1 發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#111926">Codes 重新定義 SaaS 模式:</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#5d6c83">雲端認證 + 程序及數據本地安裝 + 不限功能 + 30 人免費</span></strong></p><p><img height="689" src="https://oscimg.oschina.net/oscnet/up-94faa95a9816aab8a8db3a0fda850cb7ebe.png" width="1080" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>一：codes&nbsp;簡介</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#40485b">Codes&nbsp; 是一個&nbsp;高效、簡潔、輕量的一站式研發管理平台。包含需求管理，任務管理，測試管理，缺陷管理，自動化測試，cicd&nbsp;等功能； Codes 幫助企業加速融合研發、測試、運維一體化進程，常態下，刀耕火種的 Test 環節給自動化的 Dev 與 Ops 踩下了剎車。 Codes 以技術最薄弱，最不被重視的測試為發力點，通過落地敏捷測試打通了研發與運維中間的樞鈕潤滑環節。 解決了 Test 在 DevOps 快速迭代中的木桶效應，促進了研發、測試、運維一體化融合進程。</span><strong>商業版不限功能，本地安裝只限用戶數，30 個用戶免費</strong><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span>; 社區版當前只開放了測試跟蹤管理 (主要功能用例管理，缺陷管理)，後續接着分離其他功能代碼出來。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="color:#333333">Codes 幫助 it 企業數字化轉型，實現降本增效；以便捷的方式給管理人員以上帝視角來審視軟件研發全流程；以不增加負擔的方式，讓執行人員高效協同，使執行過程事找人、透明化、可追溯；圍繞需求拉通所有研發活動，全場景業務數據慣通不割裂。</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><strong>官網&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Ficodes.work" target="_blank">icodes.work</a></strong></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>二：4.3.1&nbsp; 更新説明</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>主要是 bug&nbsp;修復，一共 4 個 bug fixed ，加 24 個更新</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>4.3.1 版 24 個更新：</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">1、用例庫中用例可以維護（增刪改）<br> 2、用例庫中可以從 excel 導入用例 ，且可以同步線下修改<br> 3、用例庫中可以導出 excel 格式導出，線下修改後，再同步回來，導入時，支持新導和同步線下修改一起<br> 4、用例庫，交互方式重寫 ，類別維護和用例維護一個頁面中，左面的樹上面有類別維護按鈕，右面 grid 是用例<br> 5、mysql &nbsp;5.7 不改數據庫日期設置增加不了角色的問題 &nbsp;&nbsp;<br> 6、提交測試需求時，加檢查，有沒有增加測試需求 &nbsp; &nbsp; &nbsp;&nbsp;<br> 7、執行用例，不選版本，手動填一個時，執行會報錯，不應該讓手填，只能選 &nbsp; &nbsp;<br> 8、缺陷查詢頁面，流轉到我及備註加亮色，以及更容易注意到&nbsp;<br> 9: &nbsp;沒提交測試需求之前，需求項可以刪除 &nbsp; &nbsp; &nbsp;<br> 10、把用例，剪切，到其它位置，用例執行狀態，會 恢復到 「未測試」 狀態 ，需要重新執行一遍 &nbsp;，已經修改，不用重新執行了<br> 11、導入導出時，也導入或是導出備註，<br> 12、 版本間提交及 BUG 總建趨勢統計，被邏輯刪險的版本也要顯示 ，因為有 BUG 數據的版本才邏輯刪除 &nbsp; 優化&nbsp;<br> 13、日執行用例趨勢及明細，執行圖上執行成本換為執行成本單位，使執行用例數和成本的數值在一下量級方便查看&nbsp;<br> 14、看板上執行測試包用例，如用例有附件，顯示有符件的曲別針標識被擠下來了<br> 15、迭代，項目，用例庫，缺陷管理，用例管理，用例包的快速查詢，統一樣式&nbsp;<br> 16、BUG 處理界面，測試人員，開發人員，責任人，改為只讀。 都通過流程流轉來處理，不能直接更改相關人員&nbsp;<br> 17、啓動的時候，如有升級數據的 SQL，自動執行，之前是手動點設置菜單下的升級數據庫&nbsp;<br> 18、從看板，或是迭代中執行用例包的用例時，在用例包中設置的執行版本，在執行頁面，中卻沒有缺省顯示這個版本 ，還需要手動選一下&nbsp;<br> 19、解決 fireofx 下切換項目的彈窗裏的 GIRD 有時不撐開的問題.&nbsp;<br> 20、用例包名稱別改更寬，現在的太小，7 個字後就... 了不方全閲讀， 雖然光標指上去會懸停顯示全稱&nbsp;<br> 21、開發人員在處理 BUG 時，可以填寫具體原及或是所修改的文件，等，增加了一個分段提醒他這裏可以填寫，之前開發人員處理 BUG 時，這塊是隻讀。<br> 22、用例包列表調整各列大小，以顯示全用例包名，而不是光標指向後再顯示全名，<br> 23、處理 BUG 後台有一個臨時的 List 且裏面有 70 多條記錄，前端沒有用但也帶到前端了，己在後端設置為 null&nbsp;<br> 24、用戶管理，用戶組管理，角色管理的快速查詢統一樣式</p><p>&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>4.3.1 版 4 個 bug 修復：</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">1、把當前在測試互驗的流程上的 BUG 處理為，不再現 / 需提供更多信息，，然後把下一流程分配也取消了，這時在測試互驗流程上，處理該 BUG 的人員再處理這 BUG，且把狀態改為待改 / 再現時，發現沒法流轉給開人發員&nbsp;<br> 2、修復登錄人只參與一個項目時，點測試菜單後直接跳轉，收縮左則菜單的圖標不見了，切換到任務菜下，點出現收縮菜單的圖標後，再切換回測試時，然後然收縮 &nbsp; 左則菜單，時，左則菜單拆行，且右面內容區顯示的是看板 &nbsp;<br> 3、從用例庫導入用例後，在測試總攬中，因沒有初始化用例狀態，導致用例統計信息不顯示的 &nbsp;<br> 4、因打包時文件少一個導致從看板中處理 BUG 時報 404 的 BUG &nbsp;</p><p>&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>三：功能界面截屏</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#333333">對研發全場景數據進行多維度分析，幫助團隊進行效能的持續改進，幫助企業深耕研發效能</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-6adbcecfb7067ab281ecfadfe02943350b1.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="1308" src="https://oscimg.oschina.net/oscnet/up-fe045fd2b717b4499d6245be6d2b052349e.png" width="2151" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#333333">敏捷與瀑布融合，有迭代也有 PMO 關注的里程碑</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="1400" src="https://oscimg.oschina.net/oscnet/up-f6f4609111b363abd9760c6019b98f4ffa8.png" width="2240" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span><span>​</span></span><span style="background-color:#ffffff; color:#333333">待辦排名，一目瞭然當前進度瓶頸</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-34d711f7fc6f11e69964e76afe679b10f1c.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#333333">工作負載以日曆和甘特圖的形式顯示，直觀快捷</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-09d7d63c4e1bdd5e872f5d31a8eb37ec9d7.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>風險分析中以拓補圖的方式查看風險事項</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">數據來自工時日報中彙報的風險</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="1008" src="https://oscimg.oschina.net/oscnet/up-0ceff85dfa412abc7a3e0514ce425a2203c.png" width="1978" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>測試，開發，產品產出及工時&nbsp;一目瞭然</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="910" src="https://oscimg.oschina.net/oscnet/up-dec34fadc113b30bf8bd3125642d593aa49.png" width="2151" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#333333">生成式全局看板，通過查詢條件來定義看板，可定製不同的查詢並保存</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#333333">且可在看板上處理一切事務，如處事缺陷入流轉，執行用例，處理任務，執行迭代事項</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-cc48b5f660e7d971aa22451d999cb6faac8.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#333333">多種視圖模式，滿足不同需要，圍繞需求拉通所有研發活動，確保幹係人信息對齊，一個頁面實現主要研發活動的聯動</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#333333">再也不會在需求下不能直觀看到任務和用例了</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-d6afb8e19ff3f5ca37607629d64d9d6683d.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#333333">需求下有用任務，或子需求&nbsp;用任務或子需求的工時來推算父需求的工時，如需注多有也是層層推算</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-679aa985289813b1217658de2f0659cb5a2.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#333333">多事項迭代，從需求到測試到上線&nbsp;形開閉環</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">從需求，到任務，到用例，到測試，到缺陷，到自動化測試到上線，一個完整的閉環，並自動生成迭代總結並存檔</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">需求評審後，規化到迭代中，然後開發人員拆分需求為任務，同時測試可寫測試用例，過程中間的產出放到</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">迭代的交付物中，自動和項目文檔關聯，在發佈中定義上線事項及執行人</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-207c01d9ee7d616722cbe8c9ffa545be217.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>迭代總結</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="980" src="https://oscimg.oschina.net/oscnet/up-08a06d046bc7954344449b8856d07ecac98.png" width="1818" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>迭代報告中除了總覽外其他幾個 TAB 全為各分項數據明細&nbsp;</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="892" src="https://oscimg.oschina.net/oscnet/up-f9e80d2cbe5c7c8a60564fa0f14412cac35.png" width="1817" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#191b1f">圍繞需求拉通所有研發活動</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><p style="color:#404040; margin-left:0; margin-right:0; text-align:start">在需求下可以直接把需求分解為任務，編寫用例；</p><div><div><p style="margin-left:0; margin-right:0"><img height="572" src="https://oscimg.oschina.net/oscnet/up-d106a11fe0c6c627b7e986cb5b97ee333be.png" width="1200" referrerpolicy="no-referrer"></p><p style="margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#404040">需求祥情中，也能覆盤需求，從提出需求到測試及上線的明細</span></p></div></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="967" src="https://oscimg.oschina.net/oscnet/up-9add63757354028801b402ccf8d6522ebf2.png" width="1572" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>任務管理，任務可從需求分解而來，也可是獨立的任務，然後走任務的處理流程（可開關設置）</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#111926">開啓單任務處理流程時，也就是隻要任務沒關聯需求，就要走處理流程,也就是創建任務並填指派任務到人----&gt;指派人排期----&gt;負責人審批----&gt;任務實現</span></p><p><img height="1141" src="https://oscimg.oschina.net/oscnet/up-c03a6dbd9cd8022dab5d1c4ced712fb8a9f.png" width="1932" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#333333">迭代下任務或任務管理中任務，可從負責&nbsp;人，任務類型，優先級，需求來分組顯示</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-a3f249baccdd47a7cab3909b1c7542a331b.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="1209" src="https://oscimg.oschina.net/oscnet/up-53f736d94d135645f26c342bd7df60e29fc.png" width="2127" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#191b1f">日報與工時整合，以批量的形式分分鐘填好工時，讓煩人的工時，不再煩人！，並自動生成項目日報方便 PM 查閲，工時可以配置無審批，或 PM 審批，部門負責人審批</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#333333">自動列出當日事項，在其後填寫工時，缺陷及用例都計算了工時，可以完整統計迭代進度，項目進度，以及部門工時。按支持層層下鑽到人，如項目下鑽到迭代，再從迭代下鑽到人，或是從部門下鑽到人</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-299736c29a88fcf5852c75586b479d98edd.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-1a557f5ffa5c01cfcb1c376f730b57be994.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#333333">以迭代的方式來組織測試，比傳統的測試計劃更便於管理</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="1041" src="https://oscimg.oschina.net/oscnet/up-c7fec603c316687ecf17e7d053069cff93d.png" width="1413" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-3ab42eb2fb386872e14d3389e950ab2f038.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#333333">零代碼拖拽式實現代碼的編譯和部署</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-693acce6865fc2ccd7c8af95d87ace710be.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#333333">零代碼拖拽式進行接口自動化編排</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-9e840f7edf3da7c13586d292f7255fb2af9.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#333333">自動推導接口依賴拓補關係圖，讓接口關係不再是黑匣子，便捷的接口調用鏈</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-5d6296dd4b63ca93912b9025366dd1eaf5e.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#333333">拖拽生成斷言和拖拽提取參數，讓接口測試傻瓜化； 創新式接口混沌測試，瞬間完成接口健壯性測試。</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img src="https://oscimg.oschina.net/oscnet/up-418f33ad28ba511633fc6041bc8b36ae3d0.png" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>最後打一個總結</strong><strong>：Codes 是一個：簡單、輕量、超低學習成本的研發管理平台，不限功能 30 人免費，本地安裝。創新性 SaaS 模式，零代碼接口測試，零代碼壓力測試、零代碼 CI CD 流水線編排等。<span>下面是圖説 Codes：</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="3227" src="https://oscimg.oschina.net/oscnet/up-95ef72e0d10a678fc9097e0af4ce27917aa.jpg" width="1080" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Sat, 20 Jan 2024 05:49:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276224/codes-4-3-1-released</guid>
            <link>https://www.oschina.net/news/276224/codes-4-3-1-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[🎉 領域模型即服務 | Wow 2.14.2 發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><a href="https://ahoowang.gitee.io/wow/"><img alt="Wow:基於 DDD、EventSourcing 的現代響應式 CQRS 架構微服務開發框架" src="https://static.oschina.net/uploads/img/202312/13135012_Zb9v.svg" width="150" referrerpolicy="no-referrer"></a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><strong>領域驅動</strong><span>&nbsp;</span>|<span>&nbsp;</span><strong>事件驅動</strong><span>&nbsp;</span>|<span>&nbsp;</span><strong>測試驅動</strong><span>&nbsp;</span>|<span>&nbsp;</span><strong>聲明式設計</strong><span>&nbsp;</span>|<span>&nbsp;</span><strong>響應式編程</strong><span>&nbsp;</span>|<span>&nbsp;</span><strong>命令查詢職責分離</strong><span>&nbsp;</span>|<span>&nbsp;</span><strong>事件溯源</strong></p><blockquote><p style="margin-left:0; margin-right:0"><strong>官方文檔：</strong><img alt="👉" height="14" src="https://cn-assets.gitee.com/assets/emoji/point_right-8d392cf32998e3bca12bb7b4ee10dae0.png" width="14" referrerpolicy="no-referrer"><span>&nbsp;</span><a href="https://ahoowang.gitee.io/wow/" target="_blank">https://ahoowang.gitee.io/wow/</a><span>&nbsp;</span><img alt="👈" height="14" src="https://cn-assets.gitee.com/assets/emoji/point_left-4570b6929b8880ab2e8b8031007fef18.png" width="14" referrerpolicy="no-referrer"></p></blockquote><h2>更新內容</h2><ul><li>特性 (compensation): 使用<span>&nbsp;</span><a href="https://gitee.com/AhooWang/CoApi" target="_blank">CoApi</a><span>&nbsp;</span>替換<code>WebClient</code>實現微信機器人 API</li><li>特性 (doc): 將<span>&nbsp;</span><a href="https://gitee.com/AhooWang/CoApi" target="_blank">CoApi</a><span>&nbsp;</span>添加到<span>&nbsp;</span><em>Awesome Microservices</em></li><li>依賴: 升級<span>&nbsp;</span><code>angular</code><span>&nbsp;</span>到<span>&nbsp;</span><code>v17.1.0</code></li><li>依賴: 升級<span>&nbsp;</span><a href="https://gitee.com/AhooWang/CoApi" target="_blank">CoApi</a><span>&nbsp;</span>到<span>&nbsp;</span><code>v0.6.0</code></li><li>依賴: 升級<span>&nbsp;</span><a href="https://gitee.com/AhooWang/CosId" target="_blank">CosId</a><span>&nbsp;</span>到<span>&nbsp;</span><code>v2.6.5</code></li><li>依賴: 升級<span>&nbsp;</span><code>ksp</code><span>&nbsp;</span>版本，到<span>&nbsp;</span><code>v1.9.22-1.0.17</code></li><li>依賴: 升級<span>&nbsp;</span><code>org.springframework.boot:spring-boot-dependencies</code><span>&nbsp;</span>版本，到<span>&nbsp;</span><code>v3.2.2</code></li></ul><h2>簡介</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em>Wow</em><span>&nbsp;</span>是一個基於領域驅動設計和事件溯源的現代響應式<span>&nbsp;</span><em>CQRS</em><span>&nbsp;</span>微服務開發框架，歷經多年生產環境驗證。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">旨在幫助開發者構建現代化的、高性能且易於維護的微服務應用程序，充分發揮領域驅動設計和事件溯源等模式優勢的同時降低應用的複雜性以及實踐成本。</p><blockquote><p style="margin-left:0; margin-right:0">值得一提的是，領域驅動設計和事件溯源並非微服務架構的專屬，<em>Wow</em><span>&nbsp;</span>框架不僅適用於微服務開發，同樣也可用於構建基於領域驅動設計的單體應用程序。</p></blockquote><h2>快速開始</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://ahoowang.gitee.io/wow/guide/getting-started.html">使用 Wow 項目模板快速創建基於 Wow 框架的 DDD 項目</a></p><h2>特性概覽</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Wow-Features" src="https://gitee.com/AhooWang/Wow/raw/main/documentation/docs/public/images/Features.png" referrerpolicy="no-referrer"></p><h2>架構圖</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Wow-Architecture" src="https://gitee.com/AhooWang/Wow/raw/main/documentation/docs/public/images/Architecture.svg" referrerpolicy="no-referrer"></p><h2>背景</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">隨着業務的發展和複雜性的增加，傳統的架構和開發方式逐漸顯露出瓶頸。<em>領域驅動設計</em>和<em>事件溯源</em>等理念在提高系統設計的靈活性和可維護性方面表現出色，但在實踐中常常需要面對複雜性和學習曲線的挑戰。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em>Wow</em><span>&nbsp;</span>框架的目標是以簡單易用的方式將領域驅動設計和事件溯源等理念融入到微服務應用開發中，降低開發者的學習成本，提高開發效率。 通過提供現代響應式的<span>&nbsp;</span><em>CQRS</em><span>&nbsp;</span>架構和相關組件，<em>Wow</em><span>&nbsp;</span>框架旨在讓開發者更專注於業務邏輯的實現，而不必過多關心底層技術細節。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">經過多年的實踐和不斷的演進，<em>Wow</em><span>&nbsp;</span>框架在生產環境中得到了驗證，積累了豐富的經驗。這些經驗和反饋不僅豐富了框架的功能和性能，也為持續的改進和優化提供了寶貴的指導。</p><h2>對於開發者而言，<em>Wow</em><span>&nbsp;</span>框架意味着什麼？</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">我曾告誡我的團隊：如果我們過於依賴<em>數據驅動設計</em>而忽視<em>領域驅動設計</em>，我們最終將淪為<span>&nbsp;</span><em>CRUD</em><span>&nbsp;</span>工程師。</p><blockquote><p style="margin-left:0; margin-right:0"><em>CRUD</em><span>&nbsp;</span>工程師的競爭力和可替代性可想而知，這或許是為何會有<span>&nbsp;</span><em>35</em><span>&nbsp;</span>歲效應，企業顯然更傾向於招募沒有太多生活羈絆、更加廉價的<span>&nbsp;</span><em>25</em><span>&nbsp;</span>歲<span>&nbsp;</span><em>CRUD</em><span>&nbsp;</span>工程師。</p></blockquote><h3>業務價值</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">軟件系統的核心價值體現在業務價值上，研發人員不應只關注技術實現上，而是應該更多地關注業務價值的實現。 這其中的好處顯而易見，當你開發完一個業務系統之後，你將變成一個業務專家，甚至比跟你合作的領域專家還要專業，因為你需要洞察業務細節。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">使用<span>&nbsp;</span><em>Wow</em><span>&nbsp;</span>框架，意味着你將關注點放在圍繞領域模型設計上，與業務專家一起探索業務領域，而不是關注於技術實現上。 你僅需編寫領域模型，即可完成服務開發，<em>Wow</em><span>&nbsp;</span>框架自動為你準備好<span>&nbsp;</span><em>OpenAPI</em><span>&nbsp;</span>接口。</p><blockquote><p style="margin-left:0; margin-right:0">在《實現領域驅動設計》一書中，作者 Vaughn Vernon 提到：核心域才值得投入精力進行領域驅動設計， 但如果你使用<span>&nbsp;</span><em>Wow</em><span>&nbsp;</span>框架，你將發現，因為低廉開發成本、快速的開發效率，即使是次要的支撐子域也值得<span>&nbsp;</span><em>DDD</em>。</p></blockquote><h3>性能與伸縮性</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">隨着業務的發展，你需要開始思考系統的性能和伸縮性問題。 在傳統架構中，這牽扯到數據庫關係模式、分片規則等複雜問題，同時你還需要處理因數據庫分片導致的跨分片事務問題。 這時，你不得不修改你的業務代碼，以適應水平拆分後的數據庫架構。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">然而，如果你選擇使用<span>&nbsp;</span><em>Wow</em><span>&nbsp;</span>框架，你將不再需要過多關注數據庫關係模式、分片規則等問題。你的業務代碼無需變更，系統能夠輕鬆實現水平伸縮。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">你可以在這裏瞭解更多關於<span>&nbsp;</span><a href="https://ahoowang.gitee.io/wow/guide/perf-test.html">Wow 框架的性能</a>。</p><h3>讀寫分離與同步延遲</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">讀寫分離是一種極為普遍的性能優化架構模式。 然而，同步延遲問題常伴隨而來，事務執行成功後寫庫落庫成功，但讀庫同步延遲，用戶刷新頁面後無法獲取最新數據，從而對用戶的體驗產生影響。例如：</p><ul><li>用戶發起下單事務，寫庫執行成功，但由於某種原因，讀庫同步延遲，用戶刷新頁面後發現訂單未成功創建。</li><li>商家編輯完商品後，同步到<span>&nbsp;</span><em>Elasticsearch</em><span>&nbsp;</span>索引庫，但由於某種原因，同步延遲，導致商家刷新頁面後搜索不到該商品。</li></ul><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">通常，大家採用最簡便的方法，等待 1 秒後刷新頁面。 雖然這種方式能解決大多數數據同步延遲的問題，但效率不夠高。 因為大多數情況下，同步在 100 毫秒內就已完成，剩餘的 900 毫秒成了<em>浪費</em>。 然而，有時 1 秒無法完成同步，這就導致用戶獲取的數據變得<strong>無效</strong>。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">使用<span>&nbsp;</span><em>Wow</em><span>&nbsp;</span>框架，你可以通過等待<span>&nbsp;</span><em>PROJECTED</em><span>&nbsp;</span>信號完成，然後再將結果返回給用戶，以更為優雅和高效的方式處理數據同步延遲的問題。</p><h3>工程質量</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em>單元測試</em>是確保代碼質量且符合預期業務需求的重要手段，但在傳統架構中，單元測試往往是一項相當困難的任務，因為你需要考慮數據庫連接、事務管理、數據清理等問題。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">使用<span>&nbsp;</span><em>Wow</em><span>&nbsp;</span>框架，你將會發現基於<span>&nbsp;</span><em>Given-&gt;When-&gt;Expect</em><span>&nbsp;</span>模式的測試套件，使得單元測試變得異常簡單。 你只需關注領域模型是否符合預期，而無需為數據庫連接等問題煩惱。</p><blockquote><p style="margin-left:0; margin-right:0">在實際應用中，我們將領域模型的單元測試覆蓋率下限閾值設置為<span>&nbsp;</span><strong>85%</strong>，也是可以輕鬆實現的。</p><p style="margin-left:0; margin-right:0">在沒有刻意要求的情況下，開發人員甚至自覺地將覆蓋率提升至<span>&nbsp;</span><strong>95%</strong>。</p><p style="margin-left:0; margin-right:0">因此，每次提交代碼都變得輕鬆自在，因為你確信你的代碼經過了充分的測試，並且真正意義上從單元測試中獲得了收益。</p></blockquote><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">在研發同級別的項目中，我們的測試團隊在系統<span>&nbsp;</span><em>API</em><span>&nbsp;</span>測試中發現，基於 Wow 框架的項目，其<span>&nbsp;</span><em>BUG</em><span>&nbsp;</span>數僅為傳統架構項目的<span>&nbsp;</span><strong>1/3</strong>。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">你可以在這裏瞭解更多關於<span>&nbsp;</span><a href="https://ahoowang.gitee.io/wow/guide/test-suite.html">Wow 單元測試套件</a>。</p><h2>對於企業而言，<em>Wow</em><span>&nbsp;</span>框架意味着什麼？</h2><h3>商業智能</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="傳統架構 VS 事件溯源" src="https://foruda.gitee.com/images/1704878807657006766/300ee974_384561.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="ETL 同步流程" src="https://foruda.gitee.com/images/1704878793697689592/5fda25c1_384561.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em>商業智能</em>是企業決策的關鍵支持，而數據則是商業智能的分析原料。業務數據越為豐富有價值，商業智能的分析結果越準確，決策也就更加可靠。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">與傳統架構有着顯著差異，<em>Wow</em><span>&nbsp;</span>提供了實時聚合根狀態事件（<code>StateEvent</code>）和聚合命令（<code>Command</code>）作為數據分析的數據源，同時極大降低了實時<span>&nbsp;</span><em>ETL</em>（<code>Extract</code>,<span>&nbsp;</span><code>Transform</code>,<span>&nbsp;</span><code>Load</code>）的難度。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">在傳統架構中，實現實時<span>&nbsp;</span><em>ETL</em><span>&nbsp;</span>通常需要經過繁瑣的流程，包括<span>&nbsp;</span><code>DB-&gt;CDC-&gt;Process-&gt;DB</code>，而在<span>&nbsp;</span><em>Wow</em><span>&nbsp;</span>框架中，僅需一段簡單的<span>&nbsp;</span><em>SQL</em><span>&nbsp;</span>腳本即可完成這一過程。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">另外，在傳統架構中，使用<span>&nbsp;</span><em>CDC</em>（<code>MySql Binlog</code>）數據僅記錄數據的變化，缺乏明確的業務語義。進行業務分析時，需要基於數據狀態的變化推斷出業務語義，這往往需要進行大量的數據處理。 相較之下，<em>Wow</em><span>&nbsp;</span>框架直接提供了聚合根狀態事件和聚合命令作為數據分析的數據源，極大降低了數據處理的難度。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em>Wow</em><span>&nbsp;</span>提供的實時同步機制將數據實時同步至數據倉庫（<em>ClickHouse</em>），為實時數據分析提供了極大的便利。這種方法為商業智能提供了強有力的支持，構建了一個實時數據分析系統，使決策制定能夠基於及時而準確的信息。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">你可以在這裏瞭解更多關於<span>&nbsp;</span><a href="https://ahoowang.gitee.io/wow/guide/bi.html">Wow 商業智能</a>。</p><h3>操作審計</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em>操作審計</em>是企業中保障安全性和合規性的重要組成部分，同時也是對系統操作進行監控和追蹤的關鍵手段。<em>Wow</em><span>&nbsp;</span>框架在這方面為企業帶來了顯著的優勢。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">通過記錄聚合命令（<code>Command</code>）作為操作審計的數據源，<em>Wow</em><span>&nbsp;</span>框架能夠詳細追蹤系統中的各種操作。 這些記錄不僅包含了操作本身的內容，還涵蓋了操作觸發的副作用（<em>領域事件</em>），為審計提供了更為全面和準確的數據基礎。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">相較於傳統審計方法，<em>Wow</em><span>&nbsp;</span>框架的操作審計的數據源具備更加明確的業務語義，以及操作後產生的明確領域事件。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">此外，Wow 框架提供的實時數據同步機制也為操作審計帶來了便利，確保了審計數據的及時性和一致性。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">瞭解更多關於<span>&nbsp;</span><a href="https://ahoowang.gitee.io/wow/guide/bi.html#%E8%81%9A%E5%90%88%E5%91%BD%E4%BB%A4">Wow 操作審計</a>。</p></div>
                                    ]]>
            </description>
            <pubDate>Sat, 20 Jan 2024 05:26:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276221/wow-2-14-2-released</guid>
            <link>https://www.oschina.net/news/276221/wow-2-14-2-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[🎉 通用、靈活、高性能分佈式 ID 生成器 | CosId 2.6.5 發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosId Logo" height="206" src="https://oscimg.oschina.net/oscnet/up-63e6250bd72c3e4d2dde12bc154ad9f06d2.png" width="300" referrerpolicy="no-referrer"></p><h1>CosId<span>&nbsp;</span>通用、靈活、高性能分佈式 ID 生成器</h1><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.apache.org%2Flicenses%2FLICENSE-2.0.html"><img alt="License" src="https://img.shields.io/badge/license-Apache%202-4EB1BA.svg" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId%2Freleases"><img alt="GitHub release" src="https://img.shields.io/github/release/Ahoo-Wang/CosId.svg" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fapp.codacy.com%2Fgh%2FAhoo-Wang%2FCosId%3Futm_source%3Dgithub.com%26utm_medium%3Dreferral%26utm_content%3DAhoo-Wang%2FCosId%26utm_campaign%3DBadge_Grade_Settings"><img alt="Codacy Badge" src="https://api.codacy.com/project/badge/Grade/dfd1d6237a1644409548ebfbca300dc1" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fcodecov.io%2Fgh%2FAhoo-Wang%2FCosId"><img alt="codecov" src="https://codecov.io/gh/Ahoo-Wang/CosId/branch/main/graph/badge.svg?token=L0N51NB7ET" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><img alt="Integration Test Status" src="https://github.com/Ahoo-Wang/CosId/actions/workflows/integration-test.yml/badge.svg" referrerpolicy="no-referrer"></p><blockquote><p style="margin-left:0; margin-right:0"><em>官方文檔</em><span>&nbsp;&nbsp;</span><img alt="🎉" height="14" src="https://cn-assets.gitee.com/assets/emoji/tada-be741eadd68f6c33355db4b50a6c141b.png" width="14" referrerpolicy="no-referrer"><span>&nbsp;</span><img alt="👉" height="14" src="https://cn-assets.gitee.com/assets/emoji/point_right-8d392cf32998e3bca12bb7b4ee10dae0.png" width="14" referrerpolicy="no-referrer"><span>&nbsp;</span><a href="https://ahoowang.gitee.io/cosid/" target="_blank">https://ahoowang.gitee.io/cosid/</a><span>&nbsp;</span><img alt="👈" height="14" src="https://cn-assets.gitee.com/assets/emoji/point_left-4570b6929b8880ab2e8b8031007fef18.png" width="14" referrerpolicy="no-referrer"></p></blockquote><h2>更新內容</h2><ul><li>特性 (doc): 支持在官方文檔查看 <em>JavaDoc</em></li><li>依賴: 升級<span>&nbsp;</span><code>com.github.spotbugs</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v6.0.6</code></li><li>依賴: 升級<span>&nbsp;</span><code>org.springframework.boot:spring-boot-dependencies</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v3.2.2</code></li></ul><h2>簡介</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId">CosId</a></em><span>&nbsp;</span>旨在提供通用、靈活、高性能的分佈式 ID 生成器。</p><ul><li><code>CosIdGenerator</code><span>&nbsp;</span>:<span>&nbsp;</span><em>單機 TPS 性能：1557W/s</em>，三倍於<span>&nbsp;</span><code>UUID.randomUUID()</code>，基於時鐘的全局趨勢遞增 ID。</li><li><code>SnowflakeId</code><span>&nbsp;</span>:<span>&nbsp;</span><em>單機 TPS 性能：409W/s</em><span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fcosid.ahoo.me%2Fguide%2Fperf-test.html">JMH 基準測試</a><span>&nbsp;</span>, 主要解決<span>&nbsp;</span><em>時鐘回撥問題</em><span>&nbsp;</span>、<em>機器號分配問題</em>、<em>取模分片不均勻問題</em><span>&nbsp;</span>並且提供更加友好、靈活的使用體驗。</li><li><code>SegmentId</code>: 每次獲取一段 (<code>Step</code>) ID，來降低號段分發器的網絡 IO 請求頻次提升性能。 
  <ul><li><code>IdSegmentDistributor</code>: 號段分發器（號段存儲器） 
    <ul><li><code>RedisIdSegmentDistributor</code>: 基於<span>&nbsp;</span><em>Redis</em><span>&nbsp;</span>的號段分發器。</li><li><code>JdbcIdSegmentDistributor</code>: 基於<span>&nbsp;</span><em>Jdbc</em><span>&nbsp;</span>的號段分發器，支持各種關係型數據庫。</li><li><code>ZookeeperIdSegmentDistributor</code>: 基於<span>&nbsp;</span><em>Zookeeper</em><span>&nbsp;</span>的號段分發器。</li><li><code>MongoIdSegmentDistributor</code>: 基於<span>&nbsp;</span><em>MongoDB</em><span>&nbsp;</span>的號段分發器。</li></ul></li></ul></li><li><code>SegmentChainId</code>(<strong>推薦</strong>):<code>SegmentChainId</code><span>&nbsp;</span>(<em>lock-free</em>) 是對<span>&nbsp;</span><code>SegmentId</code><span>&nbsp;</span>的增強。性能可達到近似<span>&nbsp;</span><code>AtomicLong</code><span>&nbsp;</span>的<span>&nbsp;</span><em>TPS 性能：12743W+/s</em><span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fcosid.ahoo.me%2Fguide%2Fperf-test.html">JMH 基準測試</a><span>&nbsp;</span>。 
  <ul><li><code>PrefetchWorker</code><span>&nbsp;</span>維護安全距離 (<code>safeDistance</code>), 並且支持基於飢餓狀態的動態<span>&nbsp;</span><code>safeDistance</code><span>&nbsp;</span>擴容 / 收縮。</li></ul></li></ul><h2><a href="https://ahoowang.gitee.io/cosid/guide/getting-started.html">快速開始</a></h2><h2>背景（為什麼需要<em>分佈式 ID</em>）</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">在軟件系統演進過程中，隨着業務規模的增長 (TPS / 存儲容量)，我們需要通過集羣化部署來分攤計算、存儲壓力。 應用服務的無狀態設計使其具備了伸縮性。在使用<span>&nbsp;</span><strong>Kubernetes</strong><span>&nbsp;</span>部署時我們只需要一行命令即可完成服務伸縮 (<code>kubectl scale --replicas=5 deployment/order-service</code>)。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">但對於有狀態的數據庫就不那麼容易了，此時數據庫變成系統的性能瓶頸是顯而易見的。</p><h3>分庫分表</h3><blockquote><p style="margin-left:0; margin-right:0">從微服務的角度來理解垂直拆分其實就是微服務拆分。以限界上下文來定義服務邊界將大服務 / 單體應用拆分成多個自治的粒度更小的服務，因為自治性規範要求，數據庫也需要進行業務拆分。 但垂直拆分後的單個微服務依然會面臨 TPS / 存儲容量，的挑戰，所以這裏我們重點討論水平拆分的方式。</p></blockquote><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="分庫分表" src="https://oscimg.oschina.net/oscnet/up-bf3f59559837c87fe828f12113f2ec6269c.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">數據庫分庫分表方案是邏輯統一，物理分區自治的方案。其核心設計在於中間層映射方案的設計 (上圖<span>&nbsp;</span><strong>Mapping</strong>)，即分片算法的設計。 幾乎所有編程語言都內置實現了散列表 (java:<code>HashMap</code>/csharp:<code>Dictionary</code>/python:<code>dict</code>/go:<code>map</code><span>&nbsp;</span>...)。分片算法跟散列表高度相似 (<code>hashCode</code>)，都得通過<span>&nbsp;</span><code>key</code>/<code>shardingValue</code><span>&nbsp;</span>映射到對應的槽位 (<code>slot</code>)。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">那麼<span>&nbsp;</span><code>shardingValue</code><span>&nbsp;</span>從哪裏來呢？<strong>CosId</strong>！！</p><blockquote><p style="margin-left:0; margin-right:0">當然還有很多分佈式場景需要<em>分佈式 ID</em>，這裏不再一一列舉。</p></blockquote><h2>分佈式 ID 方案的核心指標</h2><ul><li><strong>全局（相同業務）唯一性</strong>：唯一性保證是<span>&nbsp;</span><strong>ID</strong><span>&nbsp;</span>的必要條件，假設 ID 不唯一就會產生主鍵衝突，這點很容易可以理解。 
  <ul><li>通常所説的全局唯一性並不是指所有業務服務都要唯一，而是相同業務服務不同部署副本唯一。 比如 Order 服務的多個部署副本在生成<span>&nbsp;</span><code>t_order</code><span>&nbsp;</span>這張表的<span>&nbsp;</span><code>Id</code><span>&nbsp;</span>時是要求全局唯一的。至於<span>&nbsp;</span><code>t_order_item</code><span>&nbsp;</span>生成的<span>&nbsp;</span><code>ID</code><span>&nbsp;</span>與<span>&nbsp;</span><code>t_order</code><span>&nbsp;</span>是否唯一，並不影響唯一性約束，也不會產生什麼副作用。 不同業務模塊間也是同理。即唯一性主要解決的是 ID 衝突問題。</li></ul></li><li><strong>有序性</strong>：有序性保證是面向查詢的數據結構算法（除了 Hash 算法）所必須的，是<strong>二分查找法</strong><span>&nbsp;</span>(分而治之) 的前提。 
  <ul><li>MySq-InnoDB B + 樹是使用最為廣泛的，假設 Id 是無序的，B+ 樹，為了維護 ID 的有序性，就會頻繁的在索引的中間位置插入而挪動後面節點的位置，甚至導致頻繁的頁分裂，這對於性能的影響是極大的。那麼如果我們能夠保證 ID 的有序性這種情況就完全不同了，只需要進行追加寫操作。所以 ID 的有序性是非常重要的，也是 ID 設計不可避免的特性。</li></ul></li><li><strong>吞吐量 / 性能 (ops/time)</strong>：即單位時間（每秒）能產生的 ID 數量。生成 ID 是非常高頻的操作，也是最為基本的。假設 ID 生成的性能緩慢，那麼不管怎麼進行系統優化也無法獲得更好的性能。 
  <ul><li>一般我們會首先生成 ID，然後再執行寫入操作，假設 ID 生成緩慢，那麼整體性能上限就會受到限制，這一點應該不難理解。</li></ul></li><li><strong>穩定性 (time/op)</strong>：穩定性指標一般可以採用<strong>每個操作的時間進行百分位採樣</strong>來分析，比如<span>&nbsp;</span><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId">CosId</a></em><span>&nbsp;</span>百分位採樣<span>&nbsp;</span><strong>P9999=0.208 us/op</strong>，即<span>&nbsp;</span><strong>0% ~ 99.99%</strong><span>&nbsp;</span>的單位操作時間小於等於<span>&nbsp;</span><strong>0.208 us/op</strong>。 
  <ul><li><a href="https://gitee.com/link?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E7%2599%25BE%25E5%2588%2586%25E4%25BD%258D%25E6%2595%25B0">百分位數 WIKI</a><span>&nbsp;</span>：統計學術語，若將一組數據從小到大排序，並計算相應的累計百分點，則某百分點所對應數據的值，就稱為這百分點的百分位數，以 Pk 表示第 k 百分位數。百分位數是用來比較個體在羣體中的相對地位量數。</li><li>為什麼不用平均<em>每個操作的時間</em>：馬老師的身價跟你的身價能平均麼？平均後的值有意義不？</li><li>可以使用最小<em>每個操作的時間</em>、最大<em>每個操作的時間</em>作為參考嗎？因為最小、最大值只説明瞭零界點的情況，雖説可以作為穩定性的參考，但依然不夠全面。而且<em>百分位數</em>已經覆蓋了這倆個指標。</li></ul></li><li><strong>自治性（依賴）</strong>：主要是指對外部環境有無依賴，比如<strong>號段模式</strong>會強依賴第三方存儲中間件來獲取<span>&nbsp;</span><code>NexMaxId</code>。自治性還會對可用性造成影響。</li><li><strong>可用性</strong>：分佈式 ID 的可用性主要會受到自治性影響，比如<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>會受到時鐘回撥影響，導致處於短暫時間的不可用狀態。而<strong>號段模式</strong>會受到第三方發號器（<code>NexMaxId</code>）的可用性影響。 
  <ul><li><a href="https://gitee.com/link?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E5%258F%25AF%25E7%2594%25A8%25E6%2580%25A7">可用性 WIKI</a><span>&nbsp;</span>：在一個給定的時間間隔內，對於一個功能個體來講，總的可用時間所佔的比例。</li><li>MTBF：平均故障間隔</li><li>MDT：平均修復 / 恢復時間</li><li>Availability=MTBF/(MTBF+MDT)</li><li>假設 MTBF 為 1 年，MDT 為 1 小時，即<span>&nbsp;</span><code>Availability=(365*24)/(365*24+1)=0.999885857778792≈99.99%</code>，也就是我們通常所説對可用性 4 個 9。</li></ul></li><li><strong>適應性</strong>：是指在面對外部環境變化的自適應能力，這裏我們主要説的是面對流量突發時動態伸縮分佈式 ID 的性能， 
  <ul><li><strong>SegmentChainId</strong><span>&nbsp;</span>可以基於<strong>飢餓狀態</strong>進行<strong>安全距離</strong>的動態伸縮。</li><li><strong>SnowflakeId</strong><span>&nbsp;</span>常規位分配方案性能恆定 409.6W，雖然可以通過調整位分配方案來獲得不同的 TPS 性能，但是位分配方法的變更是破壞性的，一般根據業務場景確定位分配方案後不再變更。</li></ul></li><li><strong>存儲空間</strong>：還是用 MySq-InnoDB B + 樹來舉例，普通索引（二級索引）會存儲主鍵值，主鍵越大佔用的內存緩存、磁盤空間也會越大。Page 頁存儲的數據越少，磁盤 IO 訪問的次數會增加。總之在滿足業務需求的情況下，儘可能小的存儲空間佔用在絕大多數場景下都是好的設計原則。</li></ul><h3>不同分佈式 ID 方案核心指標對比</h3><table cellspacing="0" style="--darkreader-inline-bgcolor:#181a1b; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-top:currentcolor; --darkreader-inline-color:#b7b1a7; -webkit-text-stroke-width:0px; background-color:#ffffff; border-collapse:collapse; border-spacing:0px; border:medium none; box-sizing:border-box; color:#40485b; display:block; font-family:-apple-system,&quot;system-ui&quot;,&quot;Segoe UI&quot;,Helvetica,Arial,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Liberation Sans&quot;,&quot;PingFang SC&quot;,&quot;Microsoft YaHei&quot;,&quot;Hiragino Sans GB&quot;,&quot;Wenquanyi Micro Hei&quot;,&quot;WenQuanYi Zen Hei&quot;,&quot;ST Heiti&quot;,SimHei,SimSun,&quot;WenQuanYi Zen Hei Sharp&quot;,sans-serif; font-size:16px; font-style:normal; font-variant-caps:normal; font-variant-ligatures:normal; font-weight:400; letter-spacing:normal; line-height:inherit; margin:0px 0px 16px; max-width:100%; orphans:2; overflow:auto; text-align:left; text-decoration-color:initial; text-decoration-style:initial; text-decoration-thickness:initial; text-transform:none; white-space:normal; widows:2; word-break:initial; word-spacing:0px"><tbody><tr><th>分佈式 ID</th><th>全局唯一性</th><th>有序性</th><th>吞吐量</th><th>穩定性（1s=1000,000us）</th><th>自治性</th><th>可用性</th><th>適應性</th><th>存儲空間</th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">UUID/GUID</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">完全無序</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">3078638(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=0.325(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">完全自治</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">100%</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">否</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">128-bit</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">SnowflakeId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">本地單調遞增，全局趨勢遞增 (受全局時鐘影響)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">4096000(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=0.244(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">依賴時鐘</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">時鐘回撥會導致短暫不可用</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">否</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">64-bit</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">SegmentId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">本地單調遞增，全局趨勢遞增 (受 Step 影響)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">29506073(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=46.624(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">依賴第三方號段分發器</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">受號段分發器可用性影響</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">否</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">64-bit</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">SegmentChainId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">本地單調遞增，全局趨勢遞增 (受 Step、安全距離影響)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">127439148(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=0.208(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">依賴第三方號段分發器</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">受號段分發器可用性影響，但因安全距離存在，預留 ID 段，所以高於 SegmentId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">64-bit</td></tr></tbody></table><h3>有序性 (要想分而治之・二分查找法，必須要維護我)</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">剛剛我們已經討論了 ID 有序性的重要性，所以我們設計 ID 算法時應該儘可能地讓 ID 是單調遞增的，比如像表的自增主鍵那樣。但是很遺憾，因全局時鐘、性能等分佈式系統問題，我們通常只能選擇局部單調遞增、全局趨勢遞增的組合（就像我們在分佈式系統中不得不的選擇最終一致性那樣）以獲得多方面的權衡。下面我們來看一下什麼是單調遞增與趨勢遞增。</p><h4>有序性之單調遞增</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="單調遞增" src="https://oscimg.oschina.net/oscnet/up-8ba6ce51f3f87c5ad8768ebf6ef32e854d9.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">單調遞增：T 表示全局絕對時點，假設有 Tn+1&gt;Tn（絕對時間總是往前進的，這裏不考慮相對論、時間機器等），那麼必然有 F (Tn+1)&gt;F (Tn)，數據庫自增主鍵就屬於這一類。 另外需要特別説明的是單調遞增跟連續性遞增是不同的概念。 連續性遞增：<code>F(n+1)=(F(n)+step)</code><span>&nbsp;</span>即下一次獲取的 ID 一定等於當前<span>&nbsp;</span><code>ID+Step</code>，當<span>&nbsp;</span><code>Step=1</code><span>&nbsp;</span>時類似於這樣一個序列:<code>1-&gt;2-&gt;3-&gt;4-&gt;5</code>。</p><blockquote><p style="margin-left:0; margin-right:0">擴展小知識：數據庫的自增主鍵也不是連續性遞增的，相信你一定遇到過這種情況，請思考一下數據庫為什麼這樣設計？</p></blockquote><h4>有序性之趨勢遞增</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="趨勢遞增" src="https://oscimg.oschina.net/oscnet/up-c1c18e3548c373db0f634c1d0183739b41b.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">趨勢遞增：Tn&gt;Tn-s，那麼大概率有 F (Tn)&gt;F (Tn-s)。雖然在一段時間間隔內有亂序，但是整體趨勢是遞增。從上圖上看，是有上升趨勢的（趨勢線）。</p><ul><li>在<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>中 n-s 受到全局時鐘同步影響。</li><li>在號段模式 (<strong>SegmentId</strong>) 中 n-s 受到號段可用區間 (<code>Step</code>) 影響。</li></ul><h2>分佈式 ID 分配方案</h2><h3>UUID/GUID</h3><ul><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer">不依賴任何第三方中間件</li><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer">性能高</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">完全無序</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">空間佔用大，需要佔用 128 位存儲空間。</li></ul><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">UUID 最大的缺陷是隨機的、無序的，當用於主鍵時會導致數據庫的主鍵索引效率低下（為了維護索引樹，頻繁的索引中間位置插入數據，而不是追加寫）。這也是 UUID 不適用於數據庫主鍵的最為重要的原因。</p><h3>SnowflakeId</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Snowflake 雪花算法" src="https://oscimg.oschina.net/oscnet/up-8d58346c8e62fdd525df8ed4bc1b1458710.png" referrerpolicy="no-referrer"></p><blockquote><p style="margin-left:0; margin-right:0"><em>SnowflakeId</em><span>&nbsp;</span>使用<span>&nbsp;</span><code>Long</code>（64-bit）位分區來生成 ID 的一種分佈式 ID 算法。 通用的位分配方案為：<code>timestamp</code>(41-bit)+<code>machineId</code>(10-bit)+<code>sequence</code>(12-bit)=63-bit。</p></blockquote><ul><li>41-bit<code>timestamp</code>=(1L&lt;&lt;41)/(1000/3600/365)，約可以存儲 69 年的時間戳，即可以使用的絕對時間為<span>&nbsp;</span><code>EPOCH</code>+69 年，一般我們需要自定義<span>&nbsp;</span><code>EPOCH</code><span>&nbsp;</span>為產品開發時間，另外還可以通過壓縮其他區域的分配位數，來增加時間戳位數來延長可用時間。</li><li>10-bit<code>machineId</code>=(1L&lt;&lt;10)=1024，即相同業務可以部署 1024 個副本 (在 Kubernetes 概念裏沒有主從副本之分，這裏直接沿用 Kubernetes 的定義)。一般情況下沒有必要使用這麼多位，所以會根據部署規模需要重新定義。</li><li>12-bit<code>sequence</code>=(1L&lt;&lt;12)*1000=4096000，即單機每秒可生成約 409W 的 ID，全局同業務集羣可產生<span>&nbsp;</span><code>4096000*1024=419430W=41.9 億 (TPS)</code>。</li></ul><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">從<span>&nbsp;</span><em>SnowflakeId</em><span>&nbsp;</span>設計上可以看出:</p><ul><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer"><code>timestamp</code><span>&nbsp;</span>在高位，單實例<span>&nbsp;</span><em>SnowflakeId</em><span>&nbsp;</span>是會保證時鐘總是向前的（校驗本機時鐘回撥），所以是本機單調遞增的。受全局時鐘同步 / 時鐘回撥影響<span>&nbsp;</span><em>SnowflakeId</em><span>&nbsp;</span>是全局趨勢遞增的。</li><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer"><em>SnowflakeId</em><span>&nbsp;</span>不對任何第三方中間件有強依賴關係，並且性能也非常高。</li><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer">位分配方案可以按照業務系統需要靈活配置，來達到最優使用效果。</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">強依賴本機時鐘，潛在的時鐘回撥問題會導致 ID 重複、處於短暫的不可用狀態。</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer"><code>machineId</code><span>&nbsp;</span>需要手動設置，實際部署時如果採用手動分配<span>&nbsp;</span><code>machineId</code>，會非常低效。</li></ul><h4>SnowflakeId 之機器號分配問題</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">在<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>中根據業務設計的位分配方案確定了基本上就不再有變更了，也很少需要維護。但是<span>&nbsp;</span><code>machineId</code><span>&nbsp;</span>總是需要配置的，而且集羣中是不能重複的，否則分區原則就會被破壞而導致 ID 唯一性原則破壞，當集羣規模較大時<span>&nbsp;</span><code>machineId</code><span>&nbsp;</span>的維護工作是非常繁瑣，低效的。</p><blockquote><p style="margin-left:0; margin-right:0">有一點需要特別説明的，<strong>SnowflakeId</strong><span>&nbsp;</span>的<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>是邏輯上的概念，而不是物理概念。 想象一下假設<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>是物理上的，那麼意味着一台機器擁有隻能擁有一個<span>&nbsp;</span><strong>MachineId</strong>，那會產生什麼問題呢？</p></blockquote><blockquote><p style="margin-left:0; margin-right:0">目前<span>&nbsp;</span><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId">CosId</a></em><span>&nbsp;</span>提供了以下五種<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>分配器。</p></blockquote><ul><li>ManualMachineIdDistributor: 手動配置<span>&nbsp;</span><code>machineId</code>，一般只有在集羣規模非常小的時候才有可能使用，不推薦。</li><li>StatefulSetMachineIdDistributor: 使用<span>&nbsp;</span><code>Kubernetes</code><span>&nbsp;</span>的<span>&nbsp;</span><code>StatefulSet</code><span>&nbsp;</span>提供的穩定的標識 ID（HOSTNAME=service-01）作為機器號。</li><li>RedisMachineIdDistributor: 使用<span>&nbsp;</span><strong>Redis</strong><span>&nbsp;</span>作為機器號的分發存儲，同時還會存儲<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>的上一次時間戳，用於<strong>啓動時時鐘回撥</strong>的檢查。</li><li>JdbcMachineIdDistributor: 使用<strong>關係型數據庫</strong>作為機器號的分發存儲，同時還會存儲<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>的上一次時間戳，用於<strong>啓動時時鐘回撥</strong>的檢查。</li><li>ZookeeperMachineIdDistributor: 使用<span>&nbsp;</span><strong>ZooKeeper</strong><span>&nbsp;</span>作為機器號的分發存儲，同時還會存儲<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>的上一次時間戳，用於<strong>啓動時時鐘回撥</strong>的檢查。</li></ul><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Redis MachineId Distributor" src="https://oscimg.oschina.net/oscnet/up-e5966f62f7f64aff097899743596a6ca385.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Machine Id Safe Guard" src="https://oscimg.oschina.net/oscnet/up-ce3a0238995e354fa22e1d7fcdb5f0e13c1.png" referrerpolicy="no-referrer"></p><h4>SnowflakeId 之時鐘回撥問題</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">時鐘回撥的致命問題是會導致 ID 重複、衝突（這一點不難理解），ID 重複顯然是不能被容忍的。 在<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>算法中，按照<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>分區 ID，我們不難理解的是不同<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>是不可能產生相同 ID 的。所以我們解決的時鐘回撥問題是指當前<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>的時鐘回撥問題，而不是所有集羣節點的時鐘回撥問題。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><strong>MachineId</strong><span>&nbsp;</span>時鐘回撥問題大體可以分為倆種情況：</p><ul><li>運行時時鐘回撥：即在運行時獲取的當前時間戳比上一次獲取的時間戳小。這個場景的時鐘回撥是很容易處理的，一般<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>代碼實現時都會存儲<span>&nbsp;</span><code>lastTimestamp</code><span>&nbsp;</span>用於運行時時鐘回撥的檢查，並拋出時鐘回撥異常。 
  <ul><li>時鐘回撥時直接拋出異常是不太好地實踐，因為下游使用方几乎沒有其他處理方案（噢，我還能怎麼辦呢，等吧），時鐘同步是唯一的選擇，當只有一種選擇時就不要再讓用戶選擇了。</li><li><code>ClockSyncSnowflakeId</code><span>&nbsp;</span>是<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>的包裝器，當發生時鐘回撥時會使用<span>&nbsp;</span><code>ClockBackwardsSynchronizer</code><span>&nbsp;</span>主動等待時鐘同步來重新生成 ID，提供更加友好的使用體驗。</li></ul></li><li>啓動時時鐘回撥：即在啓動服務實例時獲取的當前時鐘比上次關閉服務時小。此時的<span>&nbsp;</span><code>lastTimestamp</code><span>&nbsp;</span>是無法存儲在進程內存中的。當獲取的外部存儲的<strong>機器狀態</strong>大於當前時鐘時鐘時，會使用<span>&nbsp;</span><code>ClockBackwardsSynchronizer</code><span>&nbsp;</span>主動同步時鐘。 
  <ul><li>LocalMachineStateStorage：使用本地文件存儲<span>&nbsp;</span><code>MachineState</code>(機器號、最近一次時間戳)。因為使用的是本地文件所以只有當實例的部署環境是穩定的，<code>LocalMachineStateStorage</code><span>&nbsp;</span>才適用。</li><li>RedisMachineIdDistributor：將<span>&nbsp;</span><code>MachineState</code><span>&nbsp;</span>存儲在<span>&nbsp;</span><strong>Redis</strong><span>&nbsp;</span>分佈式緩存中，這樣可以保證總是可以獲取到上次服務實例停機時<strong>機器狀態</strong>。</li></ul></li></ul><h4>SnowflakeId 之 JavaScript 數值溢出問題</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><code>JavaScript</code><span>&nbsp;</span>的<span>&nbsp;</span><code>Number.MAX_SAFE_INTEGER</code><span>&nbsp;</span>只有 53-bit，如果直接將 63 位的<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>返回給前端，那麼會產生值溢出的情況（所以這裏我們應該知道後端傳給前端的<span>&nbsp;</span><code>long</code><span>&nbsp;</span>值溢出問題，<strong>遲早</strong>會出現，只不過 SnowflakeId 出現得更快而已）。 很顯然溢出是不能被接受的，一般可以使用以下倆種處理方案：</p><ul><li>將生成的 63-bit<code>SnowflakeId</code><span>&nbsp;</span>轉換為<span>&nbsp;</span><code>String</code><span>&nbsp;</span>類型。 
  <ul><li>直接將<span>&nbsp;</span><code>long</code><span>&nbsp;</span>轉換成<span>&nbsp;</span><code>String</code>。</li><li>使用<span>&nbsp;</span><code>SnowflakeFriendlyId</code><span>&nbsp;</span>將<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>轉換成比較友好的字符串表示：<code>{timestamp}-{machineId}-{sequence} -&gt; 20210623131730192-1-0</code></li></ul></li><li>自定義<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>位分配來縮短<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>的位數（53-bit）使<span>&nbsp;</span><code>ID</code><span>&nbsp;</span>提供給前端時不溢出 
  <ul><li>使用<span>&nbsp;</span><code>SafeJavaScriptSnowflakeId</code>(<code>JavaScript</code><span>&nbsp;</span>安全的<span>&nbsp;</span><code>SnowflakeId</code>)</li></ul></li></ul><h2>號段模式（SegmentId）</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Segment Id" src="https://oscimg.oschina.net/oscnet/up-d91b5939ccc673f26ccdcfbbd9e6aa68535.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">從上面的設計圖中，不難看出<strong>號段模式</strong>基本設計思路是通過每次獲取一定長度（Step）的可用 ID（Id 段 / 號段），來降低網絡 IO 請求次數，提升性能。</p><ul><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">強依賴第三方號段分發器，可用性受到第三方分發器影響。</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">每次號段用完時獲取<span>&nbsp;</span><code>NextMaxId</code><span>&nbsp;</span>需要進行網絡 IO 請求，此時的性能會比較低。</li><li>單實例 ID 單調遞增，全局趨勢遞增。 
  <ul><li>從設計圖中不難看出<span>&nbsp;</span><strong>Instance 1</strong><span>&nbsp;</span>每次獲取的<span>&nbsp;</span><code>NextMaxId</code>，一定比上一次大，意味着下一次的號段一定比上一次大，所以從單實例上來看是單調遞增的。</li><li>多實例各自持有的不同的號段，意味着同一時刻不同實例生成的 ID 是亂序的，但是整體趨勢的遞增的，所以全局趨勢遞增。</li></ul></li><li>ID 亂序程度受到 Step 長度以及集羣規模影響（從趨勢遞增圖中不難看出）。 
  <ul><li>假設集羣中只有一個實例時<strong>號段模式</strong>就是單調遞增的。</li><li><code>Step</code><span>&nbsp;</span>越小，亂序程度越小。當<span>&nbsp;</span><code>Step=1</code><span>&nbsp;</span>時，將無限接近單調遞增。需要注意的是這裏是無限接近而非等於單調遞增，具體原因你可以思考一下這樣一個場景： 
    <ul><li>號段分發器 T1 時刻給<span>&nbsp;</span><strong>Instance 1</strong><span>&nbsp;</span>分發了<span>&nbsp;</span><code>ID=1</code>,T2 時刻給<span>&nbsp;</span><strong>Instance 2</strong><span>&nbsp;</span>分發了<span>&nbsp;</span><code>ID=2</code>。因為機器性能、網絡等原因，<code>Instance 2</code><span>&nbsp;</span>網絡 IO 寫請求先於<span>&nbsp;</span><code>Instance 1</code><span>&nbsp;</span>到達。那麼這個時候對於數據庫來説，ID 依然是亂序的。</li></ul></li></ul></li></ul><h2>號段鏈模式（SegmentChainId）</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fcosid.ahoo.me%2Fguide%2Fsegment-chain.html">分佈式 ID (CosId) 之號段鏈模式性能 (1.2 億 /s) 解析</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Segment Chain Id" src="https://oscimg.oschina.net/oscnet/up-d96e7c4f91786832c1345a7228a7c012177.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><strong>SegmentChainId</strong><span>&nbsp;</span>是<span>&nbsp;</span><strong>SegmentId</strong><span>&nbsp;</span>增強版，相比於<span>&nbsp;</span><strong>SegmentId</strong><span>&nbsp;</span>有以下優勢：</p><ul><li>穩定性：<strong>SegmentId</strong><span>&nbsp;</span>的穩定性問題（P9999=46.624 (us/op)）主要是因為號段用完之後同步進行<span>&nbsp;</span><code>NextMaxId</code><span>&nbsp;</span>的獲取導致的（會產生網絡 IO）。 
  <ul><li><strong>SegmentChainId</strong><span>&nbsp;</span>（P9999=0.208 (us/op)）引入了新的角色<span>&nbsp;</span><strong>PrefetchWorker</strong><span>&nbsp;</span>用以維護和保證<strong>安全距離</strong>，理想情況下使得獲取 ID 的線程幾乎完全不需要進行同步的等待<span>&nbsp;</span><code>NextMaxId</code><span>&nbsp;</span>獲取，性能可達到近似<span>&nbsp;</span><code>AtomicLong</code><span>&nbsp;</span>的<span>&nbsp;</span><em>TPS 性能：12743W+/s</em><span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId%2Fblob%2Fmain%2FREADME.zh-CN.md%23jmh-benchmark">JMH 基準測試</a><span>&nbsp;</span>。</li></ul></li><li>適應性：從<span>&nbsp;</span><strong>SegmentId</strong><span>&nbsp;</span>介紹中我們知道了影響<span>&nbsp;</span><strong>ID 亂序</strong>的因素有倆個：集羣規模、<code>Step</code><span>&nbsp;</span>大小。集羣規模是我們不能控制的，但是<span>&nbsp;</span><code>Step</code><span>&nbsp;</span>是可以調節的。 
  <ul><li><code>Step</code><span>&nbsp;</span>應該近可能小才能使得<span>&nbsp;</span><strong>ID 單調遞增</strong>的可能性增大。</li><li><code>Step</code><span>&nbsp;</span>太小會影響吞吐量，那麼我們如何合理設置<span>&nbsp;</span><code>Step</code><span>&nbsp;</span>呢？答案是我們無法準確預估所有時點的吞吐量需求，那麼最好的辦法是吞吐量需求高時，Step 自動增大，吞吐量低時 Step 自動收縮。</li><li><strong>SegmentChainId</strong><span>&nbsp;</span>引入了<strong>飢餓狀態</strong>的概念，<strong>PrefetchWorker</strong><span>&nbsp;</span>會根據<strong>飢餓狀態</strong>檢測當前<strong>安全距離</strong>是否需要膨脹或者收縮，以便獲得吞吐量與有序性之間的權衡，這便是<span>&nbsp;</span><strong>SegmentChainId</strong><span>&nbsp;</span>的自適應性。</li></ul></li></ul><h2>集成</h2><h3>CosIdPlugin（MyBatis 插件）</h3><blockquote><p style="margin-left:0; margin-right:0">Kotlin DSL</p></blockquote><div><div><pre><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">implementation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span style="color:#eeeeee">(</span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">"me.ahoo.cosid:cosid-mybatis:${cosidVersion}"</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#eeeeee">)</span></span></pre></div></div><div><div><pre><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49">class</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><strong><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1">Order</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>{</span></span><span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">@CosId</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">(</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">value</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">=</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span>"order"</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">private</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>orderId</span><span>;</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">private</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>userId</span><span>;</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>getOrderId</strong><span>()</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">return</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>orderId</span><span>;</span></span><span><span>}</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>void</strong><strong>setOrderId</strong><span>(</span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>orderId</span><span>)</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">this</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>.</span><span style="color:#008080">orderId</span><span>=</span><span>orderId</span><span>;</span></span><span><span>}</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>getUserId</strong><span>()</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">return</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>userId</span><span>;</span></span><span><span>}</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>void</strong><strong>setUserId</strong><span>(</span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>userId</span><span>)</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">this</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>.</span><span style="color:#008080">userId</span><span>=</span><span>userId</span><span>;</span></span><span><span>}</span></span><span><span>}</span></span></pre></div></div><h3>ShardingSphere 插件</h3><blockquote><p style="margin-left:0; margin-right:0"><code>CosIdKeyGenerateAlgorithm</code>、<code>CosIdModShardingAlgorithm</code>、<code>CosIdIntervalShardingAlgorithm</code><span>&nbsp;</span>已合併至<span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fapache%2Fshardingsphere%2Fpull%2F14132">ShardingSphere</a><span>&nbsp;</span>官方，未來<span>&nbsp;</span><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId%2Ftree%2Fmain%2Fcosid-shardingsphere">cosid-shardingsphere</a></em><span>&nbsp;</span>模塊的維護可能會以官方為主。</p></blockquote><blockquote><p style="margin-left:0; margin-right:0">Kotlin DSL</p></blockquote><div><div><pre><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">implementation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span style="color:#eeeeee">(</span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">"me.ahoo.cosid:cosid-shardingsphere:${cosidVersion}"</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#eeeeee">)</span></span></pre></div></div><h4>CosIdKeyGenerateAlgorithm (分佈式主鍵)</h4><div><div><pre><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">spring</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">shardingsphere</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">rules</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">sharding</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">key-generators</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">cosid</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">type</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span><span style="background-color:transparent; color:#00aadd">COSID</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">props</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">id-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span><span style="background-color:transparent; color:#00aadd">__share__</span></span></pre></div></div><h4>基於間隔的時間範圍分片算法</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosId Interval Sharding Algorithm" src="https://oscimg.oschina.net/oscnet/up-8afd1ee134d5b3cb656d984b86c3c26a2b9.png" referrerpolicy="no-referrer"></p><ul><li>易用性：支持多種數據類型 (<code>Long</code>/<code>LocalDateTime</code>/<code>DATE</code>/<span>&nbsp;</span><code>String</code><span>&nbsp;</span>/<span>&nbsp;</span><code>SnowflakeId</code>)，而官方實現是先轉換成字符串再轉換成<span>&nbsp;</span><code>LocalDateTime</code>，轉換成功率受時間格式化字符影響。</li><li>性能：相比於<span>&nbsp;</span><code>org.apache.shardingsphere.sharding.algorithm.sharding.datetime.IntervalShardingAlgorithm</code><span>&nbsp;</span>性能高出<span>&nbsp;</span><em>1200~4000</em><span>&nbsp;</span>倍。</li></ul><table cellspacing="0" style="--darkreader-inline-bgcolor:#181a1b; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-top:currentcolor; --darkreader-inline-color:#b7b1a7; -webkit-text-stroke-width:0px; background-color:#ffffff; border-collapse:collapse; border-spacing:0px; border:medium none; box-sizing:border-box; color:#40485b; display:block; font-family:-apple-system,&quot;system-ui&quot;,&quot;Segoe UI&quot;,Helvetica,Arial,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Liberation Sans&quot;,&quot;PingFang SC&quot;,&quot;Microsoft YaHei&quot;,&quot;Hiragino Sans GB&quot;,&quot;Wenquanyi Micro Hei&quot;,&quot;WenQuanYi Zen Hei&quot;,&quot;ST Heiti&quot;,SimHei,SimSun,&quot;WenQuanYi Zen Hei Sharp&quot;,sans-serif; font-size:16px; font-style:normal; font-variant-caps:normal; font-variant-ligatures:normal; font-weight:400; letter-spacing:normal; line-height:inherit; margin:0px 0px 16px; max-width:100%; orphans:2; overflow:auto; text-align:left; text-decoration-color:initial; text-decoration-style:initial; text-decoration-thickness:initial; text-transform:none; white-space:normal; widows:2; word-break:initial; word-spacing:0px"><tbody><tr><th><strong>PreciseShardingValue</strong></th><th><strong>RangeShardingValue</strong></th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of IntervalShardingAlgorithm - PreciseShardingValue" src="https://oscimg.oschina.net/oscnet/up-2a88161c2346bded68be5270064dcfc8246.png" referrerpolicy="no-referrer"></td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of IntervalShardingAlgorithm - RangeShardingValue" src="https://oscimg.oschina.net/oscnet/up-f31899cf725fa89975be9af664f80617d20.png" referrerpolicy="no-referrer"></td></tr></tbody></table><ul><li>CosIdIntervalShardingAlgorithm 
  <ul><li>type: COSID_INTERVAL</li></ul></li><li>SnowflakeIntervalShardingAlgorithm 
  <ul><li>type: COSID_INTERVAL_SNOWFLAKE</li></ul></li></ul><div><div><pre><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">spring</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">shardingsphere</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">rules</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding-algorithms</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">alg-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">type</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">COSID_INTERVAL_{type_suffix}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">props</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">logic-name-prefix</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">logic-name-prefix</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">id-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">cosid-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-lower</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>2021</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-12</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-08</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>22</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">:00:00</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-upper</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>2022</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-12</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-01</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>00</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">:00:00</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding-suffix-pattern</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">yyyyMM</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-interval-unit</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">MONTHS</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-interval-amount</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>1</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></pre></div></div><h4>取模分片算法</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosIdModShardingAlgorithm" src="https://oscimg.oschina.net/oscnet/up-614e23fdac05028408625b0856f2e1163aa.png" referrerpolicy="no-referrer"></p><ul><li>性能：相比於<span>&nbsp;</span><code>org.apache.shardingsphere.sharding.algorithm.sharding.mod.ModShardingAlgorithm</code><span>&nbsp;</span>性能高出<span>&nbsp;</span><em>1200~4000</em><span>&nbsp;</span>倍。並且穩定性更高，不會出現嚴重的性能退化。</li></ul><table cellspacing="0" style="--darkreader-inline-bgcolor:#181a1b; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-top:currentcolor; --darkreader-inline-color:#b7b1a7; -webkit-text-stroke-width:0px; background-color:#ffffff; border-collapse:collapse; border-spacing:0px; border:medium none; box-sizing:border-box; color:#40485b; display:block; font-family:-apple-system,&quot;system-ui&quot;,&quot;Segoe UI&quot;,Helvetica,Arial,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Liberation Sans&quot;,&quot;PingFang SC&quot;,&quot;Microsoft YaHei&quot;,&quot;Hiragino Sans GB&quot;,&quot;Wenquanyi Micro Hei&quot;,&quot;WenQuanYi Zen Hei&quot;,&quot;ST Heiti&quot;,SimHei,SimSun,&quot;WenQuanYi Zen Hei Sharp&quot;,sans-serif; font-size:16px; font-style:normal; font-variant-caps:normal; font-variant-ligatures:normal; font-weight:400; letter-spacing:normal; line-height:inherit; margin:0px 0px 16px; max-width:100%; orphans:2; overflow:auto; text-align:left; text-decoration-color:initial; text-decoration-style:initial; text-decoration-thickness:initial; text-transform:none; white-space:normal; widows:2; word-break:initial; word-spacing:0px"><tbody><tr><th><strong>PreciseShardingValue</strong></th><th><strong>RangeShardingValue</strong></th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of ModShardingAlgorithm - PreciseShardingValue" src="https://oscimg.oschina.net/oscnet/up-b0509c7b8d072d626c62e6d85006bb4f9ef.png" referrerpolicy="no-referrer"></td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of ModShardingAlgorithm - RangeShardingValue" src="https://oscimg.oschina.net/oscnet/up-37c0d23dabd951f4a00985b74cd20c5a328.png" referrerpolicy="no-referrer"></td></tr></tbody></table><div><div><pre><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">spring</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">shardingsphere</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">rules</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding-algorithms</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">alg-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">type</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">COSID_MOD</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">props</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">mod</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>4</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">logic-name-prefix</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">t_table_</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre></div></div><h2>性能測試報告</h2><h3>SegmentChainId - 吞吐量 (ops/s)</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Throughput-Of-SegmentChainId" src="https://oscimg.oschina.net/oscnet/up-bcdd47563907ba963673c8cd1ee99f3a753.png" referrerpolicy="no-referrer"></p><h3>SegmentChainId - 每次操作耗時的百分位數 (us/op)</h3><blockquote><p style="margin-left:0; margin-right:0"><a href="https://gitee.com/link?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E7%2599%25BE%25E5%2588%2586%25E4%25BD%258D%25E6%2595%25B0">百分位數</a><span>&nbsp;</span>，統計學術語，若將一組數據從小到大排序，並計算相應的累計百分點，則某百分點所對應數據的值，就稱為這百分點的百分位數，以 Pk 表示第 k 百分位數。百分位數是用來比較個體在羣體中的相對地位量數。</p></blockquote><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Percentile-Sample-Of-SegmentChainId" src="https://oscimg.oschina.net/oscnet/up-bc3e9bb34396489e0da8ec0888151b7d489.png" referrerpolicy="no-referrer"></p><h3>CosId VS 美團 Leaf</h3><blockquote><p style="margin-left:0; margin-right:0">CosId (<code>SegmentChainId</code>) 性能是 Leaf (<code>segment</code>) 的 5 倍。</p></blockquote><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosId VS 美團 Leaf" src="https://gitee.com/AhooWang/CosId/raw/main/document/docs/.vuepress/public/assets/perf/CosId-VS-Leaf.png" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Sat, 20 Jan 2024 05:10:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276220/cosid-2-6-5-released</guid>
            <link>https://www.oschina.net/news/276220/cosid-2-6-5-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[🎉 響應式 HTTP JAVA 客戶端 | CoApi 0.6.0 發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><h1>CoApi - 同時支持響應式編程和同步編程模型的 HTTP 客戶端</h1><h2 style="margin-left:0em; margin-right:0em; text-align:start">更新內容</h2><ul><li>特性: 支持將<span>&nbsp;</span><code>URI</code><span>&nbsp;</span>作為請求參數，以覆寫請求地址</li><li>特性: 支持配置<span>&nbsp;</span><code>scan packages</code>，以支持自動注入該包下的<span>&nbsp;</span><code>CoApi</code><span>&nbsp;</span>接口</li><li>依賴: 升級<span>&nbsp;</span><code>org.springframework.boot:spring-boot-dependencies</code><span>&nbsp;</span>到<span>&nbsp;</span><code>v3.2.2</code></li></ul><h2>簡介</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">在 Spring Framework 6 中，引入了全新的 HTTP 客戶端 -<span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fdocs.spring.io%2Fspring-framework%2Freference%2Fintegration%2Frest-clients.html%23rest-http-interface">Spring6 HTTP Interface</a>。 該接口允許開發者通過使用<span>&nbsp;</span><code>@HttpExchange</code><span>&nbsp;</span>註解將 HTTP 服務定義為 Java 接口。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">然而，當前版本尚未提供自動配置的支持，需要開發者自己實現配置。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">雖然<span>&nbsp;</span><em>Spring</em><span>&nbsp;</span>生態中已經存在<span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fspring-cloud%2Fspring-cloud-openfeign">Spring Cloud OpenFeign</a><span>&nbsp;</span>，但它並未支持響應式編程模型。 為解決這個問題，<em>Spring Cloud OpenFeign</em><span>&nbsp;</span>推薦了替代方案<span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FPlaytikaOSS%2Ffeign-reactive">feign-reactive</a>。然而，這個替代方案目前已處於不積極維護狀態，並且不支持 Spring Boot 3.2.x。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><strong>CoApi</strong><span>&nbsp;</span>應運而生，它提供了類似於<span>&nbsp;</span><em>Spring Cloud OpenFeign</em><span>&nbsp;</span>的零樣板代碼自動配置的支持，同時支持<em>響應式編程模型</em>和<em>同步編程模型</em>。開發者只需定義接口，即可輕鬆使用。</p><h2>安裝</h2><blockquote><p style="margin-left:0; margin-right:0">使用<span>&nbsp;</span><em>Gradle(Kotlin)</em><span>&nbsp;</span>安裝依賴</p></blockquote><div><pre><code><span style="color:#d73a49">implementation</span>("<span style="color:#d73a49">me</span><span style="color:#6f42c1">.ahoo</span><span style="color:#6f42c1">.coapi</span><span style="color:#6f42c1">:spring-boot-starter")</span></code></pre></div><blockquote><p style="margin-left:0; margin-right:0">使用<span>&nbsp;</span><em>Gradle(Groovy)</em><span>&nbsp;</span>安裝依賴</p></blockquote><div><pre><code class="language-groovy"><span style="color:#005cc5">implementation</span><span style="color:#032f62">'me.ahoo.coapi:spring-boot-starter'</span></code></pre></div><blockquote><p style="margin-left:0; margin-right:0">使用<span>&nbsp;</span><em>Maven</em><span>&nbsp;</span>安裝依賴</p></blockquote><pre><code class="language-xml"><span style="color:#333333">&lt;<span style="color:#22863a">dependency</span>&gt;</span><span style="color:#333333">&lt;<span style="color:#22863a">groupId</span>&gt;</span>me.ahoo.coapi<span style="color:#333333">&lt;/<span style="color:#22863a">groupId</span>&gt;</span><span style="color:#333333">&lt;<span style="color:#22863a">artifactId</span>&gt;</span>spring-boot-starter<span style="color:#333333">&lt;/<span style="color:#22863a">artifactId</span>&gt;</span><span style="color:#333333">&lt;<span style="color:#22863a">version</span>&gt;</span>${coapi.version}<span style="color:#333333">&lt;/<span style="color:#22863a">version</span>&gt;</span><span style="color:#333333">&lt;/<span style="color:#22863a">dependency</span>&gt;</span></code></pre><h2>使用</h2><h3>定義<span>&nbsp;</span><code>CoApi</code><span>&nbsp;</span>- 第三方接口</h3><blockquote><p style="margin-left:0; margin-right:0"><code>baseUrl</code><span>&nbsp;</span>： 定義請求的基礎地址，該參數可以從配置文件中獲取，如：<code>baseUrl = "\${github.url}"</code>，<code>github.url</code><span>&nbsp;</span>是配置文件中的配置項<span>&nbsp;</span><span><span style="color:#eeeeee">}</span></span></p></blockquote><div><div><pre><code><span style="color:#032f62">@CoApi</span>(baseUrl = <span style="color:#032f62">"\${github.url}"</span>)
interface GitHubApiClient {

    <span style="color:#032f62">@GetExchange</span>(<span style="color:#032f62">"repos/{owner}/{repo}/issues"</span>)
    fun getIssue(<span style="color:#032f62">@PathVariable</span><span style="color:#005cc5">owner</span>: String, <span style="color:#032f62">@PathVariable</span><span style="color:#005cc5">repo</span>: String): Flux&lt;Issue&gt;
}</code></pre></div></div><blockquote><p style="margin-left:0; margin-right:0">配置文件：</p></blockquote><pre><code><span style="color:#005cc5">github</span>:
  <span style="color:#005cc5">url</span>: <span style="color:#005cc5">https</span>:<span style="color:#6a737d">//api.github.com</span></code></pre><h3>定義<span>&nbsp;</span><code>CoApi</code><span>&nbsp;</span>- 客戶端負載均衡</h3><pre><code><span style="color:#032f62">@CoApi</span>(serviceId = <span style="color:#032f62">"github-service"</span>)
interface ServiceApiClient {

    <span style="color:#032f62">@GetExchange</span>(<span style="color:#032f62">"repos/{owner}/{repo}/issues"</span>)
    fun getIssue(<span style="color:#032f62">@PathVariable</span><span style="color:#005cc5">owner</span>: String, <span style="color:#032f62">@PathVariable</span><span style="color:#005cc5">repo</span>: String): Flux&lt;Issue&gt;
}</code></pre><h3>使用<span>&nbsp;</span><code>CoApi</code></h3><pre><code><span style="color:#6a737d">@RestController</span><span><span style="color:#d73a49">class</span><span style="color:#6f42c1">GithubController</span></span>(
    <span style="color:#d73a49">private</span><span style="color:#d73a49">val</span> gitHubApiClient: GitHubApiClient,
    <span style="color:#d73a49">private</span><span style="color:#d73a49">val</span> serviceApiClient: ServiceApiClient
) {

    <span style="color:#6a737d">@GetMapping(<span>"/baseUrl"</span>)</span><span><span style="color:#d73a49">fun</span><span style="color:#6f42c1">baseUrl</span><span>()</span></span>: Flux&lt;Issue&gt; {
        <span style="color:#d73a49">return</span> gitHubApiClient.getIssue(<span style="color:#032f62">"Ahoo-Wang"</span>, <span style="color:#032f62">"CoApi"</span>)
    }

    <span style="color:#6a737d">@GetMapping(<span>"/serviceId"</span>)</span><span><span style="color:#d73a49">fun</span><span style="color:#6f42c1">serviceId</span><span>()</span></span>: Flux&lt;Issue&gt; {
        <span style="color:#d73a49">return</span> serviceApiClient.getIssue(<span style="color:#032f62">"Ahoo-Wang"</span>, <span style="color:#032f62">"CoApi"</span>)
    }
}</code></pre><h2>案例參考</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/AhooWang/CoApi/blob/main/example">Example</a></p><h3>服務提供者</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/AhooWang/CoApi/blob/main/example/example-provider-server">Example-Provider</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><img height="316" src="https://oscimg.oschina.net/oscnet/up-9ce6cdb0cd8e1b269b78fa69a3a55e5a1e1.png" width="432" referrerpolicy="no-referrer"></p><ul><li><code>TodoApi</code><span>&nbsp;</span>: 規定了客戶端消費方與服務提供者之間的共同契約，旨在防範重複冗餘定義的風險，同時消除了服務提供者實現與客戶端 SDK 的不一致性。</li><li><code>TodoClient</code><span>&nbsp;</span>: 客戶端消費方通過<span>&nbsp;</span><code>TodoClient</code><span>&nbsp;</span>訪問服務提供者的 API。</li><li><code>TodoController</code><span>&nbsp;</span>: 服務提供者負責實現<span>&nbsp;</span><code>TodoApi</code><span>&nbsp;</span>接口。</li></ul><h4>定義 API</h4><pre><code><span style="color:#6a737d">@HttpExchange(<span>"todo"</span>)</span><span><span style="color:#d73a49">interface</span><span style="color:#6f42c1">TodoApi</span></span>{

    <span style="color:#6a737d">@GetExchange</span><span><span style="color:#d73a49">fun</span><span style="color:#6f42c1">getTodo</span><span>()</span></span>: Flux&lt;Todo&gt;
}</code></pre><h4>定義 Client</h4><pre><code><span style="color:#6a737d">@CoApi(serviceId = <span>"provider-service"</span>)</span><span><span style="color:#d73a49">interface</span><span style="color:#6f42c1">TodoClient</span> : <span style="color:#d73a49">TodoApi</span></span></code></pre><h4>實現 API</h4><pre><code><span style="color:#6a737d">@RestController</span><span><span style="color:#d73a49">class</span><span style="color:#6f42c1">TodoController</span> : <span style="color:#d73a49">TodoApi {</span></span><span style="color:#d73a49">override</span><span><span style="color:#d73a49">fun</span><span style="color:#6f42c1">getTodo</span><span>()</span></span>: Flux&lt;Todo&gt; {
        <span style="color:#d73a49">return</span> Flux.range(<span>1</span>, <span>10</span>)
            .map {
                Todo(<span style="color:#032f62">"todo-<span style="color:#032f62">$it</span>"</span>)
            }
    }
}</code></pre><h3>服務消費者</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/AhooWang/CoApi/blob/main/example/example-consumer-server">Example-Consumer</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">服務消費者通過<span>&nbsp;</span><code>@EnableCoApi</code><span>&nbsp;</span>註解開啓<span>&nbsp;</span><code>CoApi</code><span>&nbsp;</span>的自動配置。</p><pre><code><span style="color:#032f62">@EnableCoApi</span>(apis = [<span style="color:#005cc5">TodoClient</span>::class])
<span style="color:#032f62">@SpringBootApplication</span>
class ConsumerServer</code></pre><pre><code><span style="color:#6a737d">@RestController</span><span><span style="color:#d73a49">class</span><span style="color:#6f42c1">TodoController</span></span>(<span style="color:#d73a49">private</span><span style="color:#d73a49">val</span> todoClient: TodoClient) {

    <span style="color:#6a737d">@GetExchange</span><span><span style="color:#d73a49">fun</span><span style="color:#6f42c1">getProviderTodo</span><span>()</span></span>: Flux&lt;Todo&gt; {
        <span style="color:#d73a49">return</span> todoClient.getTodo()
    }
}</code></pre></div>
                                    ]]>
            </description>
            <pubDate>Sat, 20 Jan 2024 04:51:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276219/coapi-0-6-0-released</guid>
            <link>https://www.oschina.net/news/276219/coapi-0-6-0-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Tinker v1.9.14.26.3 發佈，微信開源的 Android 熱修復框架]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Tinker 是騰訊開源的 Android 熱解決方案庫，它支持在不重新安裝 apk 的情況下對 dex、library 和 resources 進行更新。Tinker v1.9.14.26.3 現已發佈，具體更新內容如下：</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><strong>Bugfix &amp; ChangeLog</strong></p><ul><li><strong>回退：</strong><span>&nbsp;</span>改用新的資源注入方式避免 patch 加載後多消耗兩份 resources.apk 的虛擬內存。（此方法在部分機器上存在兼容性問題，會導致資源查找失敗）</li><li><strong>回退：</strong><span>&nbsp;</span>系統主題發生變化時避免接入的 App 自殺。（不自殺會導致 App 資源 id 和資源內容錯配）</li><li>將 Tinker 的 service 改為 no-sticky 方式啓動，避免自動拉起進程以滿足「App 未經用戶操作禁止自啓動」的合規要求。</li><li>編譯時問題修復：避免當所有滿足 loader pattern 的 class 都被分到了非主 dex 時編譯失敗。</li></ul><p><span style="background-color:#ffffff; color:#333333">更新説明：</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FTencent%2Ftinker%2Freleases%2Ftag%2Fv1.9.14.26.3" target="_blank">https://github.com/Tencent/tinker/releases/tag/v1.9.14.26.3</a></p></div>
                                    ]]>
            </description>
            <pubDate>Sat, 20 Jan 2024 02:34:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276210/tinker-1-9-14-26-3-released</guid>
            <link>https://www.oschina.net/news/276210/tinker-1-9-14-26-3-released</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[IntelliJ IDEA 2024.1 EAP 1 發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>IntelliJ IDEA 2024.1 EAP 1 版本現已<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fblog.jetbrains.com%2Fidea%2F2024%2F01%2Fintellij-idea-2024-1%2F" target="_blank">發佈</a>，具體更新內容如下：</p><div><h4><strong><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><span><span><span><span><span><span style="color:#19191c"><span><span><span><span><span>Java</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></h4></div><div><p style="margin-left:0px; margin-right:0px"><strong><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><span><span><span><span><span><span style="color:#19191c"><span><span><span><span><span>支持 Java 22 功能</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p></div><p style="margin-left:0; margin-right:0; text-align:start"><span><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>IntelliJ IDEA 2024.1 EAP 1 為定於 2024 年 3 月發佈的 JDK 22 中的功能集提供支持。這包括對未命名變量和模式的最終迭代、字符串模板和隱式聲明類的第二次預覽以及實例<code>main</code>方法的支持。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><img alt="" height="200" src="https://oscimg.oschina.net/oscnet/up-d319b5133c3735ee3fe03241bf79690f947.gif" width="500" referrerpolicy="no-referrer"></p><p style="margin-left:0; margin-right:0; text-align:start"><span><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>此外，本次更新還引入了對預覽狀態下<code>super(...)</code>之前的新語句的支持。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><img alt="" height="200" src="https://oscimg.oschina.net/oscnet/up-6561a2e11c3cd8b9ef98da209392afeb899.gif" width="500" referrerpolicy="no-referrer"></p><div><h4><strong><span>Kotlin</span></strong></h4></div><div><p style="margin-left:0px; margin-right:0px"><strong><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><span><span><span><span><span><span style="color:#19191c"><span><span><span><span><span>IntelliJ IDEA 的 K2 Kotlin Mode 現已進入 Alpha 階段</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p></div><p style="margin-left:0; margin-right:0; text-align:start"><span><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>通過新的 K2 模式，IntelliJ IDEA 現在可以使用嵌入式 K2 Kotlin 編譯器來分析 Kotlin 代碼。K2 Kotlin 編譯器正在從頭開始重寫，因此項目團隊也遷移了 IntelliJ IDEA 中的 Kotlin 代碼支持。代碼高亮和代碼自動補全的性能和穩定性得到了顯著提高，但尚未支持所有 IDE 功能。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p style="margin-left:0; margin-right:0; text-align:start"><span><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>此模式下已提供以下功能：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><ul><li>基本 IDE 功能，如代碼導航、代碼突出顯示、代碼補全和 Find Usages，以及調試器、格式化程序和導入優化器。</li><li>重命名、引入變量、更改簽名和安全刪除等重構功能。</li><li>一些最常用的 inspections 和 intentions。</li></ul><p style="margin-left:0; margin-right:0; text-align:start"><span><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>目前，K2 模式不支持 Android、Kotlin Multiplatform Projects 和 build.gradle.kts 文件分析。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p style="margin-left:0; margin-right:0; text-align:start"><span><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>依賴於 Kotlin 插件的第三方 IntelliJ IDEA 插件需要進行適配以支持新模式。官方計劃很快為插件作者提供遷移指南。在此之前，不兼容的插件將在 K2 模式下被禁用。&nbsp;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p style="margin-left:0; margin-right:0; text-align:start"><span><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>可通過在 IntelliJ IDEA 的 Settings | Languages &amp; Frameworks | Kotlin 中選擇 Enable K2 Kotlin Mode 來嘗試新的 K2 Kotlin 模式。重啓 IDE 後更改方能生效。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><img alt="" height="201" src="https://oscimg.oschina.net/oscnet/up-e0101489dc47152706b88cf4354d5c3e0c1.png" width="500" referrerpolicy="no-referrer"></p><div><h4><strong><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><span><span><span><span><span><span style="color:#19191c"><span><span><span><span><span>用戶體驗&nbsp;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></h4></div><div><p style="margin-left:0px; margin-right:0px"><strong><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><span><span><span><span><span><span style="color:#19191c"><span><span><span><span><span>縮小整個 IDE 的選項</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p></div><p style="margin-left:0; margin-right:0; text-align:start"><span><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>IntelliJ IDEA 2023.1 引入了放大和縮小整個 IDE 的功能，可同時調整所有 UI 元素的大小。不過，初始縮放範圍僅限於 100% 到 200%。在 IntelliJ IDEA 2024.1 EAP 1 中引入了一個新選項，允許用戶將 IDE 的縮放比例縮小到 90%、80% 或 70%，從而提供了更大範圍的自定義選項。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><img alt="" height="200" src="https://oscimg.oschina.net/oscnet/up-a7144e1960df8b827f15c7465e334d68bac.gif" width="500" referrerpolicy="no-referrer"></p><div><p style="margin-left:0px; margin-right:0px"><strong><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><span><span><span><span><span><span style="color:#19191c"><span><span><span><span><span>更新了&nbsp;New Project wizard</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p></div><p style="margin-left:0; margin-right:0; text-align:start"><span><span><span><span><span style="color:#19191c"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>為減少新項目配置過程中的認知負荷，對新建項目嚮導的佈局進行了細微調整。語言列表現在位於左上角，提高了最常用選項的可發現性。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p style="margin-left:0; margin-right:0; text-align:start"><img alt="" height="201" src="https://oscimg.oschina.net/oscnet/up-5c83e618d28198ac1f21c50732c993d5e63.png" width="500" referrerpolicy="no-referrer"></p><p style="margin-left:0; margin-right:0; text-align:start">有關此 EAP 版本中更改的完整列表，可閲讀<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fyoutrack.jetbrains.com%2Farticles%2FIDEA-A-2100661828%2FIntelliJ-IDEA-2024.1-EAP-1-241.8102.112-build-Release-Notes" target="_blank">發行説明</a>。</p></div>
                                    ]]>
            </description>
            <pubDate>Sat, 20 Jan 2024 02:20:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276209/intellij-idea-2024-1-eap1</guid>
            <link>https://www.oschina.net/news/276209/intellij-idea-2024-1-eap1</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[LinkWeChat V5.1.1 版本發佈，同時恭喜入選「2023 開源創新榜」優秀開源項目]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#333333">LinkWeChat 是國內首個基於企業微信的開源 SCRM，在集成了企微強大的開放能力的基礎上，進一步升級拓展靈活高效的客戶運營能力及多元化精準營銷能力，讓客戶與企業之間建立強鏈接，幫助企業提高客戶運營效率，強化營銷能力，拓展盈利空間，是企業私域流量管理與營銷的綜合解決方案，目前已經受到企業微信的官方推薦和國家級木蘭開源社區進行孵化，同時也是國家工信部重點扶持項目，同時也獲得 2022 年中國開源創新大賽二等獎。</span>恭喜 LinkWeChat 榮獲中國科協、中國計算機協會、中國通信協會、中科院軟件所聯名背書的優秀開源項目.</p><p>&nbsp;</p><p><img height="1080" src="https://oscimg.oschina.net/oscnet/up-a58212c029f1bb784f168aeccb062458506.jpg" width="1513" referrerpolicy="no-referrer"></p><p><strong>LinkWeChat V5.1.1 主要的升級內容如下：</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#40485b">1.新增羣發一鍵複製功能</span><br><span style="background-color:#ffffff; color:#40485b">系統使用者可以更快速方便的複用原有羣發內容。</span><br><span style="background-color:#ffffff; color:#40485b">2.新增 AI 功能動態開關</span><br><span style="background-color:#ffffff; color:#40485b">如果不用 ai 相關功能，不啓動 linkwe-ai 服務，其前端會自動隱藏 AI 相關功能。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#ffffff; color:#333333">感謝您對我們產品的支持和信任，我們會繼續努力，為您提供更好的產品和服務。</span></strong></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 19 Jan 2024 09:29:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276173</guid>
            <link>https://www.oschina.net/news/276173</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Tianji v1.4.3 發佈, 聚合網站流量分析、監控、服務器狀態]]>
            </title>
            <description>
                <![CDATA[<div class="content"><h2>Tianji:&nbsp;網站分析器 + 狀態監控器 + 服務狀態上報</h2><h3>動機</h3><p style="color:#1f2328; margin-left:0; margin-right:0; text-align:start">在我們對網站進行觀察時。我們往往需要多個應用一起來組合使用。比如我們需要 ga/umami 等分析工具來查看 pvuv 以及各個頁面的訪問量，我們需要 uptime 監控器來檢查服務器的網絡質量與連通性，我們需要通關 prometheus 獲取服務端上報的狀態來檢查服務器的質量。另外如果開發的是一個允許被開源部署的應用，我們往往還需要一個遙測系統來幫助我們對其他人的部署情況做一個最簡單的信息收集。</p><p style="color:#1f2328; margin-left:0; margin-right:0; text-align:start">我認為這些工具應當是為同一個目的而服務的，那麼有沒有一款應用能夠輕量級的將這些常見的需求整合為一體呢？畢竟在大部分時候我們並不需要非常專業與深入的功能。但是我為了實現全面的監控卻需要安裝如此多的服務。</p><p style="color:#1f2328; margin-left:0; margin-right:0; text-align:start">專精於一項這很好，如果我們是相關能力的專家我們需要這樣的專業工具。但是對於大部分只有輕量級需求的用戶而言，一個 all in one 的應用會更加方便與易於使用</p><h2>v1.4.3 版本更新內容</h2><ul><li>增加了<span style="background-color:#ffffff; color:#1f2328">apprise<span>&nbsp;推送，支持 90 多種推送方式</span></span></li><li>增加了監控頁刪除功能</li><li>增加了 tcp 端口監控</li><li>狀態列表增加當前數值顯示</li><li>修復自定義文本不適用於 health bar 的問題</li><li>修復 openai 企業賬號計算 bug</li><li><span style="background-color:#ffffff; color:#252525">修復創建操作中狀態頁面設置監視器列表不起作用的問題</span></li><li><span style="background-color:#ffffff; color:#252525">修復 tg 推送轉義問題</span></li><li><div>
   添加通知選擇器空狀態以引導用戶創建通知
  </div></li></ul><p>&nbsp;</p><p>docker 鏡像支持了 arm64 架構</p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 19 Jan 2024 08:24:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276166/tianji-1-4-3</guid>
            <link>https://www.oschina.net/news/276166/tianji-1-4-3</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[🎉🎉 wmproxy 0.2.5 發佈，新增 websocket 代理，支持負載均衡，內網穿透]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>V0.2.5</p><p>已實現 websocket 代理, 可以快速的將 websocket 流量轉成 tcp 流量</p><p>完善命令行模式, 啓動將更加簡單</p><p>&nbsp;</p><p><code>wmproxy</code>已用<code>Rust</code>實現<code>http/https</code>代理, <code>socks5</code>代理, 反向代理, 負載均衡, 靜態文件服務器，四層 TCP/UDP 轉發，內網穿透，後續將實現<code>websocket</code>代理等，會將實現過程分享出來，感興趣的可以一起造個輪子</p><h2>📦 安裝 &amp; 🏃 使用</h2><h3>安裝</h3><div><div><pre><span>cargo <span>install </span>wmproxy</span></pre></div></div><p>OR</p><div><div><pre><span>git clone https://github.com/tickbh/wmproxy</span><span><span>cd </span>wmproxy</span><span>cargo <span>install</span><span>--path</span><span>.</span></span></pre></div></div><div><div><pre><span>docker pull dreamwhat/wmproxy</span><span>docker run -p 82:82 -p 8090:8090 -p 127.0.0.1:8837:8837 --name proxy_bash dreamwhat/wmproxy /bin/./wmproxy proxy -b 0.0.0.0:8090</span></pre></div></div><h3>使用</h3><p>默認端口為 8090 端口，默認監聽地址為 127.0.0.1</p><div><div><pre><span><span># 直接通用默認參數</span></span><span>wmproxy proxy</span><span><span># 設置賬號密碼</span></span><span>wmproxy proxy <span>-b</span> 0.0.0.0:8090 <span>--user</span> wmproxy <span>--pass</span> wmproxy</span><span><span># 其它指令</span></span><span>wmproxy <span>--help</span></span><span><span>#配置文件版啓動</span></span><span>wmproxy config <span>-c</span> config/client.toml</span></pre><div>
   &nbsp;
  </div></div></div><p>啓動二級代理</p><ol><li>在本地啓動代理</li></ol><div><div><pre><span>wmproxy proxy <span>-b</span> 127.0.0.1:8090 <span>-S</span> 127.0.0.1:8091 <span>--ts</span></span></pre></div></div><p>或者</p><div><div><pre><span>wmproxy config <span>-c</span> config/client.toml</span></pre></div></div><p>配置文件如下:</p><div><div><pre><span><span>[proxy]</span></span><span><span># 連接服務端地址</span></span><span><span>#server = "127.0.0.1:8091"</span></span><span><span>bind_addr</span><span>=</span><span>"0.0.0.0:8090"</span></span><span><span>flag</span><span>=</span><span>"http https socks5"</span></span><span><span># 連接服務端是否加密</span></span><span><span>ts</span><span>=</span><span>true</span></span><span><span>two_way_tls</span><span>=</span><span>true</span></span><span><span># username = "wmproxy"</span></span><span><span># password = "wmproxy"</span></span><span><span># 內網映射配置的數組</span></span><span><span>#將 localhost 的域名轉發到本地的 127.0.0.1:8080</span></span><span><span>[[proxy.mappings]]</span></span><span><span>name</span><span>=</span><span>"web"</span></span><span><span>mode</span><span>=</span><span>"http"</span></span><span><span>local_addr</span><span>=</span><span>"127.0.0.1:8080"</span></span><span><span>domain</span><span>=</span><span>"localhost"</span></span><span><span>headers</span><span>=</span><span>[</span></span><span><span>"proxy x-forward-for {client_ip}"</span><span>,</span></span><span><span>"proxy + from $url"</span><span>,</span></span><span><span>"+ last-modified 'from proxy'"</span><span>,</span></span><span><span>"- etag"</span><span>,</span></span><span><span>]</span></span><span><span>#將 tcp 的流量無條件轉到 127.0.0.1:8080</span></span><span><span>[[proxy.mappings]]</span></span><span><span>name</span><span>=</span><span>"tcp"</span></span><span><span>mode</span><span>=</span><span>"tcp"</span></span><span><span>local_addr</span><span>=</span><span>"127.0.0.1:8080"</span></span><span><span>domain</span><span>=</span><span>""</span></span></pre></div></div><p>因為純轉發，所以在當前節點設置賬號密碼沒有意義<code>-S</code>表示連接到的二級代理地址，<strong>有該參數則表示是中轉代理，否則是末端代理。</strong><code>--ts</code>表示連接父級代理的時候需要用加密的方式鏈接</p><ol><li>在遠程啓動代理</li></ol><div><div><pre><span>wmproxy proxy <span>--user</span> proxy <span>--pass</span> proxy <span>-b</span> 0.0.0.0:8091 <span>--tc</span></span></pre></div></div><p>或者</p><div><div><pre><span>wmproxy config <span>-c</span> config/server.toml</span></pre></div></div><p>配置文件如下:</p><div><div><pre><span><span>[proxy]</span></span><span><span>#綁定的 ip 地址</span></span><span><span>bind_addr</span><span>=</span><span>"127.0.0.1:8091"</span></span><span><span>#代理支持的功能，1 為 http，2 為 https，4 為 socks5</span></span><span><span># flag = "7"</span></span><span><span>username</span><span>=</span><span>"wmproxy"</span></span><span><span>password</span><span>=</span><span>"wmproxy"</span></span><span><span>#內網映射 http 綁定地址</span></span><span><span>map_http_bind</span><span>=</span><span>"127.0.0.1:8001"</span></span><span><span>#內網映射 tcp 綁定地址</span></span><span><span>map_tcp_bind</span><span>=</span><span>"127.0.0.1:8002"</span></span><span><span>#內網映射 https 綁定地址</span></span><span><span>map_https_bind</span><span>=</span><span>"127.0.0.1:8003"</span></span><span><span>#內網映射的公鑰證書，為空則是默認證書</span></span><span><span># map_cert = </span></span><span><span>#內網映射的私鑰證書，為空則是默認證書</span></span><span><span># map_key =</span></span><span><span># 雙向認證</span></span><span><span>two_way_tls</span><span>=</span><span>true</span></span><span><span>#接收客戶端是為是加密客戶端</span></span><span><span>tc</span><span>=</span><span>true</span></span><span><span>#當前服務模式，server 為服務端，client 為客戶端</span></span><span><span>mode</span><span>=</span><span>"server"</span></span></pre></div></div><p><code>--tc</code>表示接收子級代理的時候需要用加密的方式鏈接，可以<code>--cert</code>指定證書的公鑰，<code>--key</code>指定證書的私鑰，<code>--domain</code>指定證書的域名，如果不指定，則默認用自帶的證書參數</p><blockquote><p>至此通過代理訪問的，我們已經沒有辦法得到真正的請求地址，只能得到代理發起的請求</p></blockquote><h3>代理間的認證</h3><blockquote><p>目前提供了兩種認證雙式, <code>two_way_tls</code>開啓客戶端的證書認證信息, 另一種服務端配置了<code>username</code>和<code>password</code>即需要客戶端配置相同的用戶密碼才能啓用認證信息, 兩種方式可疊加使用或者單獨使用。 配置添加如下:</p></blockquote><div><div><pre><span><span>proxy</span><span>:</span></span><span><span>two_way_tls</span><span>:</span><span>true</span></span><span><span>username</span><span>:</span><span>wmproxy</span></span><span><span>password</span><span>:</span><span>wmproxy</span></span></pre></div></div><h1>🚥 路線圖</h1><h3>socks5</h3><ul><li>IPV6 支持</li><li><code>SOCKS5</code> 驗證方式 
  <ul><li><code>NOAUTH</code></li><li><code>USERPASS</code></li></ul></li><li><code>SOCKS5</code> Commands 
  <ul><li><code>CONNECT</code></li><li><code>UDP ASSOCIATE</code></li></ul></li></ul><h3>http/https</h3><ul><li>IPV6 支持</li></ul><h3>內網穿透</h3><ul><li>Http 支持</li><li>Https 支持</li><li>Tcp 支持</li></ul><h3>反向代理</h3><ul><li>靜態文件服務器</li><li>被動健康檢查</li><li>主動健康檢查</li><li>配置熱加載</li><li>負載均衡</li><li>四層 TCP 負載</li><li>四層 UDP 負載</li><li>流量控制</li><li>websocket 轉發</li></ul><h3>基礎能力</h3><ul><li>日誌</li></ul><h4>擴展能力</h4><ul><li>請求限速 (limit_req)</li><li>修改 HTTP 請求 Header</li><li>支持 HTTP2 的內網穿透</li><li>控制微端</li><li>try_paths</li><li>tcp 轉 websocket</li><li>websocket 轉 tcp</li></ul></div>
                                    ]]>
            </description>
            <pubDate>Fri, 19 Jan 2024 07:03:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276155/wmproxy-0-2-5-released</guid>
            <link>https://www.oschina.net/news/276155/wmproxy-0-2-5-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Calibre 7.4 發佈，功能強大的開源電子書工具]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>Calibre 開源項目是 Calibre 官方出的電子書管理工具。它可以查看，轉換，編輯和分類所有主流格式的電子書。Calibre 是個跨平台軟件，可以在 Linux、Windows 和 macOS 上運行。</p><p>Calibre 7.4 現已正式發佈，此次更新內容如下：</p><p><strong>New features</strong></p><ul><li>添加對 Supernote A6X2 的支持</li><li>Narrow layout：當窗口的寬高比較窄時，將 cover browser 放置在圖書列表上方。可以通過 Preferences-&gt;Look &amp; feel-&gt;Cover browser 進行控制</li><li><p>Category notes browser:：添加按鈕以搜索當前所選類別中的書籍</p></li><li><p>用於切換主窗口布局的鍵盤快捷鍵 (Alt+Shift+L)</p></li><li><p>添加為 tag browser 排序功能分配鍵盤快捷鍵的可能性</p></li></ul><p><strong>Bug 修復</strong></p><ul><li><p>修復了上一版本中導致 cover browser&nbsp;用作單獨窗口時無法關閉的迴歸</p></li><li>修復了先前版本中的一個迴歸問題，該問題導致圖書詳細信息面板中的註釋顯示在其他信息的下方而不是一側</li><li>Edit book：修復特殊字符的高亮顯示在編輯後不會立即更改，僅在後續操作後才更改</li><li>將首選項移至默認工具欄的左側，使其不太可能隱藏在小屏幕上的擴展按鈕後面</li></ul><p><span style="background-color:#ffffff; color:#333333">更新説明：</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcalibre-ebook.com%2Fwhats-new" target="_blank">https://calibre-ebook.com/whats-new</a></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 19 Jan 2024 06:58:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276154/calibre-7-4-released</guid>
            <link>https://www.oschina.net/news/276154/calibre-7-4-released</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[ModStartCMS v8.0.0 列表自定義字段過濾，用戶賬號安全升級]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#34495e; margin-left:.5em; margin-right:.5em; text-align:left">ModStart 是一個基於 Laravel 模塊化極速開發框架。模塊市場擁有豐富的功能應用，支持後台一鍵快速安裝，讓開發者能快的實現業務功能開發。</p><p style="color:#34495e; margin-left:.5em; margin-right:.5em; text-align:left">系統完全開源，基於 Apache 2.0 開源協議，免費且不限制商業使用。</p><p style="color:#34495e; margin-left:.5em; margin-right:.5em; text-align:left"><img alt="系統演示" src="https://ms-assets.modstart.com/data/image/2022/04/18/22368_pbcb_2452.png" referrerpolicy="no-referrer"></p><h2>功能特性</h2><ul><li><p style="margin-left:.5em; margin-right:.5em">豐富的模塊市場，後台一鍵快速安裝</p></li><li><p style="margin-left:.5em; margin-right:.5em">會員模塊通用且完整，支持完整的 API 調用</p></li><li><p style="margin-left:.5em; margin-right:.5em">大文件分片上傳，進度條顯示，已上傳文件管理</p></li><li><p style="margin-left:.5em; margin-right:.5em">強大的模塊擴展功能，所有模塊可以無縫集成，支持在線安裝、卸載模塊</p></li><li><p style="margin-left:.5em; margin-right:.5em">完善的開發助手，實現模塊、主題的的一鍵創建</p></li><li><p style="margin-left:.5em; margin-right:.5em">完善的後台權限管理，支持基於 RBAC 的權限管理系統</p></li><li><p style="margin-left:.5em; margin-right:.5em">後台管理支持使用手機、平板、PC，無論何時何地都可方便管理</p></li><li><p style="margin-left:.5em; margin-right:.5em">第三方登錄（QQ、微信、微博、支付寶、微信小程序）</p></li><li><p style="margin-left:.5em; margin-right:.5em">第三方支付支持（微信、支付寶、支付寶當面付、微信掃碼、微信小程序）</p></li><li><p style="margin-left:.5em; margin-right:.5em">第三方雲存儲支持，支持雲儲存分片上傳（阿里雲、百度雲、華為雲、騰訊雲、FTP、七牛雲、UCloud、又拍雲）</p></li><li><p style="margin-left:.5em; margin-right:.5em">第三方短信支持（阿里雲、騰訊雲、華為雲、百度雲、253 雲通訊、聚合、七牛雲、融雲、賽郵、UCloud、雲片、網易雲）</p></li></ul><h2>V8.0.0 版本更新</h2><p style="color:#34495e; margin-left:.5em; margin-right:.5em; text-align:left">2024 年 01 月 19 日 ModStartCMS 發佈 v8.0.0 版本，增加了以下 17 個特性：</p><ul><li><p style="margin-left:.5em; margin-right:.5em">[新功能] Request::mergeQueries 合併請求參數按參數名稱排序，避免同業不同鏈問題</p></li><li><p style="margin-left:.5em; margin-right:.5em">[新功能] 隊列調度支持 work-max-jobs 屬性，支持進程批量處理</p></li><li><p style="margin-left:.5em; margin-right:.5em">[新功能] AdminConfigBuilder 增加配置保存檢查回調函數，支持配置與檢查</p></li><li><p style="margin-left:.5em; margin-right:.5em">[新功能] 用戶自動註冊前綴可設置，優化用戶顯示邏輯</p></li><li><p style="margin-left:.5em; margin-right:.5em">[新功能] VIP 開通界面增加最近開通用戶列表和倒計時，促進用戶開通率</p></li><li><p style="margin-left:.5em; margin-right:.5em">[新功能] 用戶 VIP 開通界面增加劃線價</p></li><li><p style="margin-left:.5em; margin-right:.5em">[新功能] NumberRange 組件支持，用於輸入數字範圍</p></li><li><p style="margin-left:.5em; margin-right:.5em">[新功能] 用戶後台授權登錄詳細數據列表支持彈窗查看</p></li><li><p style="margin-left:.5em; margin-right:.5em">[新功能] 請求輸入 getBase64File 自動檢測 Base64 文件前綴</p></li><li><p style="margin-left:.5em; margin-right:.5em">[新功能] 增加用戶賬號申訴功能，支持用戶自助找回賬號、賬號禁用申訴等用途</p></li><li><p style="margin-left:.5em; margin-right:.5em">[新功能] 用戶授權登錄時如果手機/郵箱已存在，直接關聯已有用戶</p></li><li><p style="margin-left:.5em; margin-right:.5em">[新功能] Form 支持原生 Response 直接返回，便於處理文件下載等表單</p></li><li><p style="margin-left:.5em; margin-right:.5em">[新功能] 列表增加自定義字段篩選過濾字段，支持自定義字段篩選</p></li><li><p style="margin-left:.5em; margin-right:.5em">[系統優化] AES 加密函數解密異常時錯誤優化</p></li><li><p style="margin-left:.5em; margin-right:.5em">[系統優化] 用戶賬號管理界面按鈕均調整為圓角樣式</p></li><li><p style="margin-left:.5em; margin-right:.5em">[系統優化] 授權登錄默認註冊為用戶暱稱（暱稱不可作為登錄用戶名）</p></li><li><p style="margin-left:.5em; margin-right:.5em">[系統優化] 動畫樣式類優化</p></li></ul><h2>功能特性</h2><h3>增加用戶賬號申訴功能，支持用戶自助找回賬號、賬號禁用申訴等用途</h3><p style="color:#34495e; margin-left:.5em; margin-right:.5em; text-align:left"><img alt="" src="https://mz-assets.tecmz.com/data/image/2024/01/03/37787_byjz_2217.png" referrerpolicy="no-referrer"></p><h3>用戶後台授權登錄詳細數據列表支持彈窗查看</h3><p style="color:#34495e; margin-left:.5em; margin-right:.5em; text-align:left"><img alt="" src="https://mz-assets.tecmz.com/data/image/2024/01/07/45107_gdwd_3911.png" referrerpolicy="no-referrer"></p><h3>用戶 VIP 開通界面增加劃線價</h3><p style="color:#34495e; margin-left:.5em; margin-right:.5em; text-align:left"><img alt="" src="https://mz-assets.tecmz.com/data/image/2024/01/08/42519_2vds_3264.png" referrerpolicy="no-referrer"></p><h3>VIP 開通界面增加最近開通用戶列表和倒計時，促進用戶開通率</h3><p style="color:#34495e; margin-left:.5em; margin-right:.5em; text-align:left"><img alt="" src="https://mz-assets.tecmz.com/data/image/2024/01/09/8925_9m5m_1927.png" referrerpolicy="no-referrer"></p><h3>用戶自動註冊前綴可設置，優化用戶顯示邏輯</h3><p style="color:#34495e; margin-left:.5em; margin-right:.5em; text-align:left"><img alt="" src="https://mz-assets.tecmz.com/data/image/2024/01/09/35325_0xoe_1906.png" referrerpolicy="no-referrer"></p><h3>列表增加自定義字段篩選過濾字段，支持自定義字段篩選</h3><p style="color:#34495e; margin-left:.5em; margin-right:.5em; text-align:left">如果需要進行自定義字段的篩選，需要設置字段以下屬性</p><ul><li><p style="margin-left:.5em; margin-right:.5em">字段開啓「列表搜索」</p></li><li><p style="margin-left:.5em; margin-right:.5em">字段開啓「訪客列表頁面可見」</p></li></ul><p style="color:#34495e; margin-left:.5em; margin-right:.5em; text-align:left">隨後在 URL 中傳遞該參數即可實現列表頁面的條件過濾。</p><p style="color:#34495e; margin-left:.5em; margin-right:.5em; text-align:left"><img alt="" src="https://mz-assets.tecmz.com/data/image/2024/01/19/21963_6qex_3553.png" referrerpolicy="no-referrer"></p><h2>模塊市場一鍵安裝</h2><p style="color:#34495e; margin-left:.5em; margin-right:.5em; text-align:left">系統內置模塊市場，有行業應用、插件、雲存儲、雲短信等功能模塊，後台支持一鍵安裝、啓用、禁用、卸載，可快速搭建屬於自己的系統應用。</p><p style="color:#34495e; margin-left:.5em; margin-right:.5em; text-align:left"><img alt="功能模塊" src="https://ms-assets.modstart.com/data/image/2022/04/18/22844_bgyg_5120.jpeg" referrerpolicy="no-referrer"></p><h2>系統演示與文檔</h2><ul><li><p style="margin-left:.5em; margin-right:.5em">碼雲倉庫：<a href="https://gitee.com/modstart/ModStartCMS">https://gitee.com/modstart/ModStartCMS</a></p></li><li><p style="margin-left:.5em; margin-right:.5em">Github 倉庫：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmodstart%2FModStartCMS" target="_blank">https://github.com/modstart/ModStartCMS</a></p></li><li><p style="margin-left:.5em; margin-right:.5em">系統演示：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcms.demo.tecmz.com%2F" target="_blank">https://cms.demo.tecmz.com/</a></p></li><li><p style="margin-left:.5em; margin-right:.5em">下載試用：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmodstart.com%2Fdownload" target="_blank">https://modstart.com/download</a></p></li><li><p style="margin-left:.5em; margin-right:.5em">開發者文檔：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmodstart.com%2Fdoc" target="_blank">https://modstart.com/doc</a></p></li><li><p style="margin-left:.5em; margin-right:.5em">模塊市場：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmodstart.com%2Fstore" target="_blank">https://modstart.com/store</a></p></li></ul></div>
                                    ]]>
            </description>
            <pubDate>Fri, 19 Jan 2024 06:58:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276153/modstartcms-8-0-0-released</guid>
            <link>https://www.oschina.net/news/276153/modstartcms-8-0-0-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[OurBMC 首個版本 1.0.0 正式發佈！]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="background-color:#ffffff; color:#343434">2023 年 12 月 29 日，經過社區開發者的共同努力，OurBMC 首個版本 1.0.0 正式發佈。OurBMC 1.0.0 提供從 host 端到 BMC 端的全棧 BMC 技術實現，適配多種軟硬件場景，併為開發者提供全面、高效的 BMC 全棧解決方案。</span></p><h4><span style="color:#2980b9"><span style="background-color:#ffffff">發佈內容</span></span></h4><p>OurBMC 1.0.0 發佈內容包含了 bmc-uboot、bmc-linux、bmc-openbmc、bmc-web、host-UEFI 以及 host-linux 6 大模塊。</p><ul><li>bmc-uboot</li></ul><p>Bmc-uboot v1.0.0 基於 U-Boot v2019.04 開發，在支持業界主流 BMC 芯片的基礎上，使能飛騰騰瓏 E2000S BMC 芯片，包括運行狀態心跳燈、多級復位、pinctrl 配置等功能。</p><ul><li>bmc-linux</li></ul><p>Bmc-linux v1.0.0 基於 openbmc Linux dev-5.15 新增飛騰騰瓏 E2000S BMC 功能支持，主要功能包括 IPMI 通信、虛擬串口、JPEG、USB vHub、JTAG。</p><ul><li>bmc-openbmc</li></ul><p>Bmc-openbmc 基於 OpenBMC v2.11.0 完善 ARM aarch64 支持，實現 SOL、KVM、Virtual Media，溫度、電壓、風扇等模塊的分組分區智能調節，cpld、bios、bmc 三類固件在線更新等功能。通過 JPEG 壓縮的 VNC 協議、網絡深度適配等優化，提供流暢的 KVM over IP 用戶操作體驗。</p><ul><li>bmc-web</li></ul><p>（1）Bmc-web 參考 OpenBMC webui-vue 前端佈局，自主研發 OurBMC Web 前端，使用擁有類型檢查的語言 TS 編碼，對變量類型嚴格管理，目錄層級分明，管理界面簡潔明瞭。</p><p style="text-align:center"><img height="45" src="https://oscimg.oschina.net/oscnet/up-6ad5e485da46bcb4c47930140016854e892.png" width="924" referrerpolicy="no-referrer"></p><p><span style="background-color:#fbfbfb; color:#24292e">（2）OurBMC/web 擁有告警顯示功能，可以進行 SNMP 和遠程服務器管理</span></p><p style="text-align:center"><img height="406" src="https://oscimg.oschina.net/oscnet/up-5907a3053ac3cc38a451afecd84d48921ea.png" width="573" referrerpolicy="no-referrer"></p><p style="color:#24292e; text-align:left">（3）OurBMC/web 散熱風扇管理頁面，實現服務器風扇轉速的分區智能調控。</p><div><img height="226" src="https://oscimg.oschina.net/oscnet/up-6499f9405cd6c16528e333a9c9f480ee476.png" width="681" referrerpolicy="no-referrer"></div><p>&nbsp;</p><ul><li>host-UEFI</li></ul><p>Host-UEFI 遵循上游 tianocore 社區的開源規則，並在此基礎上進行了完善和特性增強。總體分為 edk2 包，edk2-platforms 包及 edk2-non-osi 包。<br> （1）edk2 是基礎開發環境，提供通用基礎功能支持，OurBMC 1.0.0 版本在上游社區 stable202205 版本基礎上進行完善，特別是對動態 ACPI 功能的增強。</p><p>（2）edk2-platforms 提供各個芯片和平台的軟件支持，OurBMC 1.0.0 版本對飛騰服務器芯片和 sapota 平台進行了使能。</p><p>（3）edk2-non-osi 提供需要滿足特殊開源要求的模塊支持，OurBMC 1.0.0 版本使能飛騰不開源的部分模塊。</p><ul><li>host-linux</li></ul><p>Host-linux 基於 Linux 社區各主線穩定版（4.19、5.10、5.15、6.1）打造，增強服務器平台硬件支持，為生態合作伙伴及個人開發者提供全面的內核技術服務, 更好地支撐和擴展上層業務應用。</p><div><h4><span style="color:#2980b9"><strong>感謝</strong></span></h4></div><p style="color:#24292e; text-align:left">最後，衷心地感謝每一位參與和協助 OurBMC 工作的社區貢獻者，成功的保障了本次版本發佈，併為 OurBMC 的未來發展提供了無限的可能性。社區貢獻者的專業素養和奉獻精神，是社區不斷進步的重要動力，期待與大家共同推動 OurBMC 社區發展，創造更加美好的未來！</p><p style="text-align:center"><strong>OurBMC 1.0.0 版本如約而至，它所帶來的一系列新特性和功能，讓人眼前一亮、心生期待。<br> 歡迎大家積極下載嘗試，獲取鏈接請見下方：</strong></p><p style="text-align:center"><strong>下載地址：</strong></p><p style="text-align:center"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.ourbmc.cn%2F%23%2FDownloadProduct%C2%A0" target="_blank">https://www.ourbmc.cn/#/DownloadProduct&nbsp;</a></p><p style="text-align:center"><strong>社區官網地址：</strong></p><p style="text-align:center"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.ourbmc.cn" target="_blank">https://www.ourbmc.cn</a></p><p style="text-align:center"><strong>社區倉庫地址：</strong></p><p style="text-align:center"><a href="https://gitee.com/ourbmc">https://gitee.com/ourbmc</a></p><p style="text-align:center"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.xplaza.cn%2FOurBMC" target="_blank">https://www.xplaza.cn/OurBMC</a></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 19 Jan 2024 06:40:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276152/ourbmc-1-0-0-released</guid>
            <link>https://www.oschina.net/news/276152/ourbmc-1-0-0-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[CudaText 1.208.5 發佈，跨平台的文本編輯器]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>CudaText 是一個跨平台的文本編輯器，用 Object Pascal 編寫。它是開源項目，啓動速度相當快，它可以通過 Python 插件進行擴展，藉助 EControl 引擎還帶來了功能豐富的語法分析器。</p><p>CudaText 1.208.5 正式發佈，更新內容如下：</p><ul><li>更改：之前，在相當大的停頓 ~2000ms 後 caret movement 會更新狀態欄；現在停頓變小了，~500ms（選項「py_caret_slow」）</li><li>添加：命令「open file in default app」設置當前目錄</li><li>添加：URL 高亮顯示遺漏的 ":" 字符</li><li>修復：重要：在快速編輯 big code 時，gutter folding lines 不會 auto-adjusted _fast_，並且 caret 下方的 _folded_ blocks 也可以展開</li><li>修復：Qt5 和 macOS 版本：在查看器中，文本選擇高亮已「shifted」</li></ul><p><span style="background-color:#ffffff; color:#333333">更多詳情可查看：</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcudatext.github.io%2Fhistory.txt" target="_blank">https://cudatext.github.io/history.txt</a></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 19 Jan 2024 06:36:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276151/cudatext-1-208-5-released</guid>
            <link>https://www.oschina.net/news/276151/cudatext-1-208-5-released</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Python 3.13 Alpha 3]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>Python 3.13.0 第 3 個 alpha&nbsp;<u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fpythoninsider.blogspot.com%2F2024%2F01%2Fpython-3130-alpha-3-is-now-available.html" target="_blank">已發佈</a></u>，開發團隊表示目前仍在積極刪除全局解釋器鎖 (GIL)，並增強整體性能。</p><blockquote><p><img src="https://oscimg.oschina.net/oscnet/up-6ea14417c2e21ef7dd7fe8ab01f4d6191cc.png" referrerpolicy="no-referrer"></p></blockquote><p><strong>其他變化</strong></p><ul><li>Python 的交互式解釋器模式現在默認提供彩色異常回溯</li><li>文檔字符串現在已刪除其前導縮進，從而減少了內存使用和 .pyc 文件的大小</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fpeps.python.org%2Fpep-0594%2F" target="_blank">PEP 594</a>（從標準庫中刪除已棄用的模塊）：aifc、audioop、chunk、cgi、cgitb、crypt、imghdr、mailcap、msilib、nis、nntplib、ossaudiodev、pipes、sndhdr、spwd、sunau、 telnetlib、uu、xdrlib、lib2to3。</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocs.python.org%2Fdev%2Fwhatsnew%2F3.13.html%23removed" target="_blank">刪除</a>多個標準庫模塊中已被棄用的類、函數和方法</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocs.python.org%2Fdev%2Fwhatsnew%2F3.13.html%23deprecated" target="_blank">新的棄用內容</a>，其中大部分計劃從 Python 3.15 或 3.16 中刪除</li><li>針對 C API 的<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocs.python.org%2Fdev%2Fwhatsnew%2F3.13.html%23id10" target="_blank">刪除</a>和<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocs.python.org%2Fdev%2Fwhatsnew%2F3.13.html%23id9" target="_blank">棄用</a>（alpha 1 中存在的一些刪除已在 alpha 2 中恢復，因為此時刪除被認為過於破壞兼容性）</li></ul><p>Python 3.13 的下一個更新是 3.13.0a4，目前計劃於 2024 年 2 月 13 日發佈。</p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 19 Jan 2024 06:30:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276148/python-3-13-0-alpha-3</guid>
            <link>https://www.oschina.net/news/276148/python-3-13-0-alpha-3</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[PHP 8.3.2 發佈]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>PHP 8.3.2 現已<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.php.net%2Farchive%2F2024.php%232024-01-18-1" target="_blank">發佈</a>，這是一個錯誤修復版本。具體更新內容包括：</p><ul><li>Core： 
  <ul><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12953" target="_blank">GH-12953</a>（加載包含超過 11k 元素的 Composer classmaps&nbsp;時誤報 SSA 完整性驗證失敗）。</li><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12999" target="_blank">GH-12999</a>（不支持 strnlen 時構建 zend_strnlen）。</li><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12966" target="_blank">GH-12966</a>（缺少交叉編譯第三個參數，因此 Autoconf 不會發出警告）。</li><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12854" target="_blank">GH-12854</a>（8.3 - 因為最終 trait-used 方法無法在 Reflection 中正確報告可見性）。</li></ul></li><li>Cli： 
  <ul><li>修復使用路由器腳本和 max_input_time 時內置 Web 服務器中不正確的超時。</li></ul></li><li>DOM： 
  <ul><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12870" target="_blank">GH-12870</a>（創建 xmlns 屬性會導致 DOMException）。</li><li>修復在沒有文檔的情況下使用 toggleAttribute() 時的崩潰問題。</li><li>修復了具有屬性引用的 adoptNode 中的崩潰問題。</li><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F13012" target="_blank">GH-13012</a>（屬性順序不同時 DOMNode::isEqualNode() 不正確）。</li></ul></li><li>FFI： 
  <ul><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F9698" target="_blank">GH-9698</a>（使用 FFI\CData 時 stream_wrapper_register 會崩潰）。</li><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12905" target="_blank">GH-12905</a>（FFI::new 與 observers 交互不良）。</li></ul></li><li>Intl： 
  <ul><li>修復了<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12943" target="_blank">GH-12943</a>（IntlDateFormatter::__construct 接受「C」作為有效&nbsp;locale）。</li></ul></li><li>Hash： 
  <ul><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12936" target="_blank">GH-12936</a>（如果在字符串 &gt;= 4GiB 上使用 sha512，hash() 函數會無限掛起）。</li></ul></li><li>ODBC： 
  <ul><li>修復了在 Apache shutdown 時持久連接崩潰的問題。</li></ul></li><li>Opcache： 
  <ul><li>修復了 oss-fuzz #64727（當 DIM 與&nbsp;result&nbsp;的變量相同時，JIT 未定義數組鍵警告可能會用 NULL 覆蓋 DIM）。</li><li>添加了 SELinux mprotect execheap 問題的解決方法。參閲 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fbugzilla.kernel.org%2Fshow_bug.cgi%3Fid%3D218258%25E3%2580%2582" target="_blank">https://bugzilla.kernel.org/show_bug.cgi?id=218258。</a></li></ul></li><li>OpenSSL： 
  <ul><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12987" target="_blank">GH-12987</a>（openssl_csr_sign 可能會因錯誤而泄漏新證書）。</li></ul></li><li>PDO： 
  <ul><li>修復<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12969" target="_blank">GH-12969</a>（修復 PDO::getAttribute() 以獲取 PDO::ATTR_STRINGIFY_FETCHES）。</li></ul></li><li>PDO_ODBC： 
  <ul><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12767" target="_blank">GH-12767</a>（無法使用 setAttribute() 打開 autocommit&nbsp;模式）。</li></ul></li><li>PGSQL： 
  <ul><li>修復了 auto_reset_persistent 處理和 allowed_persistent 類型。</li><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12974" target="_blank">GH-12974</a>（使用 pg_pconnect() 時 Apache 在 shutdown&nbsp;時崩潰）。</li></ul></li><li>Phar： 
  <ul><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fbugs.php.net%2F77432" target="_blank">#77432</a>（包含 phar 文件時出現 Segmentation 錯誤）。</li></ul></li><li>PHP 數據庫： 
  <ul><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12962" target="_blank">GH-12962</a>（phpdbg_prompt.c 中 init_file 的 Double free&nbsp;）。</li></ul></li><li>SimpleXML： 
  <ul><li>修復了獲取 SimpleXMLElement 未初始化屬性的地址導致崩潰的問題。</li><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12929" target="_blank">GH-12929</a>（帶有 stream_wrapper_register 的 SimpleXMLElement 可能會出現 segfault）。</li></ul></li><li>Tidy： 
  <ul><li>修復了錯誤<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fissues%2F12980" target="_blank">GH-12980</a>（tidynode.props.attribute 缺少「Boolean Attributes」和空屬性）。</li></ul></li></ul><p><span style="background-color:#ffffff; color:#333333">&nbsp;更多詳情可查看&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.php.net%2FChangeLog-8.php%238.3.2" target="_blank">ChangeLog</a><span style="background-color:#ffffff; color:#333333">。</span></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 19 Jan 2024 02:28:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276126/php-8-3-2-released</guid>
            <link>https://www.oschina.net/news/276126/php-8-3-2-released</link>
            <author>
                <![CDATA[來源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[凌鯊 0.7.10 版本更新]]>
            </title>
            <description>
                <![CDATA[<div class="content"><h1>凌鯊 0.7.10 版本更新</h1><ul><li>服務端版本: 0.2.26</li><li>新增: 本地接口新增微應用相關接口</li><li>改進: 調整數據標註權限模塊</li><li>改進: 改進數據標註板塊樣式</li><li>改進: 系統菜單欄增加本地接口調試</li><li>改進: 改進信息面板樣式</li><li>改進: 改進項目內容列表樣式</li><li>去除: 去除項目概覽中其他信息板塊</li><li>去除: 去除導航欄回退按鈕</li></ul><h1>相關截圖</h1><p><img height="748" src="https://oscimg.oschina.net/oscnet/up-e6b2f70c74c9c35241117ec29c87fbc0639.png" width="1466" referrerpolicy="no-referrer"></p><p><img height="750" src="https://oscimg.oschina.net/oscnet/up-4ca439c3b7e24f6916705d22a8b6871f353.png" width="1500" referrerpolicy="no-referrer"></p><p><img height="750" src="https://oscimg.oschina.net/oscnet/up-ede51172b5cc4b6d801b28061a61cfdbf24.png" width="1500" referrerpolicy="no-referrer"></p><p><img height="839" src="https://oscimg.oschina.net/oscnet/up-c3a3871774d3e508461b55f6392f0fe4356.png" width="1016" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 19 Jan 2024 02:21:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/276124/linksaas-0-7-10-released</guid>
            <link>https://www.oschina.net/news/276124/linksaas-0-7-10-released</link>
            <author>
                <![CDATA[來源: 投稿]]>
            </author>
        </item>
    </channel>
</rss>
