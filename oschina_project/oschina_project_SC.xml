<?xml version="1.0" encoding="UTF-8"?>
<rss
    xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"


>
    <channel>
        <title>
            <![CDATA[开源中国-软件更新资讯]]>
        </title>
        <link>https://www.oschina.net/news/project</link>
        <atom:link href="https://rsshub.app/oschina/news/project" rel="self" type="application/rss+xml" />
        <description>
            <![CDATA[开源中国-软件更新资讯 - Made with love by RSSHub(https://github.com/DIYgod/RSSHub)]]>
        </description>
        <generator>RSSHub</generator>
        <webMaster>i@diygod.me (DIYgod)</webMaster>
        <language>zh-cn</language>
        <lastBuildDate>Mon, 26 Feb 2024 07:52:40 GMT</lastBuildDate>
        <ttl>120</ttl>
        <item>
            <title>
                <![CDATA[MakuBoot v4.0.0 发布，支持信创的低代码开发平台]]>
            </title>
            <description>
                <![CDATA[<div class="content"><h2>介绍</h2><ul><li><p style="margin-left:0; margin-right:0">maku-boot 是采用 SpringBoot3.2、SpringSecurity6.2、Mybatis-Plus、Vue3、Element-plus 等技术开发的低代码开发平台，旨在为开发者提供一个简单、高效、可扩展的低代码开发平台。</p></li><li><p style="margin-left:0; margin-right:0">使用门槛极低，支持国密加密、达梦数据库等，符合信创需求的低代码开发平台。</p></li><li><p style="margin-left:0; margin-right:0">采用组件模式，扩展不同的业务功能，可以很方便的实现各种业务需求，且不会导致系统臃肿，若想使用某个组件，按需引入即可，反之亦然。</p></li><li><p style="margin-left:0; margin-right:0">支持 Online 在线表单开发，可快速开发业务，无需部署及重启服务等优点。</p></li><li><p style="margin-left:0; margin-right:0">支持多种数据库，包括 MySQL、PostgreSQL、达梦等，可灵活切换。</p></li><li><p style="margin-left:0; margin-right:0">支持多种登录方式，包括账号密码、短信验证码、企业微信、钉钉、飞书、微信等，可灵活选择。</p></li><li><p style="margin-left:0; margin-right:0">支持多租户模式，可实现不同业务系统之间的隔离，能同时支持字段隔离、数据源隔离方式，满足对多租户的全部需求。</p></li><li>官网地址：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmaku.net" target="_blank">https://maku.net</a></li><li>开发文档：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmaku.net%2Fdocs%2Fmaku-boot" target="_blank">https://maku.net/docs/maku-boot</a></li><li>演示环境：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdemo.maku.net%2Fmaku-boot" target="_blank">https://demo.maku.net/maku-boot</a></li><li><span style="background-color:#ffffff; color:#40485b">企业版：</span><a href="https://gitee.com/link?target=https%3A%2F%2Fmaku.net%2Fprice">https://maku.net/price</a><p>&nbsp;</p></li></ul><h2>更新日志</h2><ul><li>支持国密加密、达梦数据库等，符合信创需求的低代码开发平台</li><li>采用 SM2 国密，对登录密码进行加密处理，防止密码泄露</li><li>采用 SM3 国密，对用户密码进行加密，更加符合信创需求</li><li>新增个人中心，提供个人信息修改、密码修改、第三方登录绑定</li><li>新增第三方登录，支持企业微信、钉钉、飞书、微信登录</li><li>新增用户管理机构过滤，方便通过机构查询用户列表</li><li>新增 ip2region 库，根据 IP 地址获取地名，更加准确</li><li>修复代码生成 date 类型请求参数时，类型转换报错问题</li><li>升级后端相关 jar 包的依赖</li></ul><h2>开源汇总</h2><ul><li>低代码开发平台（单体版）：<a href="https://gitee.com/makunet/maku-boot">https://gitee.com/makunet/maku-boot</a></li><li>低代码开发平台（微服务）：<a href="https://gitee.com/makunet/maku-cloud">https://gitee.com/makunet/maku-cloud</a></li><li>超好用的代码生成器：<a href="https://gitee.com/makunet/maku-generator">https://gitee.com/makunet/maku-generator</a></li><li>Vue3.x 后台管理 UI：<a href="https://gitee.com/makunet/maku-admin">https://gitee.com/makunet/maku-admin</a></li><li>Vue3.x 表单设计器：<a href="https://gitee.com/makunet/maku-form-design">https://gitee.com/makunet/maku-form-design</a></li></ul><h2>架构图</h2><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="1490" src="https://oscimg.oschina.net/oscnet/up-020294b9c82b189b44dba7406737a5998ae.png" width="1612" referrerpolicy="no-referrer"></p><h2>效果图</h2><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img alt="" height="1758" src="https://oscimg.oschina.net/oscnet/up-7071843d00bea17c142b5289e9a2c64311b.jpg" width="3449" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img alt="" height="1832" src="https://oscimg.oschina.net/oscnet/up-3ba660169011ab86deee0b69409555b7b4a.jpg" width="3434" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img alt="" height="1313" src="https://oscimg.oschina.net/oscnet/up-a6894450999362ccee3b05e5bb57abd9111.jpg" width="2863" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img alt="" height="1421" src="https://oscimg.oschina.net/oscnet/up-82ee77a57fb36f7f4c09cdb1a16c4662631.jpg" width="2865" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="1772" src="https://oscimg.oschina.net/oscnet/up-8d2ff8db397d7963631d20758db213fb676.png" width="3456" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="1717" src="https://oscimg.oschina.net/oscnet/up-d08841dd4c8e0d6f4eb1aebdae0829d26b4.png" width="3451" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img alt="" height="1823" src="https://oscimg.oschina.net/oscnet/up-1099ad75bda44d1fd0636745df4f0fc0fa7.jpg" width="3436" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="2160" src="https://oscimg.oschina.net/oscnet/up-1eb36863f1b630df6dd2d64bf54453069a1.png" width="3456" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img alt="" height="1428" src="https://oscimg.oschina.net/oscnet/up-ff63176a7f66a60e78bda59faa0d12a1b4a.png" width="2869" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img alt="" height="1454" src="https://oscimg.oschina.net/oscnet/up-70a9db2d8b064e34831d1ee75212da96b44.png" width="2809" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img alt="" height="1408" src="https://oscimg.oschina.net/oscnet/up-5e9d2f648e83943fb7b8a2ae7f2faa7f3a4.png" width="2879" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Mon, 26 Feb 2024 07:20:38 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280318/maku-boot-4-0-0-released</guid>
            <link>https://www.oschina.net/news/280318/maku-boot-4-0-0-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Ant Design 5.14.2 发布，企业级 UI 设计语言和 React 实现]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="background-color:#ffffff; color:#333333">An Design 5.14.2 现已发布，主要变化如下：</span></p><ul><li><span>&nbsp;</span>修复 DatePicker.RangePicker 的时间列有时不会滚动到正确位置的问题。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fant-design%2Fant-design%2Fpull%2F47542" target="_blank">#47542</a></li><li>修复 Modal 在打开期间会触发其他鼠标事件的问题。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fant-design%2Fant-design%2Fpull%2F47508" target="_blank">#47508</a></li><li>修复 Avatar.Group 的 tooltip 存在多余 dom 残留的问题。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fant-design%2Fant-design%2Fpull%2F47478" target="_blank">#47478</a></li><li>修复 Progress 组件多余的<span>&nbsp;</span><code>margin</code><span>&nbsp;</span>样式。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fant-design%2Fant-design%2Fpull%2F47493" target="_blank">#47493</a></li><li>修复 Table 滚动条在暗黑模式下的颜色。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fant-design%2Fant-design%2Fpull%2F47487" target="_blank">#47487</a></li><li>修复 Layout 内容字体在暗黑模式下的颜色。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fant-design%2Fant-design%2Fpull%2F47441" target="_blank">#47441</a></li><li>修复 Menu 组件在水平暗黑模式下自定义<span>&nbsp;</span><code>darkItemSelectedColor</code><span>&nbsp;</span>和<span>&nbsp;</span><code>darkItemSelectedBg</code><span>&nbsp;</span>token 不生效的问题。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fant-design%2Fant-design%2Fpull%2F47463" target="_blank">#47463</a></li></ul><p>更新说明：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fant-design%2Fant-design%2Freleases%2Ftag%2F5.14.2" target="_blank">https://github.com/ant-design/ant-design/releases/tag/5.14.2</a></p></div>
                                    ]]>
            </description>
            <pubDate>Mon, 26 Feb 2024 05:56:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280302/ant-design-5-14-2-released</guid>
            <link>https://www.oschina.net/news/280302/ant-design-5-14-2-released</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Libreboot 20240225 已发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="background-color:#ffffff; color:#333333">Libreboot 是一个自由开源的 BIOS/UEFI 替代品，基于 Coreboot，适用于 x86 和 ARM 机器。</span></p><p>新增硬件支持:</p><ul><li>HP EliteBook 8560w</li><li>Dell Latitude E5520</li><li>Dell Latitude E5530</li><li>Dell Latitude E6520</li><li>Dell Latitude E6420</li><li>Dell OptiPlex 9020/7020 SFF &amp; MT (及 XE2 SFF/MT)</li></ul><p>其它变动:</p><ul><li>MXM 支持 (INT15H) 加入到 SeaBIOS</li><li>pico-serprog 的重大更新，如：更高的驱动力，支持控制更多芯片</li><li>flashprog</li></ul><p><span style="background-color:#ffffff; color:#333333">有关更改的完整列表，请查看&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flibreboot.org%2Fnews%2Flibreboot20240225.html" target="_blank">发布公告页面</a><span style="background-color:#ffffff; color:#333333">。</span></p></div>
                                    ]]>
            </description>
            <pubDate>Mon, 26 Feb 2024 05:39:18 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280298/libreboot-20240225</guid>
            <link>https://www.oschina.net/news/280298/libreboot-20240225</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[开放签电子签章企业版上线【移动端功能（v1.5 版本）】]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><span><span><span>春节序曲奏响创新华章，紧锣密鼓的工作节奏下，开放签支持移动端签署啦！</span></span></span></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><span><span><span>在这个万家灯火的春节之际，开放签团队凭借高效的团队协作，在节日的热烈氛围中成功推出了全新版本（企业版 1.5 版），本次版本升级主要涉及到新增移动端签署、优化 PC 端用户体验、修改已知 bug 三个方面。开放签电子签章企业版 1.5 版本更新内容如下：</span></span></span></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><strong><span><span><span><strong>一、h5 移动端：</strong></span></span></span></strong></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><span><span><span>1、支持 h5 移动端应用，主要功能包括：在线注册、身份切换、文档管理、文档填写、文档签署、文档查看、签约文件在线预览、下载等操作；</span></span></span></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><span><span><span>2、支持个人和企业账号应用电子签章移动端功能；</span></span></span></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><span><span><span>3、支持短信链接快速账号注册/实名、文档填写、文档签署、文档抄送查看；</span></span></span></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><span><span><span>4、支持个人和企业注册、登录、个人/企业身份切换。</span></span></span></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><strong><span><span><span><strong>二、pc 端：</strong></span></span></span></strong></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><span><span><span>1、修改开放签个人端首页 UI 样式，增加个人账号操作指引；</span></span></span></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><span><span><span>2、修改签约文件填写、签署、验签的底层工具，使用 pdf-box 编辑工具，解决 itext-pdf 的商业授权问题。</span></span></span></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><strong><span><span><span><strong>三、修改已知 bug：</strong></span></span></span></strong></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><span><span><span>1、业务线和发起签署时，企业自动盖章节点，不再校验该节点的签署日期控件是否设置；</span></span></span></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><span><span><span>2、修复业务线签署控件重复提交问题；</span></span></span></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><span><span><span>3、修改发起签署时，发起方企业信息显示有误的问题；</span></span></span></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span><span><span><span><span><span><span>4、修复其他 bug，优化系统交互。</span></span></span></span></span></span></span></p><p style="margin-left:.0001pt; margin-right:0; text-align:justify"><span style="color:#e74c3c">欢迎大家尝鲜、指导和批评~</span></p></div>
                                    ]]>
            </description>
            <pubDate>Mon, 26 Feb 2024 03:40:21 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280282</guid>
            <link>https://www.oschina.net/news/280282</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Yzncms v1.4.0 已经发布，内容管理系统]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>Yzncms v1.4.0 已经发布，内容管理系统</p><p>此版本更新内容包括：</p><ul><li>【新增】新增 url 允许范围函数 check_url_allowed 和 url_clean</li><li>【优化】表引擎由 myisam 改为 innodb，部分代码增加事务，插件同步更新</li><li>【优化】去除短信 composer 包,改为短信插件内置</li><li>【优化】重构后台日志记录，新增是否后台记录配置</li><li>【优化】附件表字段名规范化</li><li>【优化】thinkphp 底层框架支持 PSR-11 容器规范</li></ul><p>详情查看：<a href="https://gitee.com/ken678/YZNCMS/releases/v1.4.0">https://gitee.com/ken678/YZNCMS/releases/v1.4.0</a></p></div>
                                    ]]>
            </description>
            <pubDate>Mon, 26 Feb 2024 03:08:21 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280276/yzncms-1-4-0-released</guid>
            <link>https://www.oschina.net/news/280276/yzncms-1-4-0-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Xmake v2.8.7 发布，新增 cosmocc 工具链支持，一次编译到处运行]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake" target="_blank">Xmake</a><span>&nbsp;</span>是一个基于 Lua 的轻量级跨平台构建工具。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">它非常的轻量，没有任何依赖，因为它内置了 Lua 运行时。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">它使用 xmake.lua 维护项目构建，相比 makefile/CMakeLists.txt，配置语法更加简洁直观，对新手非常友好，短时间内就能快速入门，能够让用户把更多的精力集中在实际的项目开发上。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">我们能够使用它像 Make/Ninja 那样可以直接编译项目，也可以像 CMake/Meson 那样生成工程文件，另外它还有内置的包管理系统来帮助用户解决 C/C++ 依赖库的集成使用问题。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">目前，Xmake 主要用于 C/C++ 项目的构建，但是同时也支持其他 native 语言的构建，可以实现跟 C/C++ 进行混合编译，同时编译速度也是非常的快，可以跟 Ninja 持平。</p><div><pre><code>Xmake = Build backend + Project Generator + Package Manager + [Remote|Distributed] Build + Cache
</code></pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">尽管不是很准确，但我们还是可以把 Xmake 按下面的方式来理解：</p><div><pre><code>Xmake ≈ Make/Ninja + CMake/Meson + Vcpkg/Conan + distcc + ccache/sccache
</code></pre></div><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake" target="_blank">项目源码</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fxmake.io%2F%23%2Fzh-cn%2F" target="_blank">官方文档</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fxmake.io%2F%23%2Fzh-cn%2Fabout%2Fcourse" target="_blank">入门课程</a></li></ul><h2>新特性介绍</h2><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">新版本中，我们新增了 cosmocc 工具链支持，使用它，我们可以实现一次编译，到处运行。另外，我们还重构了 C++ Modules 的实现，解决了很多 C++ Modules 相关的问题。</p><h3>Cosmocc 工具链支持</h3><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">cosmocc 工具链是<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fjart%2Fcosmopolitan" target="_blank">cosmopolitan</a><span>&nbsp;</span>项目提供的编译工具链，使用这个工具链编译的程序可以实现一次编译，到处运行。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">而新版本中，我们对这个工具链也做了支持，可以实现在 macosx/linux/windows 下编译程序，并且还能够支持自动下载 cosmocc 工具链。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">对于用户，仅仅只需要配置 xmake.lua 工程文件，然后执行<span>&nbsp;</span><code>xmake</code><span>&nbsp;</span>命令，即可实现一键编译，到处运行。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">xmake.lua 内容如下，这是一个最基础的 hello world 终端程序的构建配置。</p><div><pre><code><span style="color:#000000">add_rules</span><strong>(</strong><span style="color:#ff00ff">"mode.debug"</span><strong>,</strong><span style="color:#ff00ff">"mode.release"</span><strong>)</strong><span style="color:#000000">add_requires</span><strong>(</strong><span style="color:#ff00ff">"cosmocc"</span><strong>)</strong><span style="color:#000000">target</span><strong>(</strong><span style="color:#ff00ff">"test"</span><strong>)</strong><span style="color:#000000">set_kind</span><strong>(</strong><span style="color:#ff00ff">"binary"</span><strong>)</strong><span style="color:#000000">add_files</span><strong>(</strong><span style="color:#ff00ff">"src/*.c"</span><strong>)</strong><span style="color:#000000">set_toolchains</span><strong>(</strong><span style="color:#ff00ff">"@cosmocc"</span><strong>)</strong></code></pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">然后，我们执行 xmake 命令，它会先下载集成 cosmocc 工具链，然后使用这个工具链去编译程序。</p><div><pre><code><span style="color:#8f5902">ruki:console$ </span>xmake
checking <span style="color:blue">for </span>platform ... linux
checking <span style="color:blue">for </span>architecture ... x86_64
note: install or modify <strong>(</strong>m<strong>)</strong> these packages <strong>(</strong>pass -y to skip confirm<strong>)</strong>?
<span style="color:blue">in </span>xmake-repo:
  -&gt; cosmocc 3.2.4
please input: y <strong>(</strong>y/n/m<strong>)</strong><strong>=</strong>&gt; install cosmocc 3.2.4 .. ok
<strong>[</strong> 25%]: cache compiling.release src/main.c
<strong>[</strong> 50%]: linking.release <span style="color:black">test</span><strong>[</strong>100%]: build ok, spent 1.548s
<span style="color:#8f5902">ruki:console$ </span>xmake run
hello world
</code></pre></div><h3>C++ Modules 改进</h3><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">非常感谢 @Arthapz 对 C++ Modules 做了大量的改进工作，使得 xmake 更好地支持 C++ Modules 构建，也修复了很多已知的问题，例如 msys2/mingw 下对 C++ Modules 编译支持等问题。</p><h3>改进 xmake test</h3><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">2.8.5 版本开始，我们增加了内置的测试命令：<code>xmake test</code>，我们只需要在需要测试的 target 上通过 add_tests 配置一些测试用例，就可以自动执行测试。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">执行的效果如下：</p><div><pre><code>ruki-2:test ruki<span style="color:black">$ </span>xmake <span style="color:black">test
</span>running tests ...
<strong>[</strong>  2%]: test_1/args        .................................... passed 7.000s
<strong>[</strong>  5%]: test_1/default     .................................... passed 5.000s
<strong>[</strong>  8%]: test_1/fail_output .................................... passed 5.000s
<strong>[</strong> 11%]: test_1/pass_output .................................... passed 6.000s
<strong>[</strong> 13%]: test_2/args        .................................... passed 7.000s
<strong>[</strong> 16%]: test_2/default     .................................... passed 6.000s
<strong>[</strong> 19%]: test_2/fail_output .................................... passed 6.000s
<strong>[</strong> 22%]: test_2/pass_output .................................... passed 6.000s
<strong>[</strong> 25%]: test_3/args        .................................... passed 7.000s
...
<strong>[</strong> 77%]: test_7/pass_output .................................... failed 5.000s
<strong>[</strong> 80%]: test_8/args        .................................... passed 7.000s
<strong>[</strong> 83%]: test_8/default     .................................... passed 6.000s
<strong>[</strong> 86%]: test_8/fail_output .................................... passed 6.000s
<strong>[</strong> 88%]: test_8/pass_output .................................... failed 5.000s
<strong>[</strong> 91%]: test_9/args        .................................... passed 6.000s
<strong>[</strong> 94%]: test_9/default     .................................... passed 6.000s
<strong>[</strong> 97%]: test_9/fail_output .................................... passed 6.000s
<strong>[</strong>100%]: test_9/pass_output .................................... passed 6.000s

<span style="color:#8f5902">80% </span>tests passed, 7 tests failed out of 36, spent 0.242s
</code></pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">而新版本中，我们新增了对超时运行的测试支持。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">如果一些测试程序长时间运行不退出，就会卡住，我们可以通过配置超时时间，强制退出，并返回失败。</p><div><pre><code><span style="color:#000000">target</span><strong>(</strong><span style="color:#ff00ff">"test_timeout"</span><strong>)</strong><span style="color:#000000">set_kind</span><strong>(</strong><span style="color:#ff00ff">"binary"</span><strong>)</strong><span style="color:#000000">set_default</span><strong>(</strong><strong>false</strong><strong>)</strong><span style="color:#000000">add_files</span><strong>(</strong><span style="color:#ff00ff">"src/run_timeout.cpp"</span><strong>)</strong><span style="color:#000000">add_tests</span><strong>(</strong><span style="color:#ff00ff">"run_timeout"</span><strong>,</strong><strong>{</strong><span style="color:#000000">run_timeout</span><strong>=</strong><strong>1000</strong><strong>})</strong></code></pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">上面的配置中，我们通过<span>&nbsp;</span><code><span>{</span><span>run_timeout</span><span><span>&nbsp;</span></span><span>=</span><span><span>&nbsp;</span></span><span>1000</span><span>}</span></code><span>&nbsp;</span>可以配置指定的测试程序运行的超时时间，如果运行超时，就会作为测试失败。</p><div><pre><code><span style="color:#8f5902">$ </span>xmake <span style="color:black">test</span><strong>[</strong>100%]: test_timeout/run_timeout .................................... failed 1.006s
run failed, <span style="color:black">exit </span>code: -1, <span style="color:black">exit </span>error: <span style="color:black">wait </span>process timeout
</code></pre></div><h3>支持 Android NDK r26b</h3><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">自从 Android NDK r26b 之后，NDK 对内部构建工具链的结构做了很大的改动，完全采用 llvm clang 来构建程序，因此新版本 xmake 对它做了一些适配，使得能够继续很好地支持新的 NDK。</p><h3>改进运行时配置</h3><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">另外，我们还改进了<span>&nbsp;</span><code>set_runtimes</code><span>&nbsp;</span>接口，除了先前已经支持的<span>&nbsp;</span><code>MT/MD/MTd/MDd</code><span>&nbsp;</span>等 windows msvc 的运行时库配置，还新增了<span>&nbsp;</span><code>c++_static</code>,<span>&nbsp;</span><code>c++_shared</code>,<span>&nbsp;</span><code>stdc++_static</code>,<span>&nbsp;</span><code>stdc++_shared</code><span>&nbsp;</span>等库配置，</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">它们用于 clang/gcc 的 c++ 运行时库配置。而对于 Android 平台编译， 我们也将已有的<span>&nbsp;</span><code>xmake f --ndk_cxxstl=</code><span>&nbsp;</span>等配置，也合并统一到<span>&nbsp;</span><code>xmake f --runtimes=</code><span>&nbsp;</span>中，与<span>&nbsp;</span><code>set_runtimes</code><span>&nbsp;</span>相对应。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">除了设置，我们也可以在 target 中，通过<span>&nbsp;</span><code>target:runtimes()</code><span>&nbsp;</span>和<span>&nbsp;</span><code>target:has_runtime()</code><span>&nbsp;</span>等接口去获取和判断当前的 runtimes 库，在 package 中，也有一样的接口可用。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">例如：</p><div><pre><code><span style="color:#000000">target</span><strong>(</strong><span style="color:#ff00ff">"test"</span><strong>)</strong><span style="color:#000000">add_files</span><strong>(</strong><span style="color:#ff00ff">"src/*.cpp"</span><strong>)</strong><span style="color:#000000">on_load</span><strong>(</strong><span style="color:blue">function</span><strong>(</strong><span style="color:#000000">target</span><strong>)</strong><span style="color:blue">if</span><span style="color:#000000">target</span><strong>:</strong><span style="color:#000000">has_runtime</span><strong>(</strong><span style="color:#ff00ff">"c++_shared"</span><strong>,</strong><span style="color:#ff00ff">"c++_static"</span><strong>)</strong><span style="color:blue">then</span><em>-- TODO</em><span style="color:blue">end</span><span style="color:blue">end</span><strong>)</strong></code></pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">如果<span>&nbsp;</span><code>c++_static</code><span>&nbsp;</span>配置生效，在 Clang 编译的时候，就会被自动添加<span>&nbsp;</span><code>-stdlib=libc++ -static-libstdc++</code><span>&nbsp;</span>等 flags，而如果<span>&nbsp;</span><code>stdc++_static</code><span>&nbsp;</span>则对应<span>&nbsp;</span><code>-stdlib=slibtdc++</code>。</p><h3>改进脚本匹配模式</h3><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">xmake 中的所有<span>&nbsp;</span><code>on_xxx</code>,<span>&nbsp;</span><code>before_xxx</code><span>&nbsp;</span>和<span>&nbsp;</span><code>after_xxx</code><span>&nbsp;</span>等脚本配置接口，都可以在第一个参数中，设置脚本能够被运行的平台架构模式。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">如果指定的模式和当前架构模式匹配，配置的脚本才能够被执行，它的完整的过滤语法如下：<code>plat|arch1,arch2@host|arch1,arch2</code></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">看上去非常的复杂，其实很简单，其中每个阶段都是可选的，可部分省略，对应：<code>编译平台|编译架构@主机平台|主机架构</code></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">如果不设置任何平台过滤条件，那么默认全平台支持，里面的脚本对所有平台生效，例如：</p><div><pre><code><span style="color:#000000">on_install</span><strong>(</strong><span style="color:blue">function</span><strong>(</strong><span style="color:#000000">package</span><strong>)</strong><em>-- TODO</em><span style="color:blue">end</span><strong>)</strong></code></pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">如果安装脚本对特定平台生效，那么直接指定对应的编译平台，可以同时指定多个：</p><div><pre><code><span style="color:#000000">on_install</span><strong>(</strong><span style="color:#ff00ff">"linux"</span><strong>,</strong><span style="color:#ff00ff">"macosx"</span><strong>,</strong><span style="color:blue">function</span><strong>(</strong><span style="color:#000000">package</span><strong>)</strong><em>-- TODO</em><span style="color:blue">end</span><strong>)</strong></code></pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">如果还要细分到指定架构才能生效，可以这么写：</p><div><pre><code><span style="color:#000000">on_install</span><strong>(</strong><span style="color:#ff00ff">"linux|x86_64"</span><strong>,</strong><span style="color:#ff00ff">"iphoneos|arm64"</span><strong>,</strong><span style="color:blue">function</span><strong>(</strong><span style="color:#000000">package</span><strong>)</strong><em>-- TODO</em><span style="color:blue">end</span><strong>)</strong></code></pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">如果还要限制执行的主机环境平台和架构，可以在后面追加<code>@host|arch</code>，例如：</p><div><pre><code><span style="color:#000000">on_install</span><strong>(</strong><span style="color:#ff00ff">"mingw@windows"</span><strong>,</strong><span style="color:blue">function</span><strong>(</strong><span style="color:#000000">package</span><strong>)</strong><em>-- TODO</em><span style="color:blue">end</span><strong>)</strong></code></pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">意思就是仅对 windows 下编译 mingw 平台生效。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">我们也可以不指定比那一平台和架构，仅设置主机平台和架构，这通常用于描述一些跟编译工具相关的依赖包，只能在主机环境运行。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">例如，我们编译的包，依赖了 cmake，需要添加 cmake 的包描述，那么里面编译安装环境，只能是主机平台：</p><div><pre><code><span style="color:#000000">on_install</span><strong>(</strong><span style="color:#ff00ff">"@windows"</span><strong>,</strong><span style="color:#ff00ff">"@linux"</span><strong>,</strong><span style="color:#ff00ff">"@macosx"</span><strong>,</strong><span style="color:blue">function</span><strong>(</strong><span style="color:#000000">package</span><strong>)</strong><em>-- TODO</em><span style="color:blue">end</span><strong>)</strong></code></pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">其他一些例子：</p><div><pre><code><em>-- `@linux`</em><em>-- `@linux|x86_64`</em><em>-- `@macosx,linux`</em><em>-- `android@macosx,linux`</em><em>-- `android|armeabi-v7a@macosx,linux`</em><em>-- `android|armeabi-v7a@macosx,linux|x86_64`</em><em>-- `android|armeabi-v7a@linux|x86_64`</em></code></pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">而在 2.8.7 中，我们改进了模式匹配支持，新增排除指定平台和架构，例如：</p><div><pre><code>!plat|!arch@!subhost|!subarch
</code></pre></div><div><pre><code>@!linux
@!linux|x86_64
@!macosx,!linux
!android@macosx,!linux
android|!armeabi-v7a@macosx,!linux
android|armeabi-v7a,!iphoneos@macosx,!linux|x86_64
!android|armeabi-v7a@!linux|!x86_64
!linux|<span style="color:blue">*</span></code></pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">同时，还提供了一个内置的<span>&nbsp;</span><code>native</code><span>&nbsp;</span>架构，用于匹配当前平台的本地架构，主要用于指定或者排除交叉编译平台。</p><div><pre><code><span style="color:#000000">on_install</span><strong>(</strong><span style="color:#ff00ff">"macosx|native"</span><strong>,</strong><strong>...</strong><strong>)</strong></code></pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">上面的配置，如果在 macOS x86_64 的设备上，它仅仅只会匹配<span>&nbsp;</span><code>xmake f -a x86_64</code><span>&nbsp;</span>的本地架构编译。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">如果是<span>&nbsp;</span><code>xmake f -a arm64</code><span>&nbsp;</span>交叉编译，就不会被匹配到。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">同理，如果只想匹配交叉编译，可以使用<span>&nbsp;</span><code>macosx|!native</code><span>&nbsp;</span>进行取反排除就行了。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">这个模式改进，其实主要用于仓库包配置的简化，更好的处理不同平台下包安装脚本的配置支持。</p><h2>更新日志</h2><h3>新特性</h3><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fissues%2F4544" target="_blank">#4544</a>: 改进<span>&nbsp;</span><code>xmake test</code>，支持等待进程超时</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fpull%2F4606" target="_blank">#4606</a>: 为 package 添加<span>&nbsp;</span><code>add_versionfiles</code><span>&nbsp;</span>接口</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fissues%2F4709" target="_blank">#4709</a>: 添加 cosmocc 工具链支持</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fissues%2F4715" target="_blank">#4715</a>: 在描述域添加 is_cross() 接口</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fissues%2F4747" target="_blank">#4747</a>: 添加<span>&nbsp;</span><code>build.always_update_configfiles</code><span>&nbsp;</span>策略</li></ul><h3>改进</h3><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fissues%2F4575" target="_blank">#4575</a>: 检测无效的域参数</li><li>添加更多的 loong64 支持</li><li>改进 dlang/dmd 对 frameworks 的支持</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fissues%2F4571" target="_blank">#4571</a>: 改进<span>&nbsp;</span><code>xmake test</code><span>&nbsp;</span>的输出支持</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fissues%2F4609" target="_blank">#4609</a>: 改进探测 vs 构建工具环境</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fissues%2F4614" target="_blank">#4614</a>: 改进支持 android ndk 26b</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fissues%2F4473" target="_blank">#4473</a>: 默认启用警告输出</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fissues%2F4477" target="_blank">#4477</a>: 改进 runtimes 去支持 libc++/libstdc++</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fissues%2F4657" target="_blank">#4657</a>: 改进脚本的模式匹配</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fpull%2F4673" target="_blank">#4673</a>: 重构模块支持</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fpull%2F4746" target="_blank">#4746</a>: 为 cmake generator 添加原生 c++ modules 支持</li></ul><h3>Bugs 修复</h3><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fissues%2F4596" target="_blank">#4596</a>: 修复远程构建缓存</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxmake-io%2Fxmake%2Fissues%2F4689" target="_blank">#4689</a>: 修复目标依赖继承</li></ul></div>
                                    ]]>
            </description>
            <pubDate>Mon, 26 Feb 2024 01:47:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280255/xmake-2-8-7-released</guid>
            <link>https://www.oschina.net/news/280255/xmake-2-8-7-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[DjangoAdmin 敏捷开发框架 FastAPI+Layui 版本 v2.2.0 发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>v2.2.0 更新内容：<br> 1、解决编辑用户密码误被清空的问题；<br> 2、解决编辑会员密码误被清空的问题；<br> 3、优化系统权限架构，提升使用体验；<br> 4、删除系统中废弃的代码；<br> 5、修复近期用户反馈的问题；</p><div><div><div><p style="margin-left:0; margin-right:0"><span style="background-color:#ffffff; color:#40485b">一款 Python 语言基于 FastAPI、Layui、MySQL 等框架精心打造的一款模块化、高性能、企业级的敏捷开发框架，本着简化开发、提升开发效率的初衷触发，框架自研了一套个性化的组件，实现了可插拔的组件式开发方式：单图上传、多图上传、下拉选择、开关按钮、单选按钮、多选按钮、图片裁剪等等一系列个性化、轻量级的组件，是一款真正意义上实现组件化开发的敏捷开发框架。</span></p><h2>软件信息</h2><ul><li>软件名称：DjangoAdmin 敏捷开发框架 FastAPI+Layui 版本</li><li>官网网址：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.djangoadmin.cn" target="_blank">https://www.djangoadmin.cn</a></li><li>文档网址：<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fdocs.fastapi.layui.djangoadmin.cn" target="_blank">http://docs.fastapi.layui.djangoadmin.cn</a></li><li>演示地址：<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fmanage.fastapi.layui.djangoadmin.cn" target="_blank">http://manage.fastapi.layui.djangoadmin.cn</a></li></ul><h2>版本说明</h2><table cellspacing="0" style="-webkit-text-stroke-width:0px; background-color:#ffffff; border-collapse:collapse; border-spacing:0px; border:none; box-sizing:border-box; color:#40485b; display:block; font-family:-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Helvetica,Arial,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Liberation Sans&quot;,&quot;PingFang SC&quot;,&quot;Microsoft YaHei&quot;,&quot;Hiragino Sans GB&quot;,&quot;Wenquanyi Micro Hei&quot;,&quot;WenQuanYi Zen Hei&quot;,&quot;ST Heiti&quot;,SimHei,SimSun,&quot;WenQuanYi Zen Hei Sharp&quot;,sans-serif; font-size:16px; font-style:normal; font-variant-caps:normal; font-variant-ligatures:normal; font-weight:400; letter-spacing:normal; line-height:inherit; margin:0px 0px 16px; max-width:100%; orphans:2; overflow:auto; text-align:left; text-decoration-color:initial; text-decoration-style:initial; text-decoration-thickness:initial; text-transform:none; white-space:normal; widows:2; width:635px; word-break:initial; word-spacing:0px"><tbody><tr><th>版本名称</th><th>版本说明</th><th>版本地址</th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">Django+Layui 混编版</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">采用 Django、Layui 等框架研发</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><a href="https://gitee.com/djangoadmin/DjangoAdmin_Django_Layui">https://gitee.com/djangoadmin/DjangoAdmin_Django_Layui</a></td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">Flask+Layui 混编版</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">采用 Flask、Layui 等框架研发</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><a href="https://gitee.com/djangoadmin/DjangoAdmin_Flask_Layui">https://gitee.com/djangoadmin/DjangoAdmin_Flask_Layui</a></td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">FastAPI+Layui 混编版</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">采用 FastAPI、Layui 等框架研发</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><a href="https://gitee.com/djangoadmin/DjangoAdmin_Fastapi_Layui">https://gitee.com/djangoadmin/DjangoAdmin_Fastapi_Layui</a></td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">Tornado+Layui 混编版</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">采用 Tornado、Layui 等框架研发</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><a href="https://gitee.com/djangoadmin/DjangoAdmin_Tornado_Layui">https://gitee.com/djangoadmin/DjangoAdmin_Tornado_Layui</a></td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">Django+EleVue 前后端分离版</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">采用 Django、Vue2.x、ElementUI 等框架研发前后端分离版本</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><a href="https://gitee.com/djangoadmin/DjangoAdmin_Django_EleVue">https://gitee.com/djangoadmin/DjangoAdmin_Django_EleVue</a></td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">Flask+EleVue 前后端分离版</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">采用 Flask、Vue2.x、ElementUI 等框架研发前后端分离版本</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><a href="https://gitee.com/djangoadmin/DjangoAdmin_Flask_EleVue">https://gitee.com/djangoadmin/DjangoAdmin_Flask_EleVue</a></td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">FastAPI+EleVue 前后端分离版</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">采用 FastAPI、Vue2.x、ElementUI 等框架研发前后端分离版本</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><a href="https://gitee.com/djangoadmin/DjangoAdmin_Fastapi_EleVue">https://gitee.com/djangoadmin/DjangoAdmin_Fastapi_EleVue</a></td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">Tornado+EleVue 前后端分离版</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">采用 Tornado、Vue2.x、ElementUI 等框架研发前后端分离版本</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><a href="https://gitee.com/djangoadmin/DjangoAdmin_Tornado_EleVue">https://gitee.com/djangoadmin/DjangoAdmin_Tornado_EleVue</a></td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">Django+AntdVue 前后端分离版</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">采用 Django、Vue3.x、AntDesign 等框架研发前后端分离版本</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><a href="https://gitee.com/djangoadmin/DjangoAdmin_Django_AntdVue">https://gitee.com/djangoadmin/DjangoAdmin_Django_AntdVue</a></td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">Flask+AntdVue 前后端分离版</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">采用 Flask、Vue3.x、AntDesign 等框架研发前后端分离版本</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><a href="https://gitee.com/djangoadmin/DjangoAdmin_Flask_AntdVue">https://gitee.com/djangoadmin/DjangoAdmin_Flask_AntdVue</a></td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">FastAPI+AntdVue 前后端分离版</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">采用 FastAPI、Vue3.x、AntDesign 等框架研发前后端分离版本</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><a href="https://gitee.com/djangoadmin/DjangoAdmin_Fastapi_AntdVue">https://gitee.com/djangoadmin/DjangoAdmin_Fastapi_AntdVue</a></td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">Tornado+AntdVue 前后端分离版</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">采用 Tornado、Vue、AntDesign 等框架研发前后端分离版本</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><a href="https://gitee.com/djangoadmin/DjangoAdmin_Tornado_AntdVue">https://gitee.com/djangoadmin/DjangoAdmin_Tornado_AntdVue</a></td></tr></tbody></table><h2>核心组件</h2><ul><li>单图上传组件</li></ul><div><div><pre><span>{{ <span style="color:#032f62">"avatar|头像|90x90|建议上传尺寸 450x450|450x450"</span>|image(<span style="color:#d73a49">data</span>.avatar, <span style="color:#032f62">"jpg|png|gif"</span>, <span>0</span>) }}</span></pre></div></div><ul><li>多图上传组件</li></ul><div><div><pre><span>{{ <span style="color:#032f62">"imgs|图集|90x90|20|建议上传尺寸 450x450"</span>|album(<span style="color:#d73a49">data</span>.imgsList, <span style="color:#032f62">"jpg|png|gif"</span>, <span>10</span>) }}</span></pre></div></div><ul><li>下拉选择组件</li></ul><div><div><pre><span>{{ <span style="color:#032f62">"gender|1|性别|name|id"</span>|<span style="color:#d73a49">select</span>(<span style="color:#032f62">"1=男,2=女,3=保密"</span>, data.gender) }}</span></pre></div></div><ul><li>单选按钮组件</li></ul><div><div><pre><span>{{ <span style="color:#032f62">"gender|name|id"</span>|radio(<span style="color:#032f62">"1=男,2=女,3=保密"</span>, <span>1</span>) }}</span></pre></div></div><ul><li>复选框组件</li></ul><div><div><pre><span>{{ <span style="color:#032f62">"gender|name|id"</span>|checkbox(<span style="color:#032f62">"1=男,2=女,3=保密"</span>, <span>1</span>) }}</span></pre></div></div><ul><li>城市选择组件</li></ul><div><div><pre><span>{{ <span style="color:#d73a49">data</span><span style="color:#6f42c1">.district_code</span>|<span style="color:#d73a49">default</span>(<span style="color:#032f62">""</span>)|<span style="color:#d73a49">city</span>(<span>3</span>, <span>1</span>) }}</span></pre></div></div><ul><li>开关组件</li></ul><div><div><pre><span>{{ <span style="color:#032f62">"status"</span>|<span style="color:#d73a49">switch</span>(<span style="color:#032f62">"在用|禁用"</span>, data.status|<span style="color:#d73a49">default</span>(<span>1</span>)) }}</span></pre></div></div><ul><li>日期组件</li></ul><div><div><pre><span>{{ <span style="color:#032f62">"birthday|1|出生日期|date"</span>|date(<span style="color:#d73a49">data</span>.birthday) }}</span></pre></div></div><ul><li>图标组件</li></ul><div><div><pre><span>{{ <span style="color:#032f62">"icon"</span>|icon(<span style="color:#d73a49">data</span>.icon|<span style="color:#d73a49">default</span>(<span style="color:#032f62">"layui-icon-component"</span>)) }}</span></pre></div></div><ul><li>穿梭组件</li></ul><div><div><pre><span>{{ <span style="color:#032f62">"func|0|全部节点,已赋予节点|name|id|220x350"</span>|transfer(<span style="color:#032f62">"1=列表,5=添加,10=修改,15=删除,20=详情,25=状态,30=批量删除,35=添加子级,40=全部展开,45=全部折叠,50=导出数据,55=导入数据,60=分配权限,65=重置密码"</span>, funcList) }}</span></pre></div></div><h2>模块展示</h2><p style="margin-left:0; margin-right:0"><img alt="" src="https://oscimg.oschina.net/oscnet/up-f3a9f92ebed2c5ae2e4fc5088400763a09f.png" referrerpolicy="no-referrer"></p></div></div></div></div>
                                    ]]>
            </description>
            <pubDate>Sun, 25 Feb 2024 22:56:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280229</guid>
            <link>https://www.oschina.net/news/280229</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[PicList 2.7.4 发布，图床管理和上传工具，功能优化]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>PicList 是一款高效的云存储和图床平台管理工具，在 PicGo 的基础上经过深度的二次开发，不仅完整保留了 PicGo 的所有功能，还增添了许多新的 feature。例如相册支持同步云端删除文件，内置图床额外添加了 WebDav、本地图床和 SFTP 等。PicList 同时增加了完整的云存储管理功能，包括云端目录查看、文件搜索、批量上传下载和删除文件，复制多种格式文件链接和图片/markdown/文本/视频预览等，另外还有更加强大的相册和多项功能新增或优化。</p><h2>开源地址和软件官网</h2><ul><li><p>Github: <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FKuingsmile%2FPicList" target="_blank">https://github.com/Kuingsmile/PicList</a></p></li><li><p>Gitee: <a href="https://gitee.com/kuingsmile/PicList">https://gitee.com/kuingsmile/PicList</a></p></li><li><p>软件官网：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fpiclist.cn" target="_blank">https://piclist.cn</a></p></li></ul><h2>下载地址</h2><h3>MacOS</h3><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2FPicList-2.7.4-arm64.dmg" target="_blank">PicList-2.7.4-arm64.dmg</a><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2FPicList-2.7.4-x64.dmg" target="_blank">PicList-2.7.4-x64.dmg</a><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2FPicList-2.7.4-universal.dmg" target="_blank">PicList-2.7.4-universal.dmg</a></p><h3>Windows</h3><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2FPicList-Setup-2.7.4-ia32.exe" target="_blank">PicList-Setup-2.7.4-ia32.exe</a><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2FPicList-Setup-2.7.4-x64.exe" target="_blank">PicList-Setup-2.7.4-x64.exe</a><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2FPicList-Setup-2.7.4.exe" target="_blank">PicList-Setup-2.7.4.exe</a></p><h3>Linux</h3><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2FPicList-2.7.4.AppImage" target="_blank">PicList-2.7.4.AppImage</a><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Frelease.piclist.cn%2Flatest%2Fpiclist_2.7.4_amd64.snap" target="_blank">piclist_2.7.4_amd64.snap</a></p><h2>本次更新内容</h2><h3>✨ Features</h3><ul><li>设置界面添加了新的选项以快速进入配置文件和日志目录</li><li>优化了 github 图床云端删除对特殊路径的处理</li></ul><h3>🐛 Bug Fixes</h3><ul><li>修复了导入配置时，默认图床名没有跟随当前时间变化的问题</li><li>修复了内置 s3 图床的禁用存储桶前缀设置项没有正确生效的问题</li><li>修复了部分繁体中文翻译错误</li></ul><h2>特色功能</h2><ul><li>保留了 PicGo 的所有功能，兼容绝大部分已有的 PicGo 插件，包括和 Typora、Obsidian 等软件的搭配</li><li>新增了多个内置图床，如 WebDav、本地图床和 SFTP 等，原内置 imgur 图床额外支持登录账号上传</li><li>相册中可同步删除云端图片，支持所有内置图床和多个插件</li><li>相册新增了高级搜索和排序，批量修改 URL 等功能</li><li>内置水印添加、图片压缩、图片缩放、图片旋转和图片格式转换等功能，同时支持高级重命名</li><li>支持配置同步至 Github 或 Gitee 仓库</li><li>支持管理十余种图床，可以在线进行云端目录查看、文件搜索、批量上传、批量下载、删除文件等</li><li>支持预览多种格式的文件，包括图片、视频、纯文本文件和 markdown 文件等，具体支持的格式请参考<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FKuingsmile%2FPicList%2Fblob%2Fdev%2Fsupported_format.md" target="_blank">支持的文件格式列表</a></li><li>支持启用正则表达式的批量云端文件重命名</li><li>对于私有存储桶等支持复制预签名链接进行分享</li><li>支持软件自动更新，支持多种启动模式，还有更多功能细节新增和优化</li><li>优化了 PicGo 的界面，解锁了窗口大小限制，同时美化了部分界面布局</li><li>mac 平台安装包已签名，从源头解决了 PicGo 上的安装包已损坏的日经问题</li></ul><h2>软件截图</h2><p><img alt="image.png" src="https://note.msq.pub/202308230137997.webp" referrerpolicy="no-referrer"><img alt="image.png" src="https://note.msq.pub/202308230138231.webp" referrerpolicy="no-referrer"><img alt="image.png" src="https://note.msq.pub/202308230138929.webp" referrerpolicy="no-referrer"><img alt="image.png" src="https://note.msq.pub/202308230139152.webp" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Sun, 25 Feb 2024 03:57:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280143</guid>
            <link>https://www.oschina.net/news/280143</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Git for Windows 2.44.0 发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>Git for Windows v2.44.0 现已发布。这<span style="background-color:#ffffff; color:#1f2328">是支持 Windows 7 和 Windows 8 的最后一个版本，详情可</span>参阅&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.msys2.org%2Fdocs%2Fwindows_support%2F" target="_blank">MSYS2 相应的弃用公告</a>。此外，Git for Windows&nbsp;<span style="background-color:#ffffff; color:#1f2328">的 32 位</span>版本已弃用；其最后一次正式版本<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgitforwindows.org%2F32-bit.html" target="_blank">计划于 2025 年发布</a>。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">具体更新内容包括：</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong style="color:#333333">New Features</strong></p><ul><li>附带<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fblob%2Fv2.44.0%2FDocumentation%2FRelNotes%2F2.44.0.txt" target="_blank">Git v2.44.0</a>。</li><li>附带<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FYubico%2Flibfido2%2Freleases%2Ftag%2F1.14.0" target="_blank">libfido2 v1.14.0</a>。</li><li>附带基于&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Finbox.sourceware.org%2Fcygwin-announce%2F20231129150845.713029-1-corinna-cygwin%40cygwin.com%2F" target="_blank">Cygwin v3.4.10</a>&nbsp;的 MSYS2 运行时（Git for Windows 版本） 。</li><li>附带&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fsearch.cpan.org%2Fdist%2Fperl-5.38.2%2Fpod%2Fperldelta.pod" target="_blank">Perl v5.38.2</a>。</li><li>Git for Windows<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2Fgit%2Fpull%2F4700" target="_blank">学，会了检测和使用对 ANSI 序列的本机 Windows 支持</a>，这允许在终端窗口中使用 24-bit colors。</li><li>附带&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit-lfs%2Fgit-lfs%2Freleases%2Ftag%2F3.4.1" target="_blank">Git LFS v3.4.1</a>。</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2FMINGW-packages%2Fpull%2F104" target="_blank">现在也可以直接从 PowerShell/CMD 调用</a>&nbsp; Git for Windows 中包含的存储库查看器&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fjonas.github.io%2Ftig%2F" target="_blank">Tig</a>。</li><li>附带&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fopenssh%2Fopenssh-portable%2Freleases%2Ftag%2FV_9_6_P1" target="_blank">OpenSSH v9.6.P1</a>。</li><li>附带&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgit.savannah.gnu.org%2Fcgit%2Fbash.git%2Fcommit%2F%3Fid%3Df3b6bd19457e260b65d11f2712ec3da56cef463f" target="_blank">Bash v5.2.26</a>。</li><li>附带&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flists.gnupg.org%2Fpipermail%2Fgnutls-help%2F2024-January%2F004841.html" target="_blank">GNU TLS v3.8.3</a>。</li><li>附带&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.openssl.org%2Fnews%2Fopenssl-3.2-notes.html" target="_blank">OpenSSL v3.2.1</a>。</li><li>附带&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcurl.se%2Fchanges.html%238_6_0" target="_blank">cURL v8.6.0</a>。</li><li>附带&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgpg%2Fgnupg%2Freleases%2Ftag%2Fgnupg-2.4.4" target="_blank">GNU Privacy Guard v2.4.4</a>。</li></ul><p style="text-align:start"><strong><span><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>Bug 修复</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><ul><li>Git for Windows 的 32 位版本缺少一些 MSYS2 运行时更新，<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2FMSYS2-packages%2Fpull%2F138" target="_blank">该问题已得到解决</a>；值得注意的是，<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgitforwindows.org%2F32-bit.html" target="_blank">32 位支持已被逐步淘汰</a>。</li><li>Git for Windows 安装程序<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2Fgit%2Fissues%2F4727" target="_blank">在某些设置中显示了截断文本</a>。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2Fbuild-extra%2Fpull%2F536" target="_blank">已得到修复</a>。</li><li><code>git credential-manager --help</code>命令之前无法在网络浏览器中找到要显示的页面，<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2Fbuild-extra%2Fpull%2F542" target="_blank">这一问题已得到修复</a>。</li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2FMSYS2-packages%2Fpull%2F158" target="_blank">修复了</a>一些可能导致 Git Bash 在某些情况下挂起的错误。</li></ul><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">更新说明：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit-for-windows%2Fgit%2Freleases%2Ftag%2Fv2.44.0.windows.1" target="_blank">https://github.com/git-for-windows/git/releases/tag/v2.44.0.windows.1</a></p></div>
                                    ]]>
            </description>
            <pubDate>Sun, 25 Feb 2024 02:15:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280262/git-for-windows-2-44-0-released</guid>
            <link>https://www.oschina.net/news/280262/git-for-windows-2-44-0-released</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Excelize 开源基础库 2.8.1 版本发布, 2024 年首个更新]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#24292e; margin-left:0px; margin-right:0px; text-align:center"><img alt="" height="225" src="https://oscimg.oschina.net/oscnet/up-09f8b3aef766602915a1e424c039ff5df50.jpg" width="300" referrerpolicy="no-referrer"></p><p style="color:#24292e; margin-left:0; margin-right:0; text-align:start">Excelize 是 Go 语言编写的用于操作 Office Excel 文档基础库，基于 ECMA-376，ISO/IEC 29500 国际标准。可以使用它来读取、写入由 Microsoft Excel™ 2007 及以上版本创建的电子表格文档。支持 XLAM / XLSM / XLSX / XLTM / XLTX 等多种文档格式，高度兼容带有样式、图片 (表)、透视表、切片器等复杂组件的文档，并提供流式读写 API，用于处理包含大规模数据的工作簿。可应用于各类报表平台、云计算、边缘计算等系统。入选 2020 Gopher China - Go 领域明星开源项目 (GSP)、2018 年开源中国码云最有价值开源项目 GVP (Gitee Most Valuable Project)，目前已成为 Go 语言最受欢迎的 Excel 文档基础库。</p><h2>开源代码</h2><p style="color:#24292e; margin-left:0; margin-right:0; text-align:start"><strong>GitHub:</strong><span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fxuri%2Fexcelize" target="_blank">github.com/xuri/excelize</a></p><p style="color:#24292e; margin-left:0; margin-right:0; text-align:start"><strong>Gitee:</strong><span>&nbsp;</span><a href="https://gitee.com/xurime/excelize">gitee.com/xurime/excelize</a></p><p style="color:#24292e; margin-left:0; margin-right:0; text-align:start"><strong>中文文档:</strong><span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fxuri.me%2Fexcelize%2Fzh-hans" target="_blank">xuri.me/excelize/zh-hans</a></p><h2>版本说明</h2><p>2024 年 2 月 26 日，社区正式发布了 2.8.1 版本，该版本包含了多项新增功能、错误修复和兼容性提升优化。下面是有关该版本更新内容的摘要，此版本中最显著的变化包括：</p><h3>兼容性提示</h3><ul><li>升级至该版本需要您使用的 Go 语言为 1.18 或更高版本，以升级依赖库<span>&nbsp;</span><code>golang.org/x/net</code></li><li>将数据类型<span>&nbsp;</span><code>HeaderFooterOptions</code><span>&nbsp;</span>中的字段<span>&nbsp;</span><code>AlignWithMargins</code><span>&nbsp;</span>和<span>&nbsp;</span><code>ScaleWithDoc</code><span>&nbsp;</span>修改为指针类型，解决 issue #1645</li><li>移除了未使用的导出类型<span>&nbsp;</span><code>ShapeColor</code></li></ul><h3>新增功能</h3><ul><li>新增函数<span>&nbsp;</span><code>SetCellUint</code><span>&nbsp;</span>支持设置无符号整型数，相关 issue #1681</li><li>新增函数<span>&nbsp;</span><code>GetPictureCells</code><span>&nbsp;</span>支持获取图片单元格座标，相关 issue #1218</li><li>新增函数<span>&nbsp;</span><code>GetConditionalStyle</code><span>&nbsp;</span>支持获取条件格式样式定义，相关 issue #1690</li><li>新增函数<span>&nbsp;</span><code>GetHeaderFooter</code><span>&nbsp;</span>支持获取工作表页眉页脚控制字符设置</li><li>新增函数<span>&nbsp;</span><code>AddSlicer</code><span>&nbsp;</span>支持为表格和数据透视表添加切片器</li><li>新增函数<span>&nbsp;</span><code>GetPivotTables</code><span>&nbsp;</span>支持获取数据透视表</li><li>新增函数<span>&nbsp;</span><code>DeletePivotTable</code><span>&nbsp;</span>支持删除数据透视表</li><li>数据类型<span>&nbsp;</span><code>PivotTableOptions</code><span>&nbsp;</span>中添加了新的字段<span>&nbsp;</span><code>Name</code><span>&nbsp;</span>以支持创建数据透视表时指定自定义数据透视表名称</li><li>新增 7 项公式函数：DBCS、SEARCH、SEARCHB、TEXT、TEXTAFTER、TEXTBEFORE 和 xlfn.ANCHORARRAY</li><li>新增<span>&nbsp;</span><code>ChartLineType</code><span>&nbsp;</span>枚举类型，以支持设置图表区域边框线型，相关 issue #1706</li><li>数据类型<span>&nbsp;</span><code>Chart</code><span>&nbsp;</span>中添加了新的字段<span>&nbsp;</span><code>Border</code><span>&nbsp;</span>以支持设置图表区域边框类型</li><li>数据类型<span>&nbsp;</span><code>ChartLine</code><span>&nbsp;</span>中添加了新的字段<span>&nbsp;</span><code>Type</code><span>&nbsp;</span>以支持设置图表线型</li><li>新增文档对象关系部件名称与命名空间变量<span>&nbsp;</span><code>NameSpaceSpreadSheetXR10</code>、<code>ContentTypeSlicer</code>、<code>ContentTypeSlicerCache</code><span>&nbsp;</span>和<span>&nbsp;</span><code>SourceRelationshipSlicer</code></li><li>新增扩展资源标识常量<span>&nbsp;</span><code>ExtURIPivotCacheDefinition</code></li><li>允许在自定义名称、表格名称和数据透视表名称中使用点字符</li><li>删除工作表中的表格时，将保留表格区域全部单元格的值</li><li>支持读取带有分数数字格式的单元格</li><li>删除图片时，如果图片仅有一处引用，将同时从工作簿内部删除对应的图片文件，以减少生成工作簿的体积并消除由此产生的潜在安全风险</li><li>支持为批注框设置自定义宽度和高度，相关 issue #1688</li><li>插入或删除行列时，支持更新条件格式、数据验证、自定义名称、图形对象、单元格公式、易失性函数中的单元格座标引用，相关 issue #1306 和 #1615</li><li>新增 6 项新增条件格式类型：「特定文本」、「空值」、「无空值」、「错误」、「无错误」和「发生日期」</li><li>公式计算引擎支持计算带有多重负号的单元格公式</li><li>复制行时支持复制条件格式与数据验证，相关 issue #1729</li><li>设置行高度函数<span>&nbsp;</span><code>SetRowHeight</code><span>&nbsp;</span>支持通过指定行高度为<span>&nbsp;</span><code>-1</code><span>&nbsp;</span>移除自定义行高度设置</li><li>当给定的行高度无效时，函数<span>&nbsp;</span><code>SetRowHeight</code><span>&nbsp;</span>将返回错误提示信息</li><li>添加图表函数<span>&nbsp;</span><code>AddChart</code><span>&nbsp;</span>支持设置图表中的数据标签位置，相关 issue #1704</li><li>添加图表函数<span>&nbsp;</span><code>AddChart</code><span>&nbsp;</span>支持设置图表区域、绘图区域和数据标记的填充色和透明填充，在<span>&nbsp;</span><code>Chart</code>、<code>ChartPlotArea</code><span>&nbsp;</span>和<span>&nbsp;</span><code>ChartMarker</code><span>&nbsp;</span>数据类型中添加了<span>&nbsp;</span><code>Fill</code><span>&nbsp;</span>选项，相关 issue #1786</li><li>添加图表函数<span>&nbsp;</span><code>AddChart</code><span>&nbsp;</span>支持设置图表座标轴文字字体、字号和删除线格式，相关 issue #1809</li><li>数据类型<span>&nbsp;</span><code>ChartSeries</code><span>&nbsp;</span>中新增了<span>&nbsp;</span><code>DataLabelPosition</code><span>&nbsp;</span>字段，用于指定图表中各数据系列数据标签的位置</li><li>数据类型<span>&nbsp;</span><code>Chart</code><span>&nbsp;</span>中新增了<span>&nbsp;</span><code>BubbleSize</code><span>&nbsp;</span>字段，用于设置气泡图和三维气泡图的气泡大小</li><li>新增导出数据类型<span>&nbsp;</span><code>ChartDataLabelPositionType</code></li><li>获取图片单元格函数<span>&nbsp;</span><code>GetPictureCells</code><span>&nbsp;</span>和获取图片函数<span>&nbsp;</span><code>GetPictures</code><span>&nbsp;</span>支持读取由 Kingsoft WPS™ Office 创建的嵌入单元格图片，相关 issue #664</li><li>设置条件格式函数<span>&nbsp;</span><code>SetConditionalFormat</code><span>&nbsp;</span>支持批量为多个单元格区域设置条件格式，相关 issue #1783</li><li>重命名工作表时支持更新自定义名称，相关 issue #1792</li><li>新增<span>&nbsp;</span><code>GetBaseColor</code><span>&nbsp;</span>函数，支持读取首选十六进制颜色代码，相关 issue #1794</li><li>公式计算引擎支持读取日期类型单元格的值，相关 issue #1807</li><li>单元格值读取函数支持继承使用<span>&nbsp;</span><code>OpenReader</code><span>&nbsp;</span>函数打开文档时所指定的<span>&nbsp;</span><code>Options</code><span>&nbsp;</span>选项设置，相关 issue #1815</li></ul><h3>兼容性提升</h3><ul><li>提升了对内部带有绝对路径绘图部件工作簿的兼容性</li><li>提升了对内部带有浮点型<span>&nbsp;</span><code>tabRatio</code><span>&nbsp;</span>属性值工作簿部件的兼容性</li><li>提升了读取带有空的自定义数字格式单元格的兼容性</li><li>提升了与不支持默认主题部件命名空间电子表格预览程序的兼容性，相关 issue #1694</li><li>提升了单元格批注形状与 KingSoft WPS™ Office 的兼容性，相关 issue #1789</li><li>保存工作簿时对内部部件进行排序，以确保在不改变工作簿内容时生成的文件具有一致的哈希值，相关 issue #1732</li></ul><h3>问题修复</h3><ul><li>添加对公式函数 MID 和 MIDB 中 num_chars 参数的检查，以防止出现负数导致的 panic，解决 issue #1647</li><li>修复部分情况下，公式函数 LEN、LOWER、PROPER、REPT、UPPER 和 IF 的计算结果为空的问题</li><li>修复部分情况下，计算公式函数 CHITEST 和 MMULT 时出现 panic 的问题</li><li>修复 v2.8.0 中引入的问题，通过创建特殊自定义名称的方式设置打印区域和打印标题时不再返回错误</li><li>修复 v2.8.0 中引入的问题，修复了由于内部样式部件中索引颜色和 MRU 颜色缺省值处理有误导致的生成工作簿损坏问题</li><li>修复 v2.8.0 中引入的问题，修复了特定情况下读取带有数字格式的单元格结果为空的问题，解决 issue #1658</li><li>修复 v2.7.1 中引入的问题，修复了气泡图和三维气泡图中不显示气泡的问题</li><li>修复因内部工作表 ID 处理有误导致的特定情况下通过<span>&nbsp;</span><code>AutoFilter</code><span>&nbsp;</span>函数添加自动过滤器时出现的 panic，解决 issue #1655</li><li>修复部分情况下在工作表中添加表格导致的工作表损坏问题</li><li>修复部分情况下读取带有时间类型数字格式单元格的值有误的问题，解决 issue #1661</li><li>支持计算字符型公式单元格的值，解决 issue #1665</li><li>修复在带有单元格表格的工作簿中添加表格时，表格 ID 生成有误的问题</li><li>修复部分情况下工作簿内容关系部件丢失的问题</li><li>升级数字格式表达式解析器，以修复对于带有自定义文本的数字格式表达式格式化结果有误问题</li><li>更新了简体中文和繁体中文语言的预设数字格式列表</li><li>修复了部分情况下，自定义数字格式索引生成有误的问题，解决 issue #1677</li><li>修复通过删除后再添加表格方式更新表格区域范围时出现错误的问题，解决 issue #1682</li><li>修复在使用流式读取函数后，所产生的临时文件无法被清理的潜在问题，解决 issue #1680</li><li>修复部分情况下公式计算结果有误的问题，解决 issue #1681</li><li>修复并发读取单元格的值时出现的竞态问题，解决 issue #1687</li><li>修复根据样式索引获取样式定义时，部分样式定义缺失问题，解决 issue #1708</li><li>修复部分情况下读取带有科学记数法数字格式单元格的值结果有误的问题，解决 issue #1710</li><li>修复部分情况下，读取带有工作表中不含<span>&nbsp;</span><code>r</code><span>&nbsp;</span>属性的行元素导致的 panic 问题，解决 issue #1723</li><li>修复获取富文本单元格函数<span>&nbsp;</span><code>GetCellRichText</code><span>&nbsp;</span>在获取内联富文本时返回错误的问题</li><li>修复部分情况下，由于共享字符串表索引计算有误导致的设置单元格的值结果有误问题</li><li>修复函数<span>&nbsp;</span><code>GetConditionalFormats</code><span>&nbsp;</span>读取带有「高于平均值」条件格式规则时 panic 的问题，解决 issue #1745</li><li>修复了删除行之后合并单元格有误的问题，解决 issue #1749</li><li>修复了<span>&nbsp;</span><code>SetConditionalFormat</code><span>&nbsp;</span>函数在创建带有多规则条件格式时，规则优先级有误的问题，解决 issue #1770</li><li>修复了<span>&nbsp;</span><code>GetConditionalFormats</code><span>&nbsp;</span>函数无法读取带有渐变填充格式数据条的问题，解决 issue #1769</li><li>修复了获取样式函数<span>&nbsp;</span><code>GetStyle</code><span>&nbsp;</span>或获取条件格式样式函数<span>&nbsp;</span><code>GetConditionalStyle</code><span>&nbsp;</span>所返回的小数位数<span>&nbsp;</span><code>DecimalPlaces</code><span>&nbsp;</span>字段值有误问题，解决 issue #1777</li><li>修复了使用<span>&nbsp;</span><code>CalcCellValue</code><span>&nbsp;</span>函数时，开启<span>&nbsp;</span><code>RawCellValue</code><span>&nbsp;</span>选项失效的问题，解决 issue #1803</li></ul><h3>性能优化</h3><ul><li>提高了添加与删除数据透视表和图片的性能</li><li>降低了修剪单元格时的内存占用，解决 issue #1712</li></ul><h3>其他</h3><ul><li>Go Modules 依赖模块更新</li><li>单元测试与文档更新</li><li>包含简体中文、繁体中文、英语、法语、俄语、日语、韩语、阿拉伯语、德语和西班牙语的多国语言文档网站更新，新增葡萄牙语版本文档</li></ul></div>
                                    ]]>
            </description>
            <pubDate>Sun, 25 Feb 2024 02:10:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280260/excelize-2-8-1-released</guid>
            <link>https://www.oschina.net/news/280260/excelize-2-8-1-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[🎉 领域模型即服务 | Wow 2.15.5 发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><a href="https://ahoowang.gitee.io/wow/"><img alt="Wow:基于 DDD、EventSourcing 的现代响应式 CQRS 架构微服务开发框架" src="https://static.oschina.net/uploads/img/202312/13135012_Zb9v.svg" width="150" referrerpolicy="no-referrer"></a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FWow%2Fblob%2Fmvp%2FLICENSE"><img alt="License" src="https://img.shields.io/badge/license-Apache%202-4EB1BA.svg" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FWow%2Freleases"><img alt="GitHub release" src="https://img.shields.io/github/release/Ahoo-Wang/Wow.svg" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fmaven-badges.herokuapp.com%2Fmaven-central%2Fme.ahoo.wow%2Fwow-core"><img alt="Maven Central" src="https://maven-badges.herokuapp.com/maven-central/me.ahoo.wow/wow-core/badge.svg" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fapp.codacy.com%2Fgh%2FAhoo-Wang%2FWow%2Fdashboard%3Futm_source%3Dgh%26utm_medium%3Dreferral%26utm_content%3D%26utm_campaign%3DBadge_grade"><img alt="Codacy Badge" src="https://app.codacy.com/project/badge/Grade/cfc724df22db4f9387525258c8a59609" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fcodecov.io%2Fgh%2FAhoo-Wang%2FWow"><img alt="codecov" src="https://codecov.io/gh/Ahoo-Wang/Wow/branch/main/graph/badge.svg?token=uloJrLoQir" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FWow"><img alt="Integration Test Status" src="https://github.com/Ahoo-Wang/Wow/actions/workflows/integration-test.yml/badge.svg" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FKotlinBy%2Fawesome-kotlin"><img alt="Awesome Kotlin Badge" src="https://kotlin.link/awesome-kotlin.svg" referrerpolicy="no-referrer"></a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><strong>领域驱动</strong><span>&nbsp;</span>|<span>&nbsp;</span><strong>事件驱动</strong><span>&nbsp;</span>|<span>&nbsp;</span><strong>测试驱动</strong><span>&nbsp;</span>|<span>&nbsp;</span><strong>声明式设计</strong><span>&nbsp;</span>|<span>&nbsp;</span><strong>响应式编程</strong><span>&nbsp;</span>|<span>&nbsp;</span><strong>命令查询职责分离</strong><span>&nbsp;</span>|<span>&nbsp;</span><strong>事件溯源</strong></p><blockquote><p style="margin-left:0; margin-right:0"><strong>官方文档：</strong><img alt="👉" height="14" src="https://cn-assets.gitee.com/assets/emoji/point_right-8d392cf32998e3bca12bb7b4ee10dae0.png" width="14" referrerpolicy="no-referrer"><span>&nbsp;</span><a href="https://ahoowang.gitee.io/wow/" target="_blank">https://ahoowang.gitee.io/wow/</a><span>&nbsp;</span><img alt="👈" height="14" src="https://cn-assets.gitee.com/assets/emoji/point_left-4570b6929b8880ab2e8b8031007fef18.png" width="14" referrerpolicy="no-referrer"></p></blockquote><h2>更新内容</h2><ul><li>重构 (core): 移除重复的上下文写入</li><li>依赖: 升级<span>&nbsp;</span><code>org.springframework.boot:spring-boot-dependencies</code><span>&nbsp;</span>版本，到<span>&nbsp;</span><code>v3.2.3</code></li><li>依赖 (compensation): 升级<span>&nbsp;</span><code>me.ahoo.coapi:coapi-bom</code><span>&nbsp;</span>版本，到<span>&nbsp;</span><code>v1.0.5</code></li><li>依赖 (core): 升级<span>&nbsp;</span><code>me.ahoo.cosid:cosid-bom</code><span>&nbsp;</span>版本，到<span>&nbsp;</span><code>v2.6.6</code></li><li>依赖 (core): 升级<span>&nbsp;</span><code>me.ahoo.simba:simba-bom</code><span>&nbsp;</span>版本，到<span>&nbsp;</span><code>v2.2.4</code></li><li>依赖 (ci): 升级<span>&nbsp;</span><code>codecov/codecov-action</code><span>&nbsp;</span>版本，到<span>&nbsp;</span><code>v4</code></li><li>依赖 (build): 升级<span>&nbsp;</span><code>detekt</code><span>&nbsp;</span>版本，到<span>&nbsp;</span><code>v1.23.5</code></li><li>依赖 (build): 升级<span>&nbsp;</span><code>gradle<span>&nbsp;</span></code>版本，到<span>&nbsp;</span><code>v8.6</code></li><li>依赖 (dashborad): 升级<span>&nbsp;</span><code>angular</code><span>&nbsp;</span>版本，到<span>&nbsp;</span><code>v17.2.2</code></li><li>依赖 (dashborad): 升级<span>&nbsp;</span><code>monaco-editor</code><span>&nbsp;</span>版本，到<span>&nbsp;</span><code>0.46.0</code></li><li>依赖 (dashborad): 升级<span>&nbsp;</span><code>typescript</code><span>&nbsp;</span>版本，到<span>&nbsp;</span><code>5.3.0</code></li><li>依赖 (opentelemetry): 升级<span>&nbsp;</span><code>io.opentelemetry.instrumentation:opentelemetry-instrumentation-bom</code><span>&nbsp;</span>版本，到<span>&nbsp;</span><code>v1.35.0</code></li><li>依赖 (test): 升级<span>&nbsp;</span><code>org.testcontainers:testcontainers-bom</code><span>&nbsp;</span>版本，到<span>&nbsp;</span><code>v1.19.6</code></li></ul><h2>简介</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em>Wow</em><span>&nbsp;</span>是一个基于领域驱动设计和事件溯源的现代响应式<span>&nbsp;</span><em>CQRS</em><span>&nbsp;</span>微服务开发框架，历经多年生产环境验证。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">旨在帮助开发者构建现代化的、高性能且易于维护的微服务应用程序，充分发挥领域驱动设计和事件溯源等模式优势的同时降低应用的复杂性以及实践成本。</p><blockquote><p style="margin-left:0; margin-right:0">值得一提的是，领域驱动设计和事件溯源并非微服务架构的专属，<em>Wow</em><span>&nbsp;</span>框架不仅适用于微服务开发，同样也可用于构建基于领域驱动设计的单体应用程序。</p></blockquote><h2>快速开始</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://ahoowang.gitee.io/wow/guide/getting-started.html">使用 Wow 项目模板快速创建基于 Wow 框架的 DDD 项目</a></p><h2>特性概览</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Wow-Features" src="https://gitee.com/AhooWang/Wow/raw/main/documentation/docs/public/images/Features.png" referrerpolicy="no-referrer"></p><h2>架构图</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Wow-Architecture" src="https://gitee.com/AhooWang/Wow/raw/main/documentation/docs/public/images/Architecture.svg" referrerpolicy="no-referrer"></p><h2>背景</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">随着业务的发展和复杂性的增加，传统的架构和开发方式逐渐显露出瓶颈。<em>领域驱动设计</em>和<em>事件溯源</em>等理念在提高系统设计的灵活性和可维护性方面表现出色，但在实践中常常需要面对复杂性和学习曲线的挑战。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em>Wow</em><span>&nbsp;</span>框架的目标是以简单易用的方式将领域驱动设计和事件溯源等理念融入到微服务应用开发中，降低开发者的学习成本，提高开发效率。 通过提供现代响应式的<span>&nbsp;</span><em>CQRS</em><span>&nbsp;</span>架构和相关组件，<em>Wow</em><span>&nbsp;</span>框架旨在让开发者更专注于业务逻辑的实现，而不必过多关心底层技术细节。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">经过多年的实践和不断的演进，<em>Wow</em><span>&nbsp;</span>框架在生产环境中得到了验证，积累了丰富的经验。这些经验和反馈不仅丰富了框架的功能和性能，也为持续的改进和优化提供了宝贵的指导。</p><h2>对于开发者而言，<em>Wow</em><span>&nbsp;</span>框架意味着什么？</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">我曾告诫我的团队：如果我们过于依赖<em>数据驱动设计</em>而忽视<em>领域驱动设计</em>，我们最终将沦为<span>&nbsp;</span><em>CRUD</em><span>&nbsp;</span>工程师。</p><blockquote><p style="margin-left:0; margin-right:0"><em>CRUD</em><span>&nbsp;</span>工程师的竞争力和可替代性可想而知，这或许是为何会有<span>&nbsp;</span><em>35</em><span>&nbsp;</span>岁效应，企业显然更倾向于招募没有太多生活羁绊、更加廉价的<span>&nbsp;</span><em>25</em><span>&nbsp;</span>岁<span>&nbsp;</span><em>CRUD</em><span>&nbsp;</span>工程师。</p></blockquote><h3>业务价值</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">软件系统的核心价值体现在业务价值上，研发人员不应只关注技术实现上，而是应该更多地关注业务价值的实现。 这其中的好处显而易见，当你开发完一个业务系统之后，你将变成一个业务专家，甚至比跟你合作的领域专家还要专业，因为你需要洞察业务细节。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">使用<span>&nbsp;</span><em>Wow</em><span>&nbsp;</span>框架，意味着你将关注点放在围绕领域模型设计上，与业务专家一起探索业务领域，而不是关注于技术实现上。 你仅需编写领域模型，即可完成服务开发，<em>Wow</em><span>&nbsp;</span>框架自动为你准备好<span>&nbsp;</span><em>OpenAPI</em><span>&nbsp;</span>接口。</p><blockquote><p style="margin-left:0; margin-right:0">在《实现领域驱动设计》一书中，作者 Vaughn Vernon 提到：核心域才值得投入精力进行领域驱动设计， 但如果你使用<span>&nbsp;</span><em>Wow</em><span>&nbsp;</span>框架，你将发现，因为低廉开发成本、快速的开发效率，即使是次要的支撑子域也值得<span>&nbsp;</span><em>DDD</em>。</p></blockquote><h3>性能与伸缩性</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">随着业务的发展，你需要开始思考系统的性能和伸缩性问题。 在传统架构中，这牵扯到数据库关系模式、分片规则等复杂问题，同时你还需要处理因数据库分片导致的跨分片事务问题。 这时，你不得不修改你的业务代码，以适应水平拆分后的数据库架构。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">然而，如果你选择使用<span>&nbsp;</span><em>Wow</em><span>&nbsp;</span>框架，你将不再需要过多关注数据库关系模式、分片规则等问题。你的业务代码无需变更，系统能够轻松实现水平伸缩。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">你可以在这里了解更多关于<span>&nbsp;</span><a href="https://ahoowang.gitee.io/wow/guide/perf-test.html">Wow 框架的性能</a>。</p><h3>读写分离与同步延迟</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">读写分离是一种极为普遍的性能优化架构模式。 然而，同步延迟问题常伴随而来，事务执行成功后写库落库成功，但读库同步延迟，用户刷新页面后无法获取最新数据，从而对用户的体验产生影响。例如：</p><ul><li>用户发起下单事务，写库执行成功，但由于某种原因，读库同步延迟，用户刷新页面后发现订单未成功创建。</li><li>商家编辑完商品后，同步到<span>&nbsp;</span><em>Elasticsearch</em><span>&nbsp;</span>索引库，但由于某种原因，同步延迟，导致商家刷新页面后搜索不到该商品。</li></ul><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">通常，大家采用最简便的方法，等待 1 秒后刷新页面。 虽然这种方式能解决大多数数据同步延迟的问题，但效率不够高。 因为大多数情况下，同步在 100 毫秒内就已完成，剩余的 900 毫秒成了<em>浪费</em>。 然而，有时 1 秒无法完成同步，这就导致用户获取的数据变得<strong>无效</strong>。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">使用<span>&nbsp;</span><em>Wow</em><span>&nbsp;</span>框架，你可以通过等待<span>&nbsp;</span><em>PROJECTED</em><span>&nbsp;</span>信号完成，然后再将结果返回给用户，以更为优雅和高效的方式处理数据同步延迟的问题。</p><h3>工程质量</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em>单元测试</em>是确保代码质量且符合预期业务需求的重要手段，但在传统架构中，单元测试往往是一项相当困难的任务，因为你需要考虑数据库连接、事务管理、数据清理等问题。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">使用<span>&nbsp;</span><em>Wow</em><span>&nbsp;</span>框架，你将会发现基于<span>&nbsp;</span><em>Given-&gt;When-&gt;Expect</em><span>&nbsp;</span>模式的测试套件，使得单元测试变得异常简单。 你只需关注领域模型是否符合预期，而无需为数据库连接等问题烦恼。</p><blockquote><p style="margin-left:0; margin-right:0">在实际应用中，我们将领域模型的单元测试覆盖率下限阈值设置为<span>&nbsp;</span><strong>85%</strong>，也是可以轻松实现的。</p><p style="margin-left:0; margin-right:0">在没有刻意要求的情况下，开发人员甚至自觉地将覆盖率提升至<span>&nbsp;</span><strong>95%</strong>。</p><p style="margin-left:0; margin-right:0">因此，每次提交代码都变得轻松自在，因为你确信你的代码经过了充分的测试，并且真正意义上从单元测试中获得了收益。</p></blockquote><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">在研发同级别的项目中，我们的测试团队在系统<span>&nbsp;</span><em>API</em><span>&nbsp;</span>测试中发现，基于 Wow 框架的项目，其<span>&nbsp;</span><em>BUG</em><span>&nbsp;</span>数仅为传统架构项目的<span>&nbsp;</span><strong>1/3</strong>。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">你可以在这里了解更多关于<span>&nbsp;</span><a href="https://ahoowang.gitee.io/wow/guide/test-suite.html">Wow 单元测试套件</a>。</p><h2>对于企业而言，<em>Wow</em><span>&nbsp;</span>框架意味着什么？</h2><h3>商业智能</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="传统架构 VS 事件溯源" src="https://foruda.gitee.com/images/1704878807657006766/300ee974_384561.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="ETL 同步流程" src="https://foruda.gitee.com/images/1704878793697689592/5fda25c1_384561.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em>商业智能</em>是企业决策的关键支持，而数据则是商业智能的分析原料。业务数据越为丰富有价值，商业智能的分析结果越准确，决策也就更加可靠。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">与传统架构有着显著差异，<em>Wow</em><span>&nbsp;</span>提供了实时聚合根状态事件（<code>StateEvent</code>）和聚合命令（<code>Command</code>）作为数据分析的数据源，同时极大降低了实时<span>&nbsp;</span><em>ETL</em>（<code>Extract</code>,<span>&nbsp;</span><code>Transform</code>,<span>&nbsp;</span><code>Load</code>）的难度。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">在传统架构中，实现实时<span>&nbsp;</span><em>ETL</em><span>&nbsp;</span>通常需要经过繁琐的流程，包括<span>&nbsp;</span><code>DB-&gt;CDC-&gt;Process-&gt;DB</code>，而在<span>&nbsp;</span><em>Wow</em><span>&nbsp;</span>框架中，仅需一段简单的<span>&nbsp;</span><em>SQL</em><span>&nbsp;</span>脚本即可完成这一过程。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">另外，在传统架构中，使用<span>&nbsp;</span><em>CDC</em>（<code>MySql Binlog</code>）数据仅记录数据的变化，缺乏明确的业务语义。进行业务分析时，需要基于数据状态的变化推断出业务语义，这往往需要进行大量的数据处理。 相较之下，<em>Wow</em><span>&nbsp;</span>框架直接提供了聚合根状态事件和聚合命令作为数据分析的数据源，极大降低了数据处理的难度。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em>Wow</em><span>&nbsp;</span>提供的实时同步机制将数据实时同步至数据仓库（<em>ClickHouse</em>），为实时数据分析提供了极大的便利。这种方法为商业智能提供了强有力的支持，构建了一个实时数据分析系统，使决策制定能够基于及时而准确的信息。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">你可以在这里了解更多关于<span>&nbsp;</span><a href="https://ahoowang.gitee.io/wow/guide/bi.html">Wow 商业智能</a>。</p><h3>操作审计</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em>操作审计</em>是企业中保障安全性和合规性的重要组成部分，同时也是对系统操作进行监控和追踪的关键手段。<em>Wow</em><span>&nbsp;</span>框架在这方面为企业带来了显著的优势。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">通过记录聚合命令（<code>Command</code>）作为操作审计的数据源，<em>Wow</em><span>&nbsp;</span>框架能够详细追踪系统中的各种操作。 这些记录不仅包含了操作本身的内容，还涵盖了操作触发的副作用（<em>领域事件</em>），为审计提供了更为全面和准确的数据基础。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">相较于传统审计方法，<em>Wow</em><span>&nbsp;</span>框架的操作审计的数据源具备更加明确的业务语义，以及操作后产生的明确领域事件。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">此外，Wow 框架提供的实时数据同步机制也为操作审计带来了便利，确保了审计数据的及时性和一致性。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">了解更多关于<span>&nbsp;</span><a href="https://ahoowang.gitee.io/wow/guide/bi.html#%E8%81%9A%E5%90%88%E5%91%BD%E4%BB%A4">Wow 操作审计</a>。</p></div>
                                    ]]>
            </description>
            <pubDate>Sun, 25 Feb 2024 00:25:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280230</guid>
            <link>https://www.oschina.net/news/280230</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[FastGateway 发布 v0.0.0.5]]>
            </title>
            <description>
                <![CDATA[<div class="content"><h1><span>FastGateway 发布 v0.0.0.5</span></h1><ul><li><p style="margin-left:.5rem; margin-right:0"><span>修复构建错误</span></p></li><li><p style="margin-left:.5rem; margin-right:0"><span>修复</span><span><code>docker-compose</code></span><span>执行目录</span></p></li><li><p style="margin-left:.5rem; margin-right:0"><span>修改请求来源分析数据列表展示</span></p></li><li><p style="margin-left:.5rem; margin-right:0"><span>update README.md.</span></p></li><li><p style="margin-left:.5rem; margin-right:0"><span>增加默认证书</span></p></li><li><p style="margin-left:.5rem; margin-right:0"><span>修复构建脚本目录错误</span></p></li></ul><p style="color:#b8bfc6; text-align:start"><span>FastGateway 提供了基本的管理服务，提供简单的登录授权，和实时配置管理，从而实现动态路由的管理。</span></p><h2><span>支持功能</span></h2><ul><li><span>登录授权</span></li><li><span>动态路由管理</span></li><li><span>动态配置证书管理</span></li><li><span>dashboard 监控</span></li><li><span>静态文件服务代理</span></li><li><span>穿透隧道功能</span></li><li><span>出入口流量监控</span></li><li><span>请求来源分析</span></li><li><span>动态插件管理</span></li></ul><h2><span>技术栈</span></h2><h3><span>后端技术栈</span></h3><ul><li><p style="margin-left:.5rem; margin-right:0"><span>Asp.Net 8.0 用于提供基础服务</span></p></li><li><p style="margin-left:.5rem; margin-right:0"><span>Yarp 用于提供反向代理服务</span></p></li><li><p style="margin-left:.5rem; margin-right:0"><span>FreeSql 用于提供数据库服务</span></p></li><li><p style="margin-left:.5rem; margin-right:0"><span>JWT 用于提供登录授权服务</span></p></li><li><p style="margin-left:.5rem; margin-right:0"><span>MiniApis 提供 WebApi 服务</span></p></li></ul><h3><span>前端技术栈</span></h3><ul><li><p style="margin-left:.5rem; margin-right:0"><span>reset-css 用于重置浏览器默认样式</span></p></li><li><p style="margin-left:.5rem; margin-right:0"><span>axios 用于发送 http 请求</span></p></li><li><p style="margin-left:.5rem; margin-right:0"><span>semi 用于提供基础组件</span></p></li><li><p style="margin-left:.5rem; margin-right:0"><span>react-router-dom 用于路由管理</span></p></li></ul><h2><span>镜像执行指令</span></h2><pre><span><span style="color:#f3b3f8">mkdir</span> data</span><span>docker run <span style="color:#7575e4">-d</span><span style="color:#7575e4">--restart</span> always <span style="color:#7575e4">--name</span> gateway-api <span style="color:#7575e4">-p</span><span style="color:#64ab8f">8000</span>:8000 <span style="color:#7575e4">-p</span><span style="color:#64ab8f">8200</span>:8080 <span style="color:#7575e4">-p</span><span style="color:#64ab8f">8300</span>:8081 <span style="color:#7575e4">-v</span><span style="color:#57ac57">$(pwd)</span>/data:/data/ registry.cn-shenzhen.aliyuncs.com/tokengo/gateway-api</span><span>docker run <span style="color:#7575e4">-d</span><span style="color:#7575e4">--restart</span> always <span style="color:#7575e4">--privileged</span><span style="color:#7575e4">--name</span> gateway-web <span style="color:#7575e4">-p</span><span style="color:#64ab8f">10800</span>:80 <span style="color:#7575e4">-e</span><span style="color:#8d8df0">api_url</span><span style="color:#b8bfc6">=</span>http://localhost:8000 registry.cn-shenzhen.aliyuncs.com/tokengo/gateway-web</span></pre><h2><span>Docker-Compose 文件</span></h2><pre><span><span>​</span></span><span><span style="color:#84b6cb">services</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb">  gateway-api</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp;  image</span><span style="color:#b7b3b3">: </span>registry.cn-shenzhen.aliyuncs.com/tokengo/gateway-api</span><span><span style="color:#84b6cb"> &nbsp;  restart</span><span style="color:#b7b3b3">: </span>always</span><span><span style="color:#84b6cb"> &nbsp;  container_name</span><span style="color:#b7b3b3">: </span>gateway-api</span><span><span style="color:#84b6cb"> &nbsp;  environment</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  USER</span><span style="color:#b7b3b3">: </span>root</span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  PASS</span><span style="color:#b7b3b3">: </span>Aa010426.</span><span><span style="color:#84b6cb"> &nbsp;  ports</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>8000:8000 <span style="color:#da924a"># 提供给 web 端调用的管理接口</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>8200:8080 <span style="color:#da924a"># Http 代理端口</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>8300:8081 <span style="color:#da924a"># Https 代理端口</span></span><span><span style="color:#84b6cb"> &nbsp;  volumes</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>./data:/data/ <span style="color:#da924a"># 请注意手动创建 data 目录，负责在 Linux 下可能出现权限问题导致无法写入</span></span><span><span>​</span></span><span><span style="color:#84b6cb">  gateway-web</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp;  image</span><span style="color:#b7b3b3">: </span>registry.cn-shenzhen.aliyuncs.com/tokengo/gateway-web</span><span><span style="color:#84b6cb"> &nbsp;  restart</span><span style="color:#b7b3b3">: </span>always</span><span><span style="color:#84b6cb"> &nbsp;  build</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  context</span><span style="color:#b7b3b3">: </span>../web</span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  dockerfile</span><span style="color:#b7b3b3">: </span>Dockerfile</span><span><span style="color:#84b6cb"> &nbsp;  privileged</span><span style="color:#b7b3b3">: </span><span style="color:#c88fd0">true</span></span><span><span style="color:#84b6cb"> &nbsp;  environment</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  api_url</span><span style="color:#b7b3b3">: </span>http<span style="color:#b7b3b3">:</span>//localhost<span style="color:#b7b3b3">:</span><span style="color:#64ab8f">8000</span></span><span><span style="color:#84b6cb"> &nbsp;  ports</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>10800:80</span><span><span>​</span></span></pre><p style="color:#b8bfc6; text-align:start"><span>如果并没有提供账号密码则默认</span></p><p style="color:#b8bfc6; text-align:start"><span>账号：root</span></p><p style="color:#b8bfc6; text-align:start"><span>密码：Aa010426.</span></p><h2><span>自带管理界面的 docker-compose</span></h2><pre><span><span>​</span></span><span>services:</span><span>  gateway-api:</span><span> &nbsp;  image: registry.cn-shenzhen.aliyuncs.com/tokengo/gateway-api:8.0-admin</span><span> &nbsp;  restart: always</span><span> &nbsp;  container_name: gateway-api</span><span> &nbsp;  build:</span><span> &nbsp; &nbsp;  context: ../</span><span> &nbsp; &nbsp;  dockerfile: src/FastGateway/Dockerfile-admin</span><span> &nbsp;  ports:</span><span> &nbsp; &nbsp;  - 8000:8000 # 提供给 web 端调用的管理接口</span><span> &nbsp; &nbsp;  - 8200:8080 # Http 代理端口</span><span> &nbsp; &nbsp;  - 8300:8081/udp # Https 代理端口</span><span> &nbsp; &nbsp;  - 8300:8081/tcp # Https 代理端口 Http3 需要开启 UDP 和 TCP，请注意防火墙设置是否允许</span><span> &nbsp;  volumes:</span><span> &nbsp; &nbsp;  - ./data:/data/ # 请注意手动创建 data 目录，负责在 Linux 下可能出现权限问题导致无法写入</span><span><span>​</span></span></pre><h2><span>支持 HTTP3 的 docker-compose</span></h2><pre><span>services:</span><span>  gateway-api:</span><span> &nbsp;  image: registry.cn-shenzhen.aliyuncs.com/tokengo/gateway-api:8.0-http3</span><span> &nbsp;  restart: always</span><span> &nbsp;  container_name: gateway-api</span><span> &nbsp;  build:</span><span> &nbsp; &nbsp;  context: ../</span><span> &nbsp; &nbsp;  dockerfile: src/FastGateway/Dockerfile-http3</span><span> &nbsp;  ports:</span><span> &nbsp; &nbsp;  - 8000:8000 # 提供给 web 端调用的管理接口</span><span> &nbsp; &nbsp;  - 8200:8080 # Http 代理端口</span><span> &nbsp; &nbsp;  - 8300:8081/udp # Https 代理端口</span><span> &nbsp; &nbsp;  - 8300:8081/tcp # Https 代理端口 Http3 需要开启 UDP 和 TCP，请注意防火墙设置是否允许</span><span> &nbsp;  volumes:</span><span> &nbsp; &nbsp;  - ./data:/data/ # 请注意手动创建 data 目录，负责在 Linux 下可能出现权限问题导致无法写入</span><span><span>​</span></span><span>  gateway-web:</span><span> &nbsp;  image: registry.cn-shenzhen.aliyuncs.com/tokengo/gateway-web</span><span> &nbsp;  restart: always</span><span> &nbsp;  build:</span><span> &nbsp; &nbsp;  context: ../web</span><span> &nbsp; &nbsp;  dockerfile: Dockerfile</span><span> &nbsp;  privileged: true</span><span> &nbsp;  environment:</span><span> &nbsp; &nbsp;  api_url: http://localhost:8000</span><span> &nbsp;  ports:</span><span> &nbsp; &nbsp;  - 10800:80</span></pre><h2><span>替换默认的 https 证书</span></h2><p style="color:#b8bfc6; text-align:start"><span>由于需要使用 https，为了方便系统默认提供了一个 pfx 证书，如果你需要提供的话可以按照以下操作进行，如果是 Docker 执行的话证书的目录则是 </span><span><code>/app/certificates/gateway.pfx</code></span></p><pre><span><span>​</span></span><span><span style="color:#84b6cb">services</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb">  gateway-api</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp;  image</span><span style="color:#b7b3b3">: </span>registry.cn-shenzhen.aliyuncs.com/tokengo/gateway-api</span><span><span style="color:#84b6cb"> &nbsp;  restart</span><span style="color:#b7b3b3">: </span>always</span><span><span style="color:#84b6cb"> &nbsp;  container_name</span><span style="color:#b7b3b3">: </span>gateway-api</span><span><span style="color:#84b6cb"> &nbsp;  ports</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>8000:8000 <span style="color:#da924a"># 提供给 web 端调用的管理接口</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>8200:8080 <span style="color:#da924a"># Http 代理端口</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>8300:8081 <span style="color:#da924a"># Https 代理端口</span></span><span><span style="color:#84b6cb"> &nbsp;  environment</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  USER</span><span style="color:#b7b3b3">: </span>root</span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  PASS</span><span style="color:#b7b3b3">: </span>Aa010426.</span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  HTTPS_PASSWORD</span><span style="color:#b7b3b3">: </span>dd666666</span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  HTTPS_FILE</span><span style="color:#b7b3b3">: </span>gateway.pfx</span><span><span style="color:#84b6cb"> &nbsp;  ports</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>8200:8080</span><span><span style="color:#84b6cb"> &nbsp;  volumes</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>./data:/data/</span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>./app/certificates:/app/certificates</span><span><span>​</span></span><span><span style="color:#84b6cb">  gateway-web</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp;  image</span><span style="color:#b7b3b3">: </span>registry.cn-shenzhen.aliyuncs.com/tokengo/gateway-web</span><span><span style="color:#84b6cb"> &nbsp;  restart</span><span style="color:#b7b3b3">: </span>always</span><span><span style="color:#84b6cb"> &nbsp;  container_name</span><span style="color:#b7b3b3">: </span>gateway-web</span><span><span style="color:#84b6cb"> &nbsp;  privileged</span><span style="color:#b7b3b3">: </span><span style="color:#c88fd0">true</span></span><span><span style="color:#84b6cb"> &nbsp;  environment</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  api_url</span><span style="color:#b7b3b3">: </span>http<span style="color:#b7b3b3">:</span>//localhost<span style="color:#b7b3b3">:</span><span style="color:#64ab8f">8000</span></span><span><span style="color:#84b6cb"> &nbsp;  ports</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>10800:80</span><span><span>​</span></span></pre><p style="color:#b8bfc6; text-align:start"><span>参考上面的 docker-compose 文件，我们提供了俩个环境变量</span><span><code>HTTPS_PASSWORD</code></span><span>，</span><span><code>HTTPS_FILE</code></span><span>，</span></p><p style="color:#b8bfc6; text-align:start"><span><code>HTTPS_FILE</code></span><span>：</span></p><ul><li><p style="margin-left:.5rem; margin-right:0"><span>在系统中已经指定了容器的</span><span><code>/app/certificates</code></span><span>目录，你只想要挂在目录中的文件名即可</span></p></li></ul><p style="color:#b8bfc6; text-align:start"><span><code>HTTPS_PASSWORD</code></span><span>：</span></p><ul><li><p style="margin-left:.5rem; margin-right:0"><span>Pfx 证书的密码，如果修改了证书请填写证书的密码。</span></p></li></ul><p style="color:#b8bfc6; text-align:start"><span><code>/app/certificates</code></span><span>：</span></p><ul><li><p style="margin-left:.5rem; margin-right:0"><span>这个是系统证书默认存放目录，如果映射了目录则需要提供自己的证书。</span></p></li></ul><h2><span>使用隧道</span></h2><pre><span><span style="color:#84b6cb">services</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb">  gateway-api</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp;  image</span><span style="color:#b7b3b3">: </span>registry.cn-shenzhen.aliyuncs.com/tokengo/gateway-api</span><span><span style="color:#84b6cb"> &nbsp;  restart</span><span style="color:#b7b3b3">: </span>always</span><span><span style="color:#84b6cb"> &nbsp;  container_name</span><span style="color:#b7b3b3">: </span>gateway-api</span><span><span style="color:#84b6cb"> &nbsp;  environment</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  USER</span><span style="color:#b7b3b3">: </span>root</span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  PASS</span><span style="color:#b7b3b3">: </span>Aa010426.</span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  HTTPS_PASSWORD</span><span style="color:#b7b3b3">: </span>dd666666</span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  TUNNEL_PASSWORD</span><span style="color:#b7b3b3">: </span>dd666666</span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  HTTPS_FILE</span><span style="color:#b7b3b3">: </span>gateway.pfx</span><span><span style="color:#84b6cb"> &nbsp;  ports</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>8000:8000 <span style="color:#da924a"># 提供给 web 端调用的管理接口</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>8200:8080 <span style="color:#da924a"># Http 代理端口</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>8300:8081 <span style="color:#da924a"># Https 代理端口</span></span><span><span style="color:#84b6cb"> &nbsp;  volumes</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>./data:/data/</span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>./app/certificates:/app/certificates</span><span><span>​</span></span><span><span style="color:#84b6cb">  gateway-web</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp;  image</span><span style="color:#b7b3b3">: </span>registry.cn-shenzhen.aliyuncs.com/tokengo/gateway-web</span><span><span style="color:#84b6cb"> &nbsp;  restart</span><span style="color:#b7b3b3">: </span>always</span><span><span style="color:#84b6cb"> &nbsp;  container_name</span><span style="color:#b7b3b3">: </span>gateway-web</span><span><span style="color:#84b6cb"> &nbsp;  privileged</span><span style="color:#b7b3b3">: </span><span style="color:#c88fd0">true</span></span><span><span style="color:#84b6cb"> &nbsp;  environment</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  api_url</span><span style="color:#b7b3b3">: </span>http<span style="color:#b7b3b3">:</span>//localhost<span style="color:#b7b3b3">:</span><span style="color:#64ab8f">8000</span></span><span><span style="color:#84b6cb"> &nbsp;  ports</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>10800:80</span><span><span>​</span></span></pre><p style="color:#b8bfc6; text-align:start"><span>增加</span><span><code>TUNNEL_PASSWORD</code></span><span>环境变量，默认为空不设置密码</span></p><p style="color:#b8bfc6; text-align:start"><span>下载隧道客户端 </span><span><a href="https://gitee.com/hejiale010426/Gateway/releases">https://gitee.com/hejiale010426/Gateway/releases</a></span><span> 然后解压压缩包，打开 appsettings.json 文件修改 Tunnel 节点的 Url，如果 Gateway 使用了 TUNNEL_PASSWORD，那么你的 URL 应该是</span><span><code>https://localhost:8081/api/gateway/connect-h2?host=backend1.app&amp;password=dd666666</code></span><span>，</span><span></span><span><code>host</code></span><span>是在集群中的集群端点的域名，这个域名就是定义到我们的隧道客户端的</span><span><code>host</code></span><span>的这个参数，请保证值的唯一性，当绑定集群的路由匹配成功以后则会访问图片定义的端点，如果并没有存在节点那么他会直接代理。</span></p><p style="color:#b8bfc6; text-align:start">&nbsp;</p><h2><span>出入流量监控</span></h2><p style="color:#b8bfc6; text-align:start"><span>使用环境变量控制是否启用流量监控，使用环境变量</span><span><code>ENABLE_FLOW_MONITORING</code></span><span>设置我们是否启用流量监控，如果为空则默认启动流量监控，然后可以打开我们的控制面板查看流量监控的数据。</span></p><pre><span><span>​</span></span><span><span style="color:#84b6cb">services</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb">  gateway-api</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp;  image</span><span style="color:#b7b3b3">: </span>registry.cn-shenzhen.aliyuncs.com/tokengo/gateway-api</span><span><span style="color:#84b6cb"> &nbsp;  restart</span><span style="color:#b7b3b3">: </span>always</span><span><span style="color:#84b6cb"> &nbsp;  container_name</span><span style="color:#b7b3b3">: </span>gateway-api</span><span><span style="color:#84b6cb"> &nbsp;  environment</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  USER</span><span style="color:#b7b3b3">: </span>root</span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  PASS</span><span style="color:#b7b3b3">: </span>Aa010426.</span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  HTTPS_PASSWORD</span><span style="color:#b7b3b3">: </span>dd666666</span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  HTTPS_FILE</span><span style="color:#b7b3b3">: </span>gateway.pfx</span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  ENABLE_FLOW_MONITORING</span><span style="color:#b7b3b3">: </span><span style="color:#c88fd0">true</span></span><span><span style="color:#84b6cb"> &nbsp;  ports</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>8000:8000 <span style="color:#da924a"># 提供给 web 端调用的管理接口</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>8200:8080 <span style="color:#da924a"># Http 代理端口</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>8300:8081 <span style="color:#da924a"># Https 代理端口</span></span><span><span style="color:#84b6cb"> &nbsp;  volumes</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>./data:/data/</span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>./app/certificates:/app/certificates</span><span><span>​</span></span><span><span style="color:#84b6cb">  gateway-web</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp;  image</span><span style="color:#b7b3b3">: </span>registry.cn-shenzhen.aliyuncs.com/tokengo/gateway-web</span><span><span style="color:#84b6cb"> &nbsp;  restart</span><span style="color:#b7b3b3">: </span>always</span><span><span style="color:#84b6cb"> &nbsp;  container_name</span><span style="color:#b7b3b3">: </span>gateway-web</span><span><span style="color:#84b6cb"> &nbsp;  privileged</span><span style="color:#b7b3b3">: </span><span style="color:#c88fd0">true</span></span><span><span style="color:#84b6cb"> &nbsp;  environment</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#84b6cb"> &nbsp; &nbsp;  api_url</span><span style="color:#b7b3b3">: </span>http<span style="color:#b7b3b3">:</span>//localhost<span style="color:#b7b3b3">:</span><span style="color:#64ab8f">8000</span></span><span><span style="color:#84b6cb"> &nbsp;  ports</span><span style="color:#b7b3b3">:</span></span><span><span style="color:#b7b3b3"> &nbsp; &nbsp;  - </span>10800:80</span><span><span>​</span></span></pre><h2><span>第三方下载</span></h2><ul><li><p style="margin-left:.5rem; margin-right:0"><span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ftokenfile.oss-cn-beijing.aliyuncs.com%2Fip2region.xdb" target="_blank"><span>ip2region.xdb</span></a></span><span> 用于 ip 离线归属地</span></p></li></ul><p style="margin-left:.5rem; margin-right:0"><strong>Gitee:https://gitee.com/hejiale010426/FastGateway</strong></p><p style="margin-left:0; margin-right:0"><strong>Github:https://github.com/239573049/FastGateway</strong></p></div>
                                    ]]>
            </description>
            <pubDate>Sat, 24 Feb 2024 20:13:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280130</guid>
            <link>https://www.oschina.net/news/280130</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Wine 9.3 开发版发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>Wine 最新开发版 9.3&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.winehq.org%2Fnews%2F2024022301" target="_blank">已发布</a>。</p><blockquote><p>Wine （「Wine Is Not an Emulator」 的首字母缩写）是一个能够<strong>在多种 POSIX-compliant 操作系统（诸如 Linux，macOS 及 BSD 等）上运行 Windows 应用的兼容层</strong>。它不是像虚拟机或者模拟器一样模仿内部的 Windows 逻辑，而是将 Windows API 调用翻译成为动态的 POSIX 调用，免除了性能和其它一些行为的内存占用，能够干净地整合 Windows 应用到桌面。</p></blockquote><p>主要变化</p><ul><li>改进网络代理支持</li><li>引入新的 HID 指针设备驱动</li><li>更新时区数据库</li><li>修复 ARM 平台异常问题</li></ul><p>&nbsp;</p><p>完整更新内容：<em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgitlab.winehq.org%2Fwine%2Fwine%2F-%2Freleases%2Fwine-9.3" target="_blank">https://gitlab.winehq.org/wine/wine/-/releases/wine-9.3</a></u></em></p></div>
                                    ]]>
            </description>
            <pubDate>Sat, 24 Feb 2024 04:14:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280147/wine-9-3-released</guid>
            <link>https://www.oschina.net/news/280147/wine-9-3-released</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[🎉FolkMQ v1.2 发布（添加事务消息）]]>
            </title>
            <description>
                <![CDATA[<div class="content"><div><h3>简介</h3><ul><li>采用 「单线程」 + 「多路复用」 + "内存运行" + "快照持久化" + "Broker 集群模式"（可选）</li><li>基于<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fsocketd.noear.org%2F" target="_blank">Socket.D 网络应用协议</a><span>&nbsp;</span>开发。全新设计，自主架构！</li></ul><table cellspacing="0" style="border-collapse:collapse; border-spacing:0px; box-sizing:border-box; display:block; margin-bottom:16px; margin-top:0px; overflow:auto; width:960px"><tbody><tr><th>角色</th><th>功能</th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">生产端</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">发布消息、定时消息、顺序消息、可过期消息、<span style="background-color:#f1c40f">事务消息</span>。发送请求（<span style="background-color:#f1c40f">rpc</span>）。支持 Qos0、Qos1</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">&nbsp;</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">&nbsp;</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">消费端</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">订阅、取消订阅。响应请求</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">消费者</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">消费-ACK（自动、手动）</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">&nbsp;</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">&nbsp;</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">服务端</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">发布-Confirm、订阅-Confirm、取消订阅-Confirm、派发-Retry、派发-Delayed</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">服务端</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">单线程、内存运行、快照持久化（自动、停机、手动）、Broker 模式集群、集群热扩展</td></tr></tbody></table><h3>特点</h3><ul><li>高吞吐量、低延迟</li></ul><p>FolkMQ 纯内存运行，每秒能处理几十万条消息，最低延迟不到 1 毫秒。</p><ul><li>可扩展性</li></ul><p>FolkMQ Broker 集群支持 folkmq-server 节点热扩展。流量高时随时加，流量低时可减</p><ul><li>持久性、可靠性</li></ul><p>消息被快照持久化（类似于 redis）到本地磁盘，并且支持数据备份防止数据丢失</p><ul><li>高可用</li></ul><p>集群内任何节点坏掉只要还有「一个」同类节点，仍可提供服务</p><ul><li>快（单机版，180K TPS）。</li></ul><p>有点像 Redis 之于 MySql。</p><h3>本次更新</h3><ul><li>添加，协议版本的握手传递</li><li>添加，消息事务支持（即二段式提交），支持反向事务确认</li><li>添加，请求响应模式支持（即 rpc 模式）</li><li>添加，消息用户属性支持</li><li>优化，内存占用与快照大小</li><li>优化，安全停止延时改为 4 秒</li><li>优化，客户端相关参数校验</li><li>优化，客户端的心跳间隔为 6 秒</li><li>优化，停止打印信息</li><li>sokcet.d 升为 2.4.3</li></ul><p>新功能示例（事务消息）：</p><pre><code class="language-java"><em>//准备（1.取名字；2.添加响应实现）</em><span style="color:#986801">MqClient</span><span style="color:#986801">client</span><span>=</span> FolkMQ.createClient(<span style="color:#50a14f">"folkmq://127.0.0.1:18602"</span>)
    .nameAs(<span style="color:#50a14f">"demoapp"</span>) <em>//一般用当前应用名（也当默认消息者组用）</em>
    .connect();

<em>//用于响应服务端发起的反向确认</em>
client.response(m-&gt;{
  <span style="color:#a626a4">if</span> (m.isTransaction()) {
      <em>//极端特殊的情况下，客户端未完成事务确认。由服务端发起补尝确认</em><span style="color:#a626a4">if</span>(<span style="color:#50a14f">"1"</span>.equals(m.getAttr(<span style="color:#50a14f">"orderId"</span>))) {
          <em>//一般这里，需要查询数据库之类的</em>
          m.acknowledge(<span style="color:#0184bb">true</span>);
      }
  }
});
    
<em>//发送事务消息    </em><span style="color:#986801">MqTransaction</span><span style="color:#986801">tran</span><span>=</span> client.newTransaction();

<span style="color:#a626a4">try</span> {
    client.publish(<span style="color:#50a14f">"demo"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"demo1"</span>).attr(<span style="color:#50a14f">"orderId"</span>,<span style="color:#50a14f">"1"</span>).transaction(tran));
    client.publish(<span style="color:#50a14f">"demo"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"demo2"</span>).attr(<span style="color:#50a14f">"orderId"</span>,<span style="color:#50a14f">"1"</span>).transaction(tran));
    client.publish(<span style="color:#50a14f">"demo"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"demo3"</span>).attr(<span style="color:#50a14f">"orderId"</span>,<span style="color:#50a14f">"1"</span>).transaction(tran));
    client.publish(<span style="color:#50a14f">"demo"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"demo4"</span>).attr(<span style="color:#50a14f">"orderId"</span>,<span style="color:#50a14f">"1"</span>).transaction(tran));

    tran.commit();
} <span style="color:#a626a4">catch</span> (Throwable e) {
    tran.rollback();
}
</code></pre><p>新功能示例（请求响应模式）：</p><pre><code class="language-java"><em>//客户端 2</em><span style="color:#986801">MqClient</span><span style="color:#986801">client1</span><span>=</span> FolkMQ.createClient(<span style="color:#50a14f">"folkmq://127.0.0.1:18602"</span>)
    .nameAs(<span style="color:#50a14f">"demo-app1"</span>) 
    .connect();

<em>//要支持 rpc 响应，要添加响应实现（MqResponseRouter 带了主体路由功能）</em>
client1.response(<span style="color:#a626a4">new</span><span style="color:#c18401">MqResponseRouter</span>().doOn(<span style="color:#50a14f">"test.hello"</span>, m -&gt; {
    m.acknowledge(<span style="color:#0184bb">true</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">StringEntity</span>(m.getSender() +  <span style="color:#50a14f">": me to! rev: "</span> + m.getContent()));
}));

<em>//客户端 2</em><span style="color:#986801">MqClient</span><span style="color:#986801">client2</span><span>=</span> FolkMQ.createClient(<span style="color:#50a14f">"folkmq://127.0.0.1:18602"</span>)
    .nameAs(<span style="color:#50a14f">"demo-app2"</span>)
    .connect();

<em>//发起请求并等响应，同步模式</em><span style="color:#986801">Reply</span><span style="color:#986801">reply</span><span>=</span> client2.request(<span style="color:#50a14f">"demo-app1"</span>, <span style="color:#50a14f">"test.hello"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"hello"</span>)).await();
print(reply.dataAsString());
</code></pre><h3>代码仓库</h3><ul><li><a href="https://gitee.com/noear/folkmq">https://gitee.com/noear/folkmq</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnoear%2Ffolkmq" target="_blank">https://github.com/noear/folkmq</a></li></ul><h3>官网</h3><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffolkmq.noear.org%2F" target="_blank">https://folkmq.noear.org</a></li></ul></div></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 09:38:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279996/folkmq-1-2-released</guid>
            <link>https://www.oschina.net/news/279996/folkmq-1-2-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[金合技术开发平台 V1.1.3 发布，版本升级]]>
            </title>
            <description>
                <![CDATA[<div class="content"><div><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#40485b">金合技术开发平台是陕西金合信息科技股份有限公司在内部孵化的技术开发平台，致力于减少项目交付在基础环境上消耗的工时，换而言之金合的技术开发平台是为项目交付而生，让项目不需要在底层的功能或环境上再消耗时间。</span><br><span style="background-color:#ffffff; color:#40485b">目前金合技术中台已经支持交付了内外部 40 + 项目，当前版本为首个开源版本，我们迫切的想听到您的改进意见和功能建议，希望更多的开发者可以参与改进平台，助力更多开发者和企业。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#40485b">预览图：更多信息请访问项目主页</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img alt="ASSETS-WORKBENCH" src="https://static.oschina.net/uploads/img/202402/01134219_aAHg.png" referrerpolicy="no-referrer"></p><p>&nbsp;</p><pre>future:
<span style="color:#cf8e6d">- </span>Spring Boot<span>版本升级至</span>3.2.2<span>，为使用</span>JdbcCline<span>等新特性做准备。
</span><span style="color:#cf8e6d">- </span>Knife4J<span>版本升级至</span>4.3.0<span>。
</span><span style="color:#cf8e6d">- </span>MybatisPlus<span>版本升级至</span>3.5.5<span>。
</span><span style="color:#cf8e6d">- </span><span>由于功能未完善，暂时关闭审批高级配置。
</span><span style="color:#cf8e6d">- </span><span>由于功能未完善，暂时移除审批详情中的打印功能。
</span><span style="color:#cf8e6d">- </span><span>应用开发最小可用功能上线，支持简单数据填报、简单</span>CRUD<span>业务页面的无代码搭建。
- 新版文档补全更新。
</span>
bugfix:
<span style="color:#cf8e6d">- </span><span>修复编辑审批表单时页面提示</span>」<span>提交失败</span>「<span>的缺陷。
</span><span style="color:#cf8e6d">- </span><span>修复消息已读后未正常显示的缺陷。
</span><span style="color:#cf8e6d">- </span><span>修复代码打包时强制执行</span>gpg<span>插件的缺陷，现在</span>gpg<span>插件仅在发布阶段执行。
</span><span style="color:#cf8e6d">- </span><span>修复代码打包时强制执行</span>javadoc<span>生成插件的缺陷，现在</span>javadoc<span>生成插件仅在发布阶段执行。</span></pre></div><ul><li><strong>企业级产品 / UI 设计，满足各类业务场景需求。</strong></li><li><strong>经历我司内部项目生产环境的反复锤炼，确保高效稳定运行。</strong></li><li><strong>双技术架构，单体 / 微服务无缝切换。</strong></li><li><strong>双业务架构，小型管理系统可使用后台管理模式，大型业务系统可使用 Saas 平台模式。</strong></li><li><strong>全面的通用能力支撑，系统管理、文件服务、日志审计、任务调度等应有尽有。</strong></li><li><strong>完整实现 「中国式审批」 的各类需求，开箱即用。</strong></li><li><strong>高灵活度的消息中心，随心配置模板、多渠道（站内 / 微信 / 短信 / 钉钉）触达。</strong></li><li><strong>深度集成第三方组件 / 平台，包括积木报表、OnlyOffice、KKFile。</strong></li><li><strong>支持多种登录方式，包括短信验证码登录、微信扫码登录、微信小程序登录等。</strong></li><li><strong>支持多种数据库，包括 MySQL、Postgresql、Oracle。</strong></li><li><strong>支持多种对象存储服务，包括 Minio、腾讯 COS、阿里 OSS 等。</strong></li><li><strong>......</strong></li></ul><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">技术路线</p><ul><li><span>&nbsp;</span>JDK 17</li><li><span>&nbsp;</span>Maven 4.0.0</li><li><span>&nbsp;</span>Spring Boot 3.1.7</li><li><span>&nbsp;</span>Spring Cloud 2022.0.4</li><li><span>&nbsp;</span>Spring Cloud Alibaba 2022.0.0.0</li><li><span>&nbsp;</span>Mybatis-Plus 3.5.5</li><li><span>&nbsp;</span>Redis 7.2</li><li><span>&nbsp;</span>MySQL 8.0+/Postgresql 16+/Oracle 11g+12c</li><li><span>&nbsp;</span>Minio/Tencent COS/Ali OSS</li><li><span>&nbsp;</span>RabbitMQ/RocketMQ</li><li><span>&nbsp;</span>Prometheus+Grafana</li></ul></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 08:08:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279974/iking-platform-1-1-3-released</guid>
            <link>https://www.oschina.net/news/279974/iking-platform-1-1-3-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Rust 通用代码生成器莲花发布红莲尝鲜版二十一发布介绍视频，前端代码生成物大翻新]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#4d4d4d; margin-left:0; margin-right:0; text-align:start"><strong>&nbsp;Rust 通用代码生成器莲花发布红莲尝鲜版二十一发布介绍视频，前端代码生成物大翻新</strong></p><p style="color:#4d4d4d; margin-left:0; margin-right:0; text-align:start">Rust 通用代码生成器发布了红莲尝鲜版二十一的最新介绍视频，前端代码生成物大翻新。视频请见：</p><p style="color:#4d4d4d; margin-left:0; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1UH4y1j7td%2F" target="_blank">https://www.bilibili.com/video/BV1UH4y1j7td/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器莲花已发布红莲尝鲜版二十一，此版本采用了新的前端代码生成引擎：时空之门前端代码生成器 6.2.0。此引擎支持 Nodejs 21,Nodejs 18 和 Nodejs 14。消除了 95% 的前端 EsLint 编译警告，并可以忽略全部编译警告。消除了所有前端代码生成物的缩进和其他常见的编程格式问题，达到了美观规范的工业级代码标准。此版本修复了动词否定功能群和复杂版面和图形报表联合使用时的一些缺陷。此版本支持 MariaDB，MySQL，PostgreSQL 和 Oracle 四种数据库。此版本支持枚举和 datadummy 模式。请部署在 Tomcat9 的 webapps 目录下。欢迎使用。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器莲花发布红莲尝鲜版二十视频请见：<br><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1GW4y1c7vA%2F" target="_blank">https://www.bilibili.com/video/BV1GW4y1c7vA/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">红莲尝鲜版十九视频请见：<br><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1bC4y1C7bT%2F" target="_blank">https://www.bilibili.com/video/BV1bC4y1C7bT/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器莲花发布深度修复版红莲尝鲜版十八介绍视频，动词否定功能群介绍。视频请见：<br><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1sa4y1d7cz%2F" target="_blank">https://www.bilibili.com/video/BV1sa4y1d7cz/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器莲花发布深度修复版红莲尝鲜版十八介绍视频，初学者指南，详细介绍代码生成器环境搭建，编译，运行和使用代码生成物，欢迎使用。视频请见：<br><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1364y157Zg%2F" target="_blank">https://www.bilibili.com/video/BV1364y157Zg/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">代码生成器的项目地址：<a href="https://gitee.com/jerryshensjf/Lotus">https://gitee.com/jerryshensjf/Lotus</a><br> 二进制 war 包的下载地址:<span>&nbsp;</span><a href="https://gitee.com/jerryshensjf/Lotus/attach_files">https://gitee.com/jerryshensjf/Lotus/attach_files</a></p><h1>Rust 通用代码生成器：莲花</h1><h3>项目介绍</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器：莲花，是 Java 写成的 Rust 通用代码生成器，目前的版本采用 openjdk 17 编译。软件为一 war 包，可以部署在 Tomcat 9 的 webapps 目录下，启动即可运行。</p><h4>项目图片</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/RedLotus.jpg" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/pl_3.jpeg" referrerpolicy="no-referrer"></p><h3>软件架构</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">后端代码生成物是 rust 1.69 环境。采用 Axum 0.6.20, tokio 1.32.0 , sqlx 0.7.1 数据库访问层和 MariaDB, MySQL 8，PostgreSQL 数据库。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">前端代码生成物可运行在 Nodejs 21,18 或 14 上。是 Vue ElementUI 架构。</p><h3>重点组件和功能</h3><ul><li>动词算子</li><li>域对象</li><li>棱柱</li><li>项目</li><li>时空之门前端代码生成器引擎</li><li>弹性登录模块</li><li>Grid 页生成模块</li><li>多对多生成模块</li><li>数据库脚本生成模块</li><li>动态椰子树功能群</li><li>动词否定功能群</li><li>字段否定功能群</li><li>高级定制功能群</li><li>部分生成功能群</li><li>自动生成差异版本功能群</li><li>上传生成界面</li><li>模板向导生成界面</li><li>自动生成差异版本生成界面</li><li>Excel 数据导出功能</li><li>PDF 数据导出功能</li><li>数据库后端模式</li><li>数据库工具模式</li><li>哑数据模式</li></ul><h3>安装教程</h3><ul><li>先装好 open jdk 17 和 Apache Tomcat 9，如果您从源码编译代码生成器还需要事先装好 Apache Maven</li><li>下载编译好的 Rust 通用代码生成器莲花的 war 包，或者下载源码，解压后使用 mvn install 命令编译，得到代码生成器的 war 包</li><li>把代码生成器的 war 包的名字改短，成为 Lotus.war，并放置在 Apache Tomcat 9 的 webapps 目录下</li><li>启动 Apache Tomcat 9</li><li>访问<a href="https://gitee.com/link?target=http%3A%2F%2Flocalhost%3A8080%2FLotus%2F">http://localhost:8080/Lotus/</a></li><li>即可使用代码生成器</li></ul><h3>后端代码生成物运行</h3><ul><li>使用代码生成器生成一个示例或自己的 SGS2 模板，得到两个代码生成物，一个前端，一个后端</li><li>将后端项目下载并解压</li><li>根据您的数据库选项，配置好您后端的数据库，并使用后端代码生成物的 sql 文件夹下的数据库脚本完成建库建表并加载初始化数据</li><li>您需要检查后端代码生成物内的配置文件，确认数据库和用户名密码的正确性</li><li>您需要安装配置好 rust 1.69 或其他兼容版本的 rust 环境</li><li>在后端代码生成物的根目录下运行 cargo run 命令启动 rust 后端项目</li><li>启动完毕后访问后端代码生成物，<a href="https://gitee.com/link?target=http%3A%2F%2Flocalhost%3A8082">http://localhost:8082</a></li></ul><h3>前端代码生成物运行</h3><ul><li>使用代码生成器生成一个示例或自己的 SGS2 模板，得到两个代码生成物，一个前端，一个后端</li><li>将前端代码生成物解压</li><li>确认您已经安装好和您选择的 Nodejs 版本相容的前端 Nodejs 环境</li><li>使用 npm install -registry=<a href="https://gitee.com/link?target=https%3A%2F%2Fregistry.npm.taobao.org">https://registry.npm.taobao.org</a><span>&nbsp;</span>安装 Nodejs 依赖包</li><li>如果您使用的是 Nodejs 21 和 Nodejs18，请运行命令：export NODE_OPTIONS=--openssl-legacy-provider</li><li>运行命令：node --max-http-header-size=1000000 ./node_modules/.bin/webpack-dev-server --inline --progress --config build/webpack.dev.conf.js</li><li>如此访问前端代码生成物，<a href="https://gitee.com/link?target=http%3A%2F%2Flocalhost%3A8000%2F">http://localhost:8000/</a></li></ul><h3>运行截图</h3><h4>软件截屏</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_excelg.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_wizard.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_compare2.png" referrerpolicy="no-referrer"></p><h4>后端代码生成物截屏</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">日期时间对话框</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/datetime.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">单表操作</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_grid.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">多对多</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/rust_mtm.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">复杂版面，树表</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_treegrid.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">图形报表</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_echarts.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">图片功能</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_pic.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Excel 数据导出</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_excel_export.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">PDF 数据导出</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_pdf_export.png" referrerpolicy="no-referrer"></p><h4>前端代码生成物截屏</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Vue 前端日期对话框</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/front_date.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Vue 独立前端，登录界面</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_frontend_login.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Vue 独立前端，内页</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_frontend_inner.png" referrerpolicy="no-referrer"></p><h3>百度话题</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">＃通用代码生成器＃</p><h3>尝鲜版二十一的二进制发布包下载</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/jerryshensjf/Lotus/attach_files">https://gitee.com/jerryshensjf/Lotus/attach_files</a></p><h3>Nodejs 前端代码生成物运行指南</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">莲花尝鲜版二十一消除了 95% 的 EsLint 编译警告。并且，您可以忽略全部编译警告。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">莲花尝鲜版二十支持 Nodejs 21, 18 和 14 三种 Nodejs 环境。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">首先，使用 Rust 通用代码生成器莲花的红莲尝鲜版二十生成前端代码生成物，生成时需选择 Nodejs 相应版本。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">将代码生成物的前端和后端代码生成物的压缩包拷入工作目录并完成解压缩，部署并启动后端项目。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">进入前端代码生成物的根目录，需选择正确的 Nodejs 版本。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">运行命令：npm install -registry=<a href="https://gitee.com/link?target=https%3A%2F%2Fregistry.npm.taobao.org">https://registry.npm.taobao.org</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">此命令使用淘宝镜像安装 Nodejs 依赖包。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">如果您使用的是 Nodejs 21 和 Nodejs18，请运行命令：export NODE_OPTIONS=--openssl-legacy-provider</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">此命令暴露了一个必须的内存变量。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">运行命令：node --max-http-header-size=1000000 ./node_modules/.bin/webpack-dev-server --inline --progress --config build/webpack.dev.conf.js</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">此命令启动了前端项目。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">访问：<a href="https://gitee.com/link?target=http%3A%2F%2Flocalhost%3A8000%2F">http://localhost:8000/</a></p><h3>源码编译用户指南</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">通用代码生成器已经支持自己编译源码，我已把原来缺的前端代码生成器的 jar 包上传。支持大家自行编译源码。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">需要注意的是，现在我的开发平台是 Fedora 37 上的 openjdk 17。所以大家编译源码最好使用 openjdk17。编译好的 war 包运行在 apache tomcat 9.0 上。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">已有 jdk8 的用户报告默认下载的代码生成器 war 包在他的平台上无法运行。您如果遇到类似问题请报告。我的电子邮件是：<a href="https://www.oschina.net/action/GoToLink?url=mailto%3Ajerry_shen_sjf%40qq.com" target="_blank">jerry_shen_sjf@qq.com</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">附 openjdk 17 下载地址：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fjdk.java.net%2Fjava-se-ri%2F17">https://jdk.java.net/java-se-ri/17</a></p><h3>近期视频</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">&nbsp;Rust 通用代码生成器莲花发布红莲尝鲜版二十一发布介绍视频，前端代码生成物大翻新，视频请见：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1UH4y1j7td%2F">https://www.bilibili.com/video/BV1UH4y1j7td/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器莲花发布红莲尝鲜版二十介绍视频，视频请见：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1GW4y1c7vA%2F">https://www.bilibili.com/video/BV1GW4y1c7vA/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器莲花发布深度修复版红莲尝鲜版十九介绍视频，介绍了 PostgreSQL 代码生成。视频请见：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1bC4y1C7bT%2F">https://www.bilibili.com/video/BV1bC4y1C7bT/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器莲花发布深度修复版红莲尝鲜版十八介绍视频，初学者指南，详细介绍代码生成器环境搭建，编译，运行和使用代码生成物，欢迎使用。视频请见：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1364y157Zg%2F">https://www.bilibili.com/video/BV1364y157Zg/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">尝鲜版十八的视频请见：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1sa4y1d7cz%2F">https://www.bilibili.com/video/BV1sa4y1d7cz/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">尝鲜版十七的视频请见：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1pG411i7Qa%2F">https://www.bilibili.com/video/BV1pG411i7Qa/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1iC4y1j7rd%2F">https://www.bilibili.com/video/BV1iC4y1j7rd/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1rQ4y1t7qJ%2F">https://www.bilibili.com/video/BV1rQ4y1t7qJ/</a></p><h3>版本历史和视频</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/jerryshensjf/Lotus/blob/master/History.md">版本历史和视频</a></p><h3>源码研读者注意事项</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">无垠式代码生成器第一个完整版本源码，有兴趣可以抄写一下：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/jerryshensjf/InfinityGPGenerator_0_6_5">https://gitee.com/jerryshensjf/InfinityGPGenerator_0_6_5</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">相关技术视频：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1fX4y1u7Bn%2F">https://www.bilibili.com/video/BV1fX4y1u7Bn/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1rv41187qY%2F">https://www.bilibili.com/video/BV1rv41187qY/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1xv41187cA%2F">https://www.bilibili.com/video/BV1xv41187cA/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1t64y1v7WA%2F">https://www.bilibili.com/video/BV1t64y1v7WA/</a></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 07:45:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279968</guid>
            <link>https://www.oschina.net/news/279968</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[🎉 通用、灵活、高性能分布式 ID 生成器 | CosId 2.6.6 发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosId Logo" height="206" src="https://oscimg.oschina.net/oscnet/up-63e6250bd72c3e4d2dde12bc154ad9f06d2.png" width="300" referrerpolicy="no-referrer"></p><h1>CosId<span>&nbsp;</span>通用、灵活、高性能分布式 ID 生成器</h1><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.apache.org%2Flicenses%2FLICENSE-2.0.html"><img alt="License" src="https://img.shields.io/badge/license-Apache%202-4EB1BA.svg" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId%2Freleases"><img alt="GitHub release" src="https://img.shields.io/github/release/Ahoo-Wang/CosId.svg" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fapp.codacy.com%2Fgh%2FAhoo-Wang%2FCosId%3Futm_source%3Dgithub.com%26utm_medium%3Dreferral%26utm_content%3DAhoo-Wang%2FCosId%26utm_campaign%3DBadge_Grade_Settings"><img alt="Codacy Badge" src="https://api.codacy.com/project/badge/Grade/dfd1d6237a1644409548ebfbca300dc1" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fcodecov.io%2Fgh%2FAhoo-Wang%2FCosId"><img alt="codecov" src="https://codecov.io/gh/Ahoo-Wang/CosId/branch/main/graph/badge.svg?token=L0N51NB7ET" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><img alt="Integration Test Status" src="https://github.com/Ahoo-Wang/CosId/actions/workflows/integration-test.yml/badge.svg" referrerpolicy="no-referrer"></p><blockquote><p style="margin-left:0; margin-right:0"><em>官方文档</em><span>&nbsp;&nbsp;</span><img alt="🎉" height="14" src="https://cn-assets.gitee.com/assets/emoji/tada-be741eadd68f6c33355db4b50a6c141b.png" width="14" referrerpolicy="no-referrer"><span>&nbsp;</span><img alt="👉" height="14" src="https://cn-assets.gitee.com/assets/emoji/point_right-8d392cf32998e3bca12bb7b4ee10dae0.png" width="14" referrerpolicy="no-referrer"><span>&nbsp;</span><a href="https://ahoowang.gitee.io/cosid/" target="_blank">https://ahoowang.gitee.io/cosid/</a><span>&nbsp;</span><img alt="👈" height="14" src="https://cn-assets.gitee.com/assets/emoji/point_left-4570b6929b8880ab2e8b8031007fef18.png" width="14" referrerpolicy="no-referrer"></p></blockquote><h2>更新内容</h2><ul><li>依赖: 升级<span>&nbsp;</span><code>org.springframework.boot:spring-boot-dependencies</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v3.2.3</code></li><li>依赖: 升级<span>&nbsp;</span><code>com.github.spotbugs</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v6.0.7</code></li><li>依赖: 升级<span>&nbsp;</span><code>org.axonframework:axon-bom</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v4.9.3</code></li><li>依赖: 升级<span>&nbsp;</span><code>org.testcontainers:testcontainers-bom</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v1.19.6</code></li><li>依赖: 升级<span>&nbsp;</span><code>flowable</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v7</code></li><li>依赖: 升级<span>&nbsp;</span><code>gradle</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v8.6</code></li><li>依赖: 升级<span>&nbsp;</span><code>junit5</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v5.10.2</code></li></ul><h2>简介</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId">CosId</a></em><span>&nbsp;</span>旨在提供通用、灵活、高性能的分布式 ID 生成器。</p><ul><li><code>CosIdGenerator</code><span>&nbsp;</span>:<span>&nbsp;</span><em>单机 TPS 性能：1557W/s</em>，三倍于<span>&nbsp;</span><code>UUID.randomUUID()</code>，基于时钟的全局趋势递增 ID。</li><li><code>SnowflakeId</code><span>&nbsp;</span>:<span>&nbsp;</span><em>单机 TPS 性能：409W/s</em><span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fcosid.ahoo.me%2Fguide%2Fperf-test.html">JMH 基准测试</a><span>&nbsp;</span>, 主要解决<span>&nbsp;</span><em>时钟回拨问题</em><span>&nbsp;</span>、<em>机器号分配问题</em>、<em>取模分片不均匀问题</em><span>&nbsp;</span>并且提供更加友好、灵活的使用体验。</li><li><code>SegmentId</code>: 每次获取一段 (<code>Step</code>) ID，来降低号段分发器的网络 IO 请求频次提升性能。 
  <ul><li><code>IdSegmentDistributor</code>: 号段分发器（号段存储器） 
    <ul><li><code>RedisIdSegmentDistributor</code>: 基于<span>&nbsp;</span><em>Redis</em><span>&nbsp;</span>的号段分发器。</li><li><code>JdbcIdSegmentDistributor</code>: 基于<span>&nbsp;</span><em>Jdbc</em><span>&nbsp;</span>的号段分发器，支持各种关系型数据库。</li><li><code>ZookeeperIdSegmentDistributor</code>: 基于<span>&nbsp;</span><em>Zookeeper</em><span>&nbsp;</span>的号段分发器。</li><li><code>MongoIdSegmentDistributor</code>: 基于<span>&nbsp;</span><em>MongoDB</em><span>&nbsp;</span>的号段分发器。</li></ul></li></ul></li><li><code>SegmentChainId</code>(<strong>推荐</strong>):<code>SegmentChainId</code><span>&nbsp;</span>(<em>lock-free</em>) 是对<span>&nbsp;</span><code>SegmentId</code><span>&nbsp;</span>的增强。性能可达到近似<span>&nbsp;</span><code>AtomicLong</code><span>&nbsp;</span>的<span>&nbsp;</span><em>TPS 性能：12743W+/s</em><span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fcosid.ahoo.me%2Fguide%2Fperf-test.html">JMH 基准测试</a><span>&nbsp;</span>。 
  <ul><li><code>PrefetchWorker</code><span>&nbsp;</span>维护安全距离 (<code>safeDistance</code>), 并且支持基于饥饿状态的动态<span>&nbsp;</span><code>safeDistance</code><span>&nbsp;</span>扩容 / 收缩。</li></ul></li></ul><h2><a href="https://ahoowang.gitee.io/cosid/guide/getting-started.html">快速开始</a></h2><h2>背景（为什么需要<em>分布式 ID</em>）</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">在软件系统演进过程中，随着业务规模的增长 (TPS / 存储容量)，我们需要通过集群化部署来分摊计算、存储压力。 应用服务的无状态设计使其具备了伸缩性。在使用<span>&nbsp;</span><strong>Kubernetes</strong><span>&nbsp;</span>部署时我们只需要一行命令即可完成服务伸缩 (<code>kubectl scale --replicas=5 deployment/order-service</code>)。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">但对于有状态的数据库就不那么容易了，此时数据库变成系统的性能瓶颈是显而易见的。</p><h3>分库分表</h3><blockquote><p style="margin-left:0; margin-right:0">从微服务的角度来理解垂直拆分其实就是微服务拆分。以限界上下文来定义服务边界将大服务 / 单体应用拆分成多个自治的粒度更小的服务，因为自治性规范要求，数据库也需要进行业务拆分。 但垂直拆分后的单个微服务依然会面临 TPS / 存储容量，的挑战，所以这里我们重点讨论水平拆分的方式。</p></blockquote><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="分库分表" src="https://oscimg.oschina.net/oscnet/up-bf3f59559837c87fe828f12113f2ec6269c.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">数据库分库分表方案是逻辑统一，物理分区自治的方案。其核心设计在于中间层映射方案的设计 (上图<span>&nbsp;</span><strong>Mapping</strong>)，即分片算法的设计。 几乎所有编程语言都内置实现了散列表 (java:<code>HashMap</code>/csharp:<code>Dictionary</code>/python:<code>dict</code>/go:<code>map</code><span>&nbsp;</span>...)。分片算法跟散列表高度相似 (<code>hashCode</code>)，都得通过<span>&nbsp;</span><code>key</code>/<code>shardingValue</code><span>&nbsp;</span>映射到对应的槽位 (<code>slot</code>)。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">那么<span>&nbsp;</span><code>shardingValue</code><span>&nbsp;</span>从哪里来呢？<strong>CosId</strong>！！</p><blockquote><p style="margin-left:0; margin-right:0">当然还有很多分布式场景需要<em>分布式 ID</em>，这里不再一一列举。</p></blockquote><h2>分布式 ID 方案的核心指标</h2><ul><li><strong>全局（相同业务）唯一性</strong>：唯一性保证是<span>&nbsp;</span><strong>ID</strong><span>&nbsp;</span>的必要条件，假设 ID 不唯一就会产生主键冲突，这点很容易可以理解。 
  <ul><li>通常所说的全局唯一性并不是指所有业务服务都要唯一，而是相同业务服务不同部署副本唯一。 比如 Order 服务的多个部署副本在生成<span>&nbsp;</span><code>t_order</code><span>&nbsp;</span>这张表的<span>&nbsp;</span><code>Id</code><span>&nbsp;</span>时是要求全局唯一的。至于<span>&nbsp;</span><code>t_order_item</code><span>&nbsp;</span>生成的<span>&nbsp;</span><code>ID</code><span>&nbsp;</span>与<span>&nbsp;</span><code>t_order</code><span>&nbsp;</span>是否唯一，并不影响唯一性约束，也不会产生什么副作用。 不同业务模块间也是同理。即唯一性主要解决的是 ID 冲突问题。</li></ul></li><li><strong>有序性</strong>：有序性保证是面向查询的数据结构算法（除了 Hash 算法）所必须的，是<strong>二分查找法</strong><span>&nbsp;</span>(分而治之) 的前提。 
  <ul><li>MySq-InnoDB B + 树是使用最为广泛的，假设 Id 是无序的，B+ 树，为了维护 ID 的有序性，就会频繁的在索引的中间位置插入而挪动后面节点的位置，甚至导致频繁的页分裂，这对于性能的影响是极大的。那么如果我们能够保证 ID 的有序性这种情况就完全不同了，只需要进行追加写操作。所以 ID 的有序性是非常重要的，也是 ID 设计不可避免的特性。</li></ul></li><li><strong>吞吐量 / 性能 (ops/time)</strong>：即单位时间（每秒）能产生的 ID 数量。生成 ID 是非常高频的操作，也是最为基本的。假设 ID 生成的性能缓慢，那么不管怎么进行系统优化也无法获得更好的性能。 
  <ul><li>一般我们会首先生成 ID，然后再执行写入操作，假设 ID 生成缓慢，那么整体性能上限就会受到限制，这一点应该不难理解。</li></ul></li><li><strong>稳定性 (time/op)</strong>：稳定性指标一般可以采用<strong>每个操作的时间进行百分位采样</strong>来分析，比如<span>&nbsp;</span><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId">CosId</a></em><span>&nbsp;</span>百分位采样<span>&nbsp;</span><strong>P9999=0.208 us/op</strong>，即<span>&nbsp;</span><strong>0% ~ 99.99%</strong><span>&nbsp;</span>的单位操作时间小于等于<span>&nbsp;</span><strong>0.208 us/op</strong>。 
  <ul><li><a href="https://gitee.com/link?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E7%2599%25BE%25E5%2588%2586%25E4%25BD%258D%25E6%2595%25B0">百分位数 WIKI</a><span>&nbsp;</span>：统计学术语，若将一组数据从小到大排序，并计算相应的累计百分点，则某百分点所对应数据的值，就称为这百分点的百分位数，以 Pk 表示第 k 百分位数。百分位数是用来比较个体在群体中的相对地位量数。</li><li>为什么不用平均<em>每个操作的时间</em>：马老师的身价跟你的身价能平均么？平均后的值有意义不？</li><li>可以使用最小<em>每个操作的时间</em>、最大<em>每个操作的时间</em>作为参考吗？因为最小、最大值只说明了零界点的情况，虽说可以作为稳定性的参考，但依然不够全面。而且<em>百分位数</em>已经覆盖了这俩个指标。</li></ul></li><li><strong>自治性（依赖）</strong>：主要是指对外部环境有无依赖，比如<strong>号段模式</strong>会强依赖第三方存储中间件来获取<span>&nbsp;</span><code>NexMaxId</code>。自治性还会对可用性造成影响。</li><li><strong>可用性</strong>：分布式 ID 的可用性主要会受到自治性影响，比如<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>会受到时钟回拨影响，导致处于短暂时间的不可用状态。而<strong>号段模式</strong>会受到第三方发号器（<code>NexMaxId</code>）的可用性影响。 
  <ul><li><a href="https://gitee.com/link?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E5%258F%25AF%25E7%2594%25A8%25E6%2580%25A7">可用性 WIKI</a><span>&nbsp;</span>：在一个给定的时间间隔内，对于一个功能个体来讲，总的可用时间所占的比例。</li><li>MTBF：平均故障间隔</li><li>MDT：平均修复 / 恢复时间</li><li>Availability=MTBF/(MTBF+MDT)</li><li>假设 MTBF 为 1 年，MDT 为 1 小时，即<span>&nbsp;</span><code>Availability=(365*24)/(365*24+1)=0.999885857778792≈99.99%</code>，也就是我们通常所说对可用性 4 个 9。</li></ul></li><li><strong>适应性</strong>：是指在面对外部环境变化的自适应能力，这里我们主要说的是面对流量突发时动态伸缩分布式 ID 的性能， 
  <ul><li><strong>SegmentChainId</strong><span>&nbsp;</span>可以基于<strong>饥饿状态</strong>进行<strong>安全距离</strong>的动态伸缩。</li><li><strong>SnowflakeId</strong><span>&nbsp;</span>常规位分配方案性能恒定 409.6W，虽然可以通过调整位分配方案来获得不同的 TPS 性能，但是位分配方法的变更是破坏性的，一般根据业务场景确定位分配方案后不再变更。</li></ul></li><li><strong>存储空间</strong>：还是用 MySq-InnoDB B + 树来举例，普通索引（二级索引）会存储主键值，主键越大占用的内存缓存、磁盘空间也会越大。Page 页存储的数据越少，磁盘 IO 访问的次数会增加。总之在满足业务需求的情况下，尽可能小的存储空间占用在绝大多数场景下都是好的设计原则。</li></ul><h3>不同分布式 ID 方案核心指标对比</h3><table cellspacing="0" style="--darkreader-inline-bgcolor:#181a1b; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-top:currentcolor; --darkreader-inline-color:#b7b1a7; -webkit-text-stroke-width:0px; background-color:#ffffff; border-collapse:collapse; border-spacing:0px; border:medium none; box-sizing:border-box; color:#40485b; display:block; font-family:-apple-system,&quot;system-ui&quot;,&quot;Segoe UI&quot;,Helvetica,Arial,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Liberation Sans&quot;,&quot;PingFang SC&quot;,&quot;Microsoft YaHei&quot;,&quot;Hiragino Sans GB&quot;,&quot;Wenquanyi Micro Hei&quot;,&quot;WenQuanYi Zen Hei&quot;,&quot;ST Heiti&quot;,SimHei,SimSun,&quot;WenQuanYi Zen Hei Sharp&quot;,sans-serif; font-size:16px; font-style:normal; font-variant-caps:normal; font-variant-ligatures:normal; font-weight:400; letter-spacing:normal; line-height:inherit; margin:0px 0px 16px; max-width:100%; orphans:2; overflow:auto; text-align:left; text-decoration-color:initial; text-decoration-style:initial; text-decoration-thickness:initial; text-transform:none; white-space:normal; widows:2; word-break:initial; word-spacing:0px"><tbody><tr><th>分布式 ID</th><th>全局唯一性</th><th>有序性</th><th>吞吐量</th><th>稳定性（1s=1000,000us）</th><th>自治性</th><th>可用性</th><th>适应性</th><th>存储空间</th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">UUID/GUID</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">完全无序</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">3078638(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=0.325(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">完全自治</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">100%</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">否</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">128-bit</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">SnowflakeId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">本地单调递增，全局趋势递增 (受全局时钟影响)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">4096000(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=0.244(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">依赖时钟</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">时钟回拨会导致短暂不可用</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">否</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">64-bit</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">SegmentId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">本地单调递增，全局趋势递增 (受 Step 影响)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">29506073(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=46.624(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">依赖第三方号段分发器</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">受号段分发器可用性影响</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">否</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">64-bit</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">SegmentChainId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">本地单调递增，全局趋势递增 (受 Step、安全距离影响)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">127439148(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=0.208(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">依赖第三方号段分发器</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">受号段分发器可用性影响，但因安全距离存在，预留 ID 段，所以高于 SegmentId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">64-bit</td></tr></tbody></table><h3>有序性 (要想分而治之・二分查找法，必须要维护我)</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">刚刚我们已经讨论了 ID 有序性的重要性，所以我们设计 ID 算法时应该尽可能地让 ID 是单调递增的，比如像表的自增主键那样。但是很遗憾，因全局时钟、性能等分布式系统问题，我们通常只能选择局部单调递增、全局趋势递增的组合（就像我们在分布式系统中不得不的选择最终一致性那样）以获得多方面的权衡。下面我们来看一下什么是单调递增与趋势递增。</p><h4>有序性之单调递增</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="单调递增" src="https://oscimg.oschina.net/oscnet/up-8ba6ce51f3f87c5ad8768ebf6ef32e854d9.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">单调递增：T 表示全局绝对时点，假设有 Tn+1&gt;Tn（绝对时间总是往前进的，这里不考虑相对论、时间机器等），那么必然有 F (Tn+1)&gt;F (Tn)，数据库自增主键就属于这一类。 另外需要特别说明的是单调递增跟连续性递增是不同的概念。 连续性递增：<code>F(n+1)=(F(n)+step)</code><span>&nbsp;</span>即下一次获取的 ID 一定等于当前<span>&nbsp;</span><code>ID+Step</code>，当<span>&nbsp;</span><code>Step=1</code><span>&nbsp;</span>时类似于这样一个序列:<code>1-&gt;2-&gt;3-&gt;4-&gt;5</code>。</p><blockquote><p style="margin-left:0; margin-right:0">扩展小知识：数据库的自增主键也不是连续性递增的，相信你一定遇到过这种情况，请思考一下数据库为什么这样设计？</p></blockquote><h4>有序性之趋势递增</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="趋势递增" src="https://oscimg.oschina.net/oscnet/up-c1c18e3548c373db0f634c1d0183739b41b.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">趋势递增：Tn&gt;Tn-s，那么大概率有 F (Tn)&gt;F (Tn-s)。虽然在一段时间间隔内有乱序，但是整体趋势是递增。从上图上看，是有上升趋势的（趋势线）。</p><ul><li>在<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>中 n-s 受到全局时钟同步影响。</li><li>在号段模式 (<strong>SegmentId</strong>) 中 n-s 受到号段可用区间 (<code>Step</code>) 影响。</li></ul><h2>分布式 ID 分配方案</h2><h3>UUID/GUID</h3><ul><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer">不依赖任何第三方中间件</li><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer">性能高</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">完全无序</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">空间占用大，需要占用 128 位存储空间。</li></ul><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">UUID 最大的缺陷是随机的、无序的，当用于主键时会导致数据库的主键索引效率低下（为了维护索引树，频繁的索引中间位置插入数据，而不是追加写）。这也是 UUID 不适用于数据库主键的最为重要的原因。</p><h3>SnowflakeId</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Snowflake 雪花算法" src="https://oscimg.oschina.net/oscnet/up-8d58346c8e62fdd525df8ed4bc1b1458710.png" referrerpolicy="no-referrer"></p><blockquote><p style="margin-left:0; margin-right:0"><em>SnowflakeId</em><span>&nbsp;</span>使用<span>&nbsp;</span><code>Long</code>（64-bit）位分区来生成 ID 的一种分布式 ID 算法。 通用的位分配方案为：<code>timestamp</code>(41-bit)+<code>machineId</code>(10-bit)+<code>sequence</code>(12-bit)=63-bit。</p></blockquote><ul><li>41-bit<code>timestamp</code>=(1L&lt;&lt;41)/(1000/3600/365)，约可以存储 69 年的时间戳，即可以使用的绝对时间为<span>&nbsp;</span><code>EPOCH</code>+69 年，一般我们需要自定义<span>&nbsp;</span><code>EPOCH</code><span>&nbsp;</span>为产品开发时间，另外还可以通过压缩其他区域的分配位数，来增加时间戳位数来延长可用时间。</li><li>10-bit<code>machineId</code>=(1L&lt;&lt;10)=1024，即相同业务可以部署 1024 个副本 (在 Kubernetes 概念里没有主从副本之分，这里直接沿用 Kubernetes 的定义)。一般情况下没有必要使用这么多位，所以会根据部署规模需要重新定义。</li><li>12-bit<code>sequence</code>=(1L&lt;&lt;12)*1000=4096000，即单机每秒可生成约 409W 的 ID，全局同业务集群可产生<span>&nbsp;</span><code>4096000*1024=419430W=41.9 亿 (TPS)</code>。</li></ul><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">从<span>&nbsp;</span><em>SnowflakeId</em><span>&nbsp;</span>设计上可以看出:</p><ul><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer"><code>timestamp</code><span>&nbsp;</span>在高位，单实例<span>&nbsp;</span><em>SnowflakeId</em><span>&nbsp;</span>是会保证时钟总是向前的（校验本机时钟回拨），所以是本机单调递增的。受全局时钟同步 / 时钟回拨影响<span>&nbsp;</span><em>SnowflakeId</em><span>&nbsp;</span>是全局趋势递增的。</li><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer"><em>SnowflakeId</em><span>&nbsp;</span>不对任何第三方中间件有强依赖关系，并且性能也非常高。</li><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer">位分配方案可以按照业务系统需要灵活配置，来达到最优使用效果。</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">强依赖本机时钟，潜在的时钟回拨问题会导致 ID 重复、处于短暂的不可用状态。</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer"><code>machineId</code><span>&nbsp;</span>需要手动设置，实际部署时如果采用手动分配<span>&nbsp;</span><code>machineId</code>，会非常低效。</li></ul><h4>SnowflakeId 之机器号分配问题</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">在<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>中根据业务设计的位分配方案确定了基本上就不再有变更了，也很少需要维护。但是<span>&nbsp;</span><code>machineId</code><span>&nbsp;</span>总是需要配置的，而且集群中是不能重复的，否则分区原则就会被破坏而导致 ID 唯一性原则破坏，当集群规模较大时<span>&nbsp;</span><code>machineId</code><span>&nbsp;</span>的维护工作是非常繁琐，低效的。</p><blockquote><p style="margin-left:0; margin-right:0">有一点需要特别说明的，<strong>SnowflakeId</strong><span>&nbsp;</span>的<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>是逻辑上的概念，而不是物理概念。 想象一下假设<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>是物理上的，那么意味着一台机器拥有只能拥有一个<span>&nbsp;</span><strong>MachineId</strong>，那会产生什么问题呢？</p></blockquote><blockquote><p style="margin-left:0; margin-right:0">目前<span>&nbsp;</span><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId">CosId</a></em><span>&nbsp;</span>提供了以下五种<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>分配器。</p></blockquote><ul><li>ManualMachineIdDistributor: 手动配置<span>&nbsp;</span><code>machineId</code>，一般只有在集群规模非常小的时候才有可能使用，不推荐。</li><li>StatefulSetMachineIdDistributor: 使用<span>&nbsp;</span><code>Kubernetes</code><span>&nbsp;</span>的<span>&nbsp;</span><code>StatefulSet</code><span>&nbsp;</span>提供的稳定的标识 ID（HOSTNAME=service-01）作为机器号。</li><li>RedisMachineIdDistributor: 使用<span>&nbsp;</span><strong>Redis</strong><span>&nbsp;</span>作为机器号的分发存储，同时还会存储<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>的上一次时间戳，用于<strong>启动时时钟回拨</strong>的检查。</li><li>JdbcMachineIdDistributor: 使用<strong>关系型数据库</strong>作为机器号的分发存储，同时还会存储<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>的上一次时间戳，用于<strong>启动时时钟回拨</strong>的检查。</li><li>ZookeeperMachineIdDistributor: 使用<span>&nbsp;</span><strong>ZooKeeper</strong><span>&nbsp;</span>作为机器号的分发存储，同时还会存储<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>的上一次时间戳，用于<strong>启动时时钟回拨</strong>的检查。</li></ul><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Redis MachineId Distributor" src="https://oscimg.oschina.net/oscnet/up-e5966f62f7f64aff097899743596a6ca385.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Machine Id Safe Guard" src="https://oscimg.oschina.net/oscnet/up-ce3a0238995e354fa22e1d7fcdb5f0e13c1.png" referrerpolicy="no-referrer"></p><h4>SnowflakeId 之时钟回拨问题</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">时钟回拨的致命问题是会导致 ID 重复、冲突（这一点不难理解），ID 重复显然是不能被容忍的。 在<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>算法中，按照<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>分区 ID，我们不难理解的是不同<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>是不可能产生相同 ID 的。所以我们解决的时钟回拨问题是指当前<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>的时钟回拨问题，而不是所有集群节点的时钟回拨问题。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><strong>MachineId</strong><span>&nbsp;</span>时钟回拨问题大体可以分为俩种情况：</p><ul><li>运行时时钟回拨：即在运行时获取的当前时间戳比上一次获取的时间戳小。这个场景的时钟回拨是很容易处理的，一般<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>代码实现时都会存储<span>&nbsp;</span><code>lastTimestamp</code><span>&nbsp;</span>用于运行时时钟回拨的检查，并抛出时钟回拨异常。 
  <ul><li>时钟回拨时直接抛出异常是不太好地实践，因为下游使用方几乎没有其他处理方案（噢，我还能怎么办呢，等吧），时钟同步是唯一的选择，当只有一种选择时就不要再让用户选择了。</li><li><code>ClockSyncSnowflakeId</code><span>&nbsp;</span>是<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>的包装器，当发生时钟回拨时会使用<span>&nbsp;</span><code>ClockBackwardsSynchronizer</code><span>&nbsp;</span>主动等待时钟同步来重新生成 ID，提供更加友好的使用体验。</li></ul></li><li>启动时时钟回拨：即在启动服务实例时获取的当前时钟比上次关闭服务时小。此时的<span>&nbsp;</span><code>lastTimestamp</code><span>&nbsp;</span>是无法存储在进程内存中的。当获取的外部存储的<strong>机器状态</strong>大于当前时钟时钟时，会使用<span>&nbsp;</span><code>ClockBackwardsSynchronizer</code><span>&nbsp;</span>主动同步时钟。 
  <ul><li>LocalMachineStateStorage：使用本地文件存储<span>&nbsp;</span><code>MachineState</code>(机器号、最近一次时间戳)。因为使用的是本地文件所以只有当实例的部署环境是稳定的，<code>LocalMachineStateStorage</code><span>&nbsp;</span>才适用。</li><li>RedisMachineIdDistributor：将<span>&nbsp;</span><code>MachineState</code><span>&nbsp;</span>存储在<span>&nbsp;</span><strong>Redis</strong><span>&nbsp;</span>分布式缓存中，这样可以保证总是可以获取到上次服务实例停机时<strong>机器状态</strong>。</li></ul></li></ul><h4>SnowflakeId 之 JavaScript 数值溢出问题</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><code>JavaScript</code><span>&nbsp;</span>的<span>&nbsp;</span><code>Number.MAX_SAFE_INTEGER</code><span>&nbsp;</span>只有 53-bit，如果直接将 63 位的<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>返回给前端，那么会产生值溢出的情况（所以这里我们应该知道后端传给前端的<span>&nbsp;</span><code>long</code><span>&nbsp;</span>值溢出问题，<strong>迟早</strong>会出现，只不过 SnowflakeId 出现得更快而已）。 很显然溢出是不能被接受的，一般可以使用以下俩种处理方案：</p><ul><li>将生成的 63-bit<code>SnowflakeId</code><span>&nbsp;</span>转换为<span>&nbsp;</span><code>String</code><span>&nbsp;</span>类型。 
  <ul><li>直接将<span>&nbsp;</span><code>long</code><span>&nbsp;</span>转换成<span>&nbsp;</span><code>String</code>。</li><li>使用<span>&nbsp;</span><code>SnowflakeFriendlyId</code><span>&nbsp;</span>将<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>转换成比较友好的字符串表示：<code>{timestamp}-{machineId}-{sequence} -&gt; 20210623131730192-1-0</code></li></ul></li><li>自定义<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>位分配来缩短<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>的位数（53-bit）使<span>&nbsp;</span><code>ID</code><span>&nbsp;</span>提供给前端时不溢出 
  <ul><li>使用<span>&nbsp;</span><code>SafeJavaScriptSnowflakeId</code>(<code>JavaScript</code><span>&nbsp;</span>安全的<span>&nbsp;</span><code>SnowflakeId</code>)</li></ul></li></ul><h2>号段模式（SegmentId）</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Segment Id" src="https://oscimg.oschina.net/oscnet/up-d91b5939ccc673f26ccdcfbbd9e6aa68535.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">从上面的设计图中，不难看出<strong>号段模式</strong>基本设计思路是通过每次获取一定长度（Step）的可用 ID（Id 段 / 号段），来降低网络 IO 请求次数，提升性能。</p><ul><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">强依赖第三方号段分发器，可用性受到第三方分发器影响。</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">每次号段用完时获取<span>&nbsp;</span><code>NextMaxId</code><span>&nbsp;</span>需要进行网络 IO 请求，此时的性能会比较低。</li><li>单实例 ID 单调递增，全局趋势递增。 
  <ul><li>从设计图中不难看出<span>&nbsp;</span><strong>Instance 1</strong><span>&nbsp;</span>每次获取的<span>&nbsp;</span><code>NextMaxId</code>，一定比上一次大，意味着下一次的号段一定比上一次大，所以从单实例上来看是单调递增的。</li><li>多实例各自持有的不同的号段，意味着同一时刻不同实例生成的 ID 是乱序的，但是整体趋势的递增的，所以全局趋势递增。</li></ul></li><li>ID 乱序程度受到 Step 长度以及集群规模影响（从趋势递增图中不难看出）。 
  <ul><li>假设集群中只有一个实例时<strong>号段模式</strong>就是单调递增的。</li><li><code>Step</code><span>&nbsp;</span>越小，乱序程度越小。当<span>&nbsp;</span><code>Step=1</code><span>&nbsp;</span>时，将无限接近单调递增。需要注意的是这里是无限接近而非等於单调递增，具体原因你可以思考一下这样一个场景： 
    <ul><li>号段分发器 T1 时刻给<span>&nbsp;</span><strong>Instance 1</strong><span>&nbsp;</span>分发了<span>&nbsp;</span><code>ID=1</code>,T2 时刻给<span>&nbsp;</span><strong>Instance 2</strong><span>&nbsp;</span>分发了<span>&nbsp;</span><code>ID=2</code>。因为机器性能、网络等原因，<code>Instance 2</code><span>&nbsp;</span>网络 IO 写请求先于<span>&nbsp;</span><code>Instance 1</code><span>&nbsp;</span>到达。那么这个时候对于数据库来说，ID 依然是乱序的。</li></ul></li></ul></li></ul><h2>号段链模式（SegmentChainId）</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fcosid.ahoo.me%2Fguide%2Fsegment-chain.html">分布式 ID (CosId) 之号段链模式性能 (1.2 亿 /s) 解析</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Segment Chain Id" src="https://oscimg.oschina.net/oscnet/up-d96e7c4f91786832c1345a7228a7c012177.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><strong>SegmentChainId</strong><span>&nbsp;</span>是<span>&nbsp;</span><strong>SegmentId</strong><span>&nbsp;</span>增强版，相比于<span>&nbsp;</span><strong>SegmentId</strong><span>&nbsp;</span>有以下优势：</p><ul><li>稳定性：<strong>SegmentId</strong><span>&nbsp;</span>的稳定性问题（P9999=46.624 (us/op)）主要是因为号段用完之后同步进行<span>&nbsp;</span><code>NextMaxId</code><span>&nbsp;</span>的获取导致的（会产生网络 IO）。 
  <ul><li><strong>SegmentChainId</strong><span>&nbsp;</span>（P9999=0.208 (us/op)）引入了新的角色<span>&nbsp;</span><strong>PrefetchWorker</strong><span>&nbsp;</span>用以维护和保证<strong>安全距离</strong>，理想情况下使得获取 ID 的线程几乎完全不需要进行同步的等待<span>&nbsp;</span><code>NextMaxId</code><span>&nbsp;</span>获取，性能可达到近似<span>&nbsp;</span><code>AtomicLong</code><span>&nbsp;</span>的<span>&nbsp;</span><em>TPS 性能：12743W+/s</em><span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId%2Fblob%2Fmain%2FREADME.zh-CN.md%23jmh-benchmark">JMH 基准测试</a><span>&nbsp;</span>。</li></ul></li><li>适应性：从<span>&nbsp;</span><strong>SegmentId</strong><span>&nbsp;</span>介绍中我们知道了影响<span>&nbsp;</span><strong>ID 乱序</strong>的因素有俩个：集群规模、<code>Step</code><span>&nbsp;</span>大小。集群规模是我们不能控制的，但是<span>&nbsp;</span><code>Step</code><span>&nbsp;</span>是可以调节的。 
  <ul><li><code>Step</code><span>&nbsp;</span>应该近可能小才能使得<span>&nbsp;</span><strong>ID 单调递增</strong>的可能性增大。</li><li><code>Step</code><span>&nbsp;</span>太小会影响吞吐量，那么我们如何合理设置<span>&nbsp;</span><code>Step</code><span>&nbsp;</span>呢？答案是我们无法准确预估所有时点的吞吐量需求，那么最好的办法是吞吐量需求高时，Step 自动增大，吞吐量低时 Step 自动收缩。</li><li><strong>SegmentChainId</strong><span>&nbsp;</span>引入了<strong>饥饿状态</strong>的概念，<strong>PrefetchWorker</strong><span>&nbsp;</span>会根据<strong>饥饿状态</strong>检测当前<strong>安全距离</strong>是否需要膨胀或者收缩，以便获得吞吐量与有序性之间的权衡，这便是<span>&nbsp;</span><strong>SegmentChainId</strong><span>&nbsp;</span>的自适应性。</li></ul></li></ul><h2>集成</h2><h3>CosIdPlugin（MyBatis 插件）</h3><blockquote><p style="margin-left:0; margin-right:0">Kotlin DSL</p></blockquote><div><div><pre><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">implementation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span style="color:#eeeeee">(</span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">"me.ahoo.cosid:cosid-mybatis:${cosidVersion}"</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#eeeeee">)</span></span></pre></div></div><div><div><pre><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49">class</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><strong><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1">Order</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>{</span></span><span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">@CosId</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">(</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">value</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">=</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span>"order"</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">private</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>orderId</span><span>;</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">private</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>userId</span><span>;</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>getOrderId</strong><span>()</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">return</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>orderId</span><span>;</span></span><span><span>}</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>void</strong><strong>setOrderId</strong><span>(</span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>orderId</span><span>)</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">this</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>.</span><span style="color:#008080">orderId</span><span>=</span><span>orderId</span><span>;</span></span><span><span>}</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>getUserId</strong><span>()</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">return</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>userId</span><span>;</span></span><span><span>}</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>void</strong><strong>setUserId</strong><span>(</span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>userId</span><span>)</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">this</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>.</span><span style="color:#008080">userId</span><span>=</span><span>userId</span><span>;</span></span><span><span>}</span></span><span><span>}</span></span></pre></div></div><h3>ShardingSphere 插件</h3><blockquote><p style="margin-left:0; margin-right:0"><code>CosIdKeyGenerateAlgorithm</code>、<code>CosIdModShardingAlgorithm</code>、<code>CosIdIntervalShardingAlgorithm</code><span>&nbsp;</span>已合并至<span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fapache%2Fshardingsphere%2Fpull%2F14132">ShardingSphere</a><span>&nbsp;</span>官方，未来<span>&nbsp;</span><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId%2Ftree%2Fmain%2Fcosid-shardingsphere">cosid-shardingsphere</a></em><span>&nbsp;</span>模块的维护可能会以官方为主。</p></blockquote><blockquote><p style="margin-left:0; margin-right:0">Kotlin DSL</p></blockquote><div><div><pre><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">implementation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span style="color:#eeeeee">(</span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">"me.ahoo.cosid:cosid-shardingsphere:${cosidVersion}"</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#eeeeee">)</span></span></pre></div></div><h4>CosIdKeyGenerateAlgorithm (分布式主键)</h4><div><div><pre><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">spring</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">shardingsphere</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">rules</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">sharding</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">key-generators</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">cosid</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">type</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span><span style="background-color:transparent; color:#00aadd">COSID</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">props</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">id-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span><span style="background-color:transparent; color:#00aadd">__share__</span></span></pre></div></div><h4>基于间隔的时间范围分片算法</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosId Interval Sharding Algorithm" src="https://oscimg.oschina.net/oscnet/up-8afd1ee134d5b3cb656d984b86c3c26a2b9.png" referrerpolicy="no-referrer"></p><ul><li>易用性：支持多种数据类型 (<code>Long</code>/<code>LocalDateTime</code>/<code>DATE</code>/<span>&nbsp;</span><code>String</code><span>&nbsp;</span>/<span>&nbsp;</span><code>SnowflakeId</code>)，而官方实现是先转换成字符串再转换成<span>&nbsp;</span><code>LocalDateTime</code>，转换成功率受时间格式化字符影响。</li><li>性能：相比于<span>&nbsp;</span><code>org.apache.shardingsphere.sharding.algorithm.sharding.datetime.IntervalShardingAlgorithm</code><span>&nbsp;</span>性能高出<span>&nbsp;</span><em>1200~4000</em><span>&nbsp;</span>倍。</li></ul><table cellspacing="0" style="--darkreader-inline-bgcolor:#181a1b; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-top:currentcolor; --darkreader-inline-color:#b7b1a7; -webkit-text-stroke-width:0px; background-color:#ffffff; border-collapse:collapse; border-spacing:0px; border:medium none; box-sizing:border-box; color:#40485b; display:block; font-family:-apple-system,&quot;system-ui&quot;,&quot;Segoe UI&quot;,Helvetica,Arial,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Liberation Sans&quot;,&quot;PingFang SC&quot;,&quot;Microsoft YaHei&quot;,&quot;Hiragino Sans GB&quot;,&quot;Wenquanyi Micro Hei&quot;,&quot;WenQuanYi Zen Hei&quot;,&quot;ST Heiti&quot;,SimHei,SimSun,&quot;WenQuanYi Zen Hei Sharp&quot;,sans-serif; font-size:16px; font-style:normal; font-variant-caps:normal; font-variant-ligatures:normal; font-weight:400; letter-spacing:normal; line-height:inherit; margin:0px 0px 16px; max-width:100%; orphans:2; overflow:auto; text-align:left; text-decoration-color:initial; text-decoration-style:initial; text-decoration-thickness:initial; text-transform:none; white-space:normal; widows:2; word-break:initial; word-spacing:0px"><tbody><tr><th><strong>PreciseShardingValue</strong></th><th><strong>RangeShardingValue</strong></th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of IntervalShardingAlgorithm - PreciseShardingValue" src="https://oscimg.oschina.net/oscnet/up-2a88161c2346bded68be5270064dcfc8246.png" referrerpolicy="no-referrer"></td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of IntervalShardingAlgorithm - RangeShardingValue" src="https://oscimg.oschina.net/oscnet/up-f31899cf725fa89975be9af664f80617d20.png" referrerpolicy="no-referrer"></td></tr></tbody></table><ul><li>CosIdIntervalShardingAlgorithm 
  <ul><li>type: COSID_INTERVAL</li></ul></li><li>SnowflakeIntervalShardingAlgorithm 
  <ul><li>type: COSID_INTERVAL_SNOWFLAKE</li></ul></li></ul><div><div><pre><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">spring</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">shardingsphere</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">rules</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding-algorithms</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">alg-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">type</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">COSID_INTERVAL_{type_suffix}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">props</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">logic-name-prefix</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">logic-name-prefix</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">id-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">cosid-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-lower</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>2021</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-12</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-08</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>22</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">:00:00</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-upper</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>2022</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-12</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-01</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>00</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">:00:00</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding-suffix-pattern</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">yyyyMM</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-interval-unit</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">MONTHS</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-interval-amount</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>1</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></pre></div></div><h4>取模分片算法</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosIdModShardingAlgorithm" src="https://oscimg.oschina.net/oscnet/up-614e23fdac05028408625b0856f2e1163aa.png" referrerpolicy="no-referrer"></p><ul><li>性能：相比于<span>&nbsp;</span><code>org.apache.shardingsphere.sharding.algorithm.sharding.mod.ModShardingAlgorithm</code><span>&nbsp;</span>性能高出<span>&nbsp;</span><em>1200~4000</em><span>&nbsp;</span>倍。并且稳定性更高，不会出现严重的性能退化。</li></ul><table cellspacing="0" style="--darkreader-inline-bgcolor:#181a1b; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-top:currentcolor; --darkreader-inline-color:#b7b1a7; -webkit-text-stroke-width:0px; background-color:#ffffff; border-collapse:collapse; border-spacing:0px; border:medium none; box-sizing:border-box; color:#40485b; display:block; font-family:-apple-system,&quot;system-ui&quot;,&quot;Segoe UI&quot;,Helvetica,Arial,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Liberation Sans&quot;,&quot;PingFang SC&quot;,&quot;Microsoft YaHei&quot;,&quot;Hiragino Sans GB&quot;,&quot;Wenquanyi Micro Hei&quot;,&quot;WenQuanYi Zen Hei&quot;,&quot;ST Heiti&quot;,SimHei,SimSun,&quot;WenQuanYi Zen Hei Sharp&quot;,sans-serif; font-size:16px; font-style:normal; font-variant-caps:normal; font-variant-ligatures:normal; font-weight:400; letter-spacing:normal; line-height:inherit; margin:0px 0px 16px; max-width:100%; orphans:2; overflow:auto; text-align:left; text-decoration-color:initial; text-decoration-style:initial; text-decoration-thickness:initial; text-transform:none; white-space:normal; widows:2; word-break:initial; word-spacing:0px"><tbody><tr><th><strong>PreciseShardingValue</strong></th><th><strong>RangeShardingValue</strong></th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of ModShardingAlgorithm - PreciseShardingValue" src="https://oscimg.oschina.net/oscnet/up-b0509c7b8d072d626c62e6d85006bb4f9ef.png" referrerpolicy="no-referrer"></td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of ModShardingAlgorithm - RangeShardingValue" src="https://oscimg.oschina.net/oscnet/up-37c0d23dabd951f4a00985b74cd20c5a328.png" referrerpolicy="no-referrer"></td></tr></tbody></table><div><div><pre><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">spring</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">shardingsphere</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">rules</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding-algorithms</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">alg-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">type</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">COSID_MOD</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">props</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">mod</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>4</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">logic-name-prefix</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">t_table_</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre></div></div><h2>性能测试报告</h2><h3>SegmentChainId - 吞吐量 (ops/s)</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Throughput-Of-SegmentChainId" src="https://oscimg.oschina.net/oscnet/up-bcdd47563907ba963673c8cd1ee99f3a753.png" referrerpolicy="no-referrer"></p><h3>SegmentChainId - 每次操作耗时的百分位数 (us/op)</h3><blockquote><p style="margin-left:0; margin-right:0"><a href="https://gitee.com/link?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E7%2599%25BE%25E5%2588%2586%25E4%25BD%258D%25E6%2595%25B0">百分位数</a><span>&nbsp;</span>，统计学术语，若将一组数据从小到大排序，并计算相应的累计百分点，则某百分点所对应数据的值，就称为这百分点的百分位数，以 Pk 表示第 k 百分位数。百分位数是用来比较个体在群体中的相对地位量数。</p></blockquote><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Percentile-Sample-Of-SegmentChainId" src="https://oscimg.oschina.net/oscnet/up-bc3e9bb34396489e0da8ec0888151b7d489.png" referrerpolicy="no-referrer"></p><h3>CosId VS 美团 Leaf</h3><blockquote><p style="margin-left:0; margin-right:0">CosId (<code>SegmentChainId</code>) 性能是 Leaf (<code>segment</code>) 的 5 倍。</p></blockquote><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosId VS 美团 Leaf" src="https://gitee.com/AhooWang/CosId/raw/main/document/docs/.vuepress/public/assets/perf/CosId-VS-Leaf.png" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 06:12:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279947/cosid-2-6-6-released</guid>
            <link>https://www.oschina.net/news/279947/cosid-2-6-6-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Eclipse Vert.x 4.5.4 发布，Java 微服务开发框架]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="background-color:#ffffff; color:#333333">Eclipse Vert.x 是一个微服务开发框架，基于事件和异步，依托于全异步 Java 服务器 Netty，并扩展了很多其他特性，以其轻量、高性能、支持多语言开发而备受开发者青睐。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span><span><span style="color:#3c3c3b"><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Eclipse Vert.x 版本 4.5.4 现已<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fvertx.io%2Fblog%2Feclipse-vert-x-4-5-4%2F" target="_blank">发布</a>。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:#ffffff; color:#333333">一些弃用和破坏性变更包括：</span></p><h4 style="text-align:start"><strong>Vert.x Core</strong></h4><p style="text-align:start"><strong><span><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>TCP 客户端 TLS 配置的破坏性变更</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Feclipse-vertx%2Fvert.x%2Fpull%2F5117" target="_blank">https://github.com/eclipse-vertx/vert.x/pull/5117</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><code>NetClient</code>的 TLS 配置不再将默认主机名验证算法设置为空字符串，而是客户端的用户必须使用非空字符串明确配置主机名验证算法。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><div style="text-align:start"><pre><span style="color:var(--color-prettylights-syntax-comment)">// Before</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClient</span><span>client</span> = <span>vertx</span>.<span style="color:var(--color-prettylights-syntax-entity)">createNetClient</span>(<span style="color:var(--color-prettylights-syntax-keyword)">new</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClientOptions</span>().<span style="color:var(--color-prettylights-syntax-entity)">setSsl</span>(<span style="color:var(--color-prettylights-syntax-constant)">true</span>).<span style="color:var(--color-prettylights-syntax-entity)">setTrustOptions</span>(<span>trustedCert</span>));

<span style="color:var(--color-prettylights-syntax-comment)">// After </span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">String</span><span>algo</span> = ...;
<span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClient</span><span>client</span> = <span>vertx</span>.<span style="color:var(--color-prettylights-syntax-entity)">createNetClient</span>(<span style="color:var(--color-prettylights-syntax-keyword)">new</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClientOptions</span>().<span style="color:var(--color-prettylights-syntax-entity)">setSsl</span>(<span style="color:var(--color-prettylights-syntax-constant)">true</span>).<span style="color:var(--color-prettylights-syntax-entity)">setHostnameVerificationAlgorithm</span>(<span>algo</span>).<span style="color:var(--color-prettylights-syntax-entity)">setTrustOptions</span>(<span>trustedCert</span>));
</pre></div><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>验证算法可以是以下之一：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><ul><li><code>""</code>：接受任何可信证书</li><li><code>"HTTPS"</code>：根据&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdatatracker.ietf.org%2Fdoc%2Fhtml%2Frfc2818%23section-3.1" target="_blank">rfc2818 验证任何可信证书</a></li><li><code>"LDAPS"</code>：根据&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdatatracker.ietf.org%2Fdoc%2Fhtml%2Frfc2830%23section-3.6" target="_blank">rfc2830 验证任何可信证书</a></li></ul><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>因此，Vert.x Redis 客户端 TLS 配置必须在 TCP 客户端选项上明确设置算法。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><div style="text-align:start"><pre><span style="color:var(--color-prettylights-syntax-comment)">// Before</span><span>redisOptions</span>.<span style="color:var(--color-prettylights-syntax-entity)">setNetClientOptions</span>(<span style="color:var(--color-prettylights-syntax-keyword)">new</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClientOptions</span>().<span style="color:var(--color-prettylights-syntax-entity)">setSsl</span>(<span style="color:var(--color-prettylights-syntax-constant)">true</span>).<span style="color:var(--color-prettylights-syntax-entity)">setTrustOptions</span>(<span>cert</span>));

<span style="color:var(--color-prettylights-syntax-comment)">// After</span><span>redisOptions</span>.<span style="color:var(--color-prettylights-syntax-entity)">setNetClientOptions</span>(<span style="color:var(--color-prettylights-syntax-keyword)">new</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClientOptions</span>().<span style="color:var(--color-prettylights-syntax-entity)">setSsl</span>(<span style="color:var(--color-prettylights-syntax-constant)">true</span>).<span style="color:var(--color-prettylights-syntax-entity)">setTrustOptions</span>(<span>cert</span>).<span style="color:var(--color-prettylights-syntax-entity)">setHostnameVerificationAlgorithm</span>(<span>algo</span>));
</pre></div><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>因此，Vert.x MQTT 客户端 TLS 配置必须在 MQTT 客户端选项上明确设置算法。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><pre><code>// Before
mqttClientOptions.setSsl(true).setTrustOptions(cert);

// After
mqttClientOptions.setSsl(true).setTrustOptions(cert).setHostnameVerificationAlgorithm(algo);</code></pre><p style="text-align:start"><strong><span><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>Deprecation of HTTP connection shutdown with a timeout</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Feclipse-vertx%2Fvert.x%2Fpull%2F5115" target="_blank">https://github.com/eclipse-vertx/vert.x/pull/5115</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>弃用<code>HttpConnection#timeout(long)</code>，替换为<code>HttpConnection#timeout(long, TimeUnit)</code></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><div style="text-align:start"><pre style="text-align:start"><span style="color:var(--color-prettylights-syntax-comment)">// Before</span><span>connection</span>.<span style="color:var(--color-prettylights-syntax-entity)">shutdown</span>(<span style="color:var(--color-prettylights-syntax-constant)">5</span> * <span style="color:var(--color-prettylights-syntax-constant)">1000</span>); <span style="color:var(--color-prettylights-syntax-comment)">// 5 seconds</span><span style="color:var(--color-prettylights-syntax-comment)">// After</span><span>connection</span>.<span style="color:var(--color-prettylights-syntax-entity)">shutdown</span>(<span style="color:var(--color-prettylights-syntax-constant)">5</span>, <span style="color:var(--color-prettylights-syntax-storage-modifier-import)">TimeUnit</span>.<span style="color:var(--color-prettylights-syntax-constant)">SECONDS</span>);</pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">更多详情可查看 4.5.4&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fvert-x3%2Fwiki%2Fwiki%2F4.5.4-Release-Notes" target="_blank">发行说明</a>。</p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 05:45:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279938/eclipse-vert-x-4-5-4-released</guid>
            <link>https://www.oschina.net/news/279938/eclipse-vert-x-4-5-4-released</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[酷瓜云课堂（内网版）v1.1.1 发布，局域网学习平台方案]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><img alt="酷瓜云课堂-局域网学习平台" src="https://portal-1255691183.file.myqcloud.com/img/content/624528cd8be23.png" referrerpolicy="no-referrer"></p><h3>更新内容</h3><ul><li>增加 ldap 登录</li><li>增加主观题评分功能</li><li>增加用户导出功能</li><li>增加弹幕审核和管理</li><li>去除 league/commonmark 包</li><li>使用 AccountSearchTrait 复用代码</li><li>使用 xlswriter 替换 phpspreadsheet</li><li>修正 exam/question/img 上传问题</li><li>修正 chapter_user 中 plan_id=0 问题</li><li>修正 ArticleUser 账号查询</li><li>修正首页 simple 模式样式问题</li><li>修正关闭考试中的问题</li><li>更新 layui-v2.9.3</li><li>优化错误处理</li></ul><h3>系统介绍</h3><p>酷瓜云课堂内网版，采用 C 扩展框架 Phalcon 开发，使用本地基础服务，无营销相关功能，主要适用于公司、集团、机关、学校等内部网络环境使用。</p><h3>系统功能</h3><p>实现了点播、直播、专栏、问答、积分等。</p><p>友情提示：</p><ul><li>演示系统配置低，带宽有限，切莫压测</li><li>课程数据来源于网络（无实质内容）</li><li>管理后台已禁止数据提交，私密配置已过滤</li></ul><p>系统演示：</p><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flan-edu.koogua.com" target="_blank">前台演示</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flan-edu.koogua.com%2Fadmin" target="_blank">后台演示</a></li></ul><p>演示账号：100015@163.com / 123456 （前后台通用）</p><h3>项目组件</h3><ul><li>后台框架：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fphalcon.io" target="_blank">phalcon 3.4.5</a></li><li>前端框架：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flayui.dev" target="_blank">layui 2.9.3</a></li><li>全文检索：<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fwww.xunsearch.com" target="_blank">xunsearch 1.4.9</a></li><li>基础依赖：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fphp.net" target="_blank">php7.3</a>， <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmysql.com" target="_blank">mysql5.7</a>， <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fredis.io" target="_blank">redis5.0</a></li></ul><h3>项目文档</h3><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.koogua.com%2Fpage%2Fwiki" target="_blank">运行环境搭建</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.koogua.com%2Fpage%2Fwiki" target="_blank">系统服务配置</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.koogua.com%2Fpage%2Fwiki" target="_blank">客户终端配置</a></li></ul><h3>产品试用</h3><p>申请地址：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.koogua.com%2Fpage%2Ftrial" target="_blank">点击申请</a></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 05:25:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279935/course-tencent-cloud-1-1-1-released</guid>
            <link>https://www.oschina.net/news/279935/course-tencent-cloud-1-1-1-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[【店滴云】智慧民宿升级智能控制，与订单关联]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="text-align:center">【店滴云】智慧民宿升级智能控制，与订单关联</p><p><span style="background-color:#ffffff; color:#40485b">&nbsp; &nbsp; &nbsp; &nbsp;店滴云，让经营场所，更智能。围绕茶室、酒店、健身房、公寓、出租房等经营性场所进行物联网改造。同时支持多种物联网通信协议，开放智能门锁，智能开关，智能手环的 sdk 供开发者使用。</span></p><p><span style="background-color:#ffffff; color:#40485b"><img alt="" height="540" src="https://oscimg.oschina.net/oscnet/up-3c176efbaf0e847c40ea2dca1f5cfc525db.png" width="1024" referrerpolicy="no-referrer"></span></p><p>升级内容：</p><p><span style="background-color:#ffffff; color:#40485b">1、增加套餐服务，用户可以选用套餐获取权限</span><br><span style="background-color:#ffffff; color:#40485b">2、增加公司使用有效期</span><br><span style="background-color:#ffffff; color:#40485b">3、修复全局 api 地址扫描，智能入库路由</span><br><span style="background-color:#ffffff; color:#40485b">4、增加多种业务模式的选择，不同业务模式在小程序端显示不同界面</span><br><span style="background-color:#ffffff; color:#40485b">5、将微信类业务移动到 common/modules 下，通过配置的方式满足多终端使用的要求</span><br><span style="background-color:#ffffff; color:#40485b">6、增加服务站群，可以满足 saas 用户以站群的方式运营</span><br><span style="background-color:#ffffff; color:#40485b">7、路由的操作细化，明确目录类路由必须以*号结尾，来满足权限模糊匹配查询</span><br><span style="background-color:#ffffff; color:#40485b">8、增加用户注册建立关系，可以看到自己发展的下级公司</span><br><span style="background-color:#ffffff; color:#40485b">9、增加帮助手册，以主题分类的方式让用户快速使用</span></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 01:46:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/280034</guid>
            <link>https://www.oschina.net/news/280034</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
    </channel>
</rss>
