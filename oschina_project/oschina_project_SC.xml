<?xml version="1.0" encoding="UTF-8"?>
<rss
    xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"


>
    <channel>
        <title>
            <![CDATA[开源中国-软件更新资讯]]>
        </title>
        <link>https://www.oschina.net/news/project</link>
        <atom:link href="https://rsshub.app/oschina/news/project" rel="self" type="application/rss+xml" />
        <description>
            <![CDATA[开源中国-软件更新资讯 - Made with love by RSSHub(https://github.com/DIYgod/RSSHub)]]>
        </description>
        <generator>RSSHub</generator>
        <webMaster>i@diygod.me (DIYgod)</webMaster>
        <language>zh-cn</language>
        <lastBuildDate>Fri, 23 Feb 2024 14:45:15 GMT</lastBuildDate>
        <ttl>120</ttl>
        <item>
            <title>
                <![CDATA[🎉FolkMQ v1.2 发布（添加事务消息）]]>
            </title>
            <description>
                <![CDATA[<div class="content"><div><h3>简介</h3><ul><li>采用 「单线程」 + 「多路复用」 + "内存运行" + "快照持久化" + "Broker 集群模式"（可选）</li><li>基于<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fsocketd.noear.org%2F" target="_blank">Socket.D 网络应用协议</a><span>&nbsp;</span>开发。全新设计，自主架构！</li></ul><table cellspacing="0" style="border-collapse:collapse; border-spacing:0px; box-sizing:border-box; display:block; margin-bottom:16px; margin-top:0px; overflow:auto; width:960px"><tbody><tr><th>角色</th><th>功能</th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">生产端</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">发布消息、定时消息、顺序消息、可过期消息、<span style="background-color:#f1c40f">事务消息</span>。发送请求（<span style="background-color:#f1c40f">rpc</span>）。支持 Qos0、Qos1</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">&nbsp;</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">&nbsp;</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">消费端</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">订阅、取消订阅。响应请求</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">消费者</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">消费-ACK（自动、手动）</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">&nbsp;</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">&nbsp;</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">服务端</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">发布-Confirm、订阅-Confirm、取消订阅-Confirm、派发-Retry、派发-Delayed</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">服务端</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">单线程、内存运行、快照持久化（自动、停机、手动）、Broker 模式集群、集群热扩展</td></tr></tbody></table><h3>特点</h3><ul><li>高吞吐量、低延迟</li></ul><p>FolkMQ 纯内存运行，每秒能处理几十万条消息，最低延迟不到 1 毫秒。</p><ul><li>可扩展性</li></ul><p>FolkMQ Broker 集群支持 folkmq-server 节点热扩展。流量高时随时加，流量低时可减</p><ul><li>持久性、可靠性</li></ul><p>消息被快照持久化（类似于 redis）到本地磁盘，并且支持数据备份防止数据丢失</p><ul><li>高可用</li></ul><p>集群内任何节点坏掉只要还有「一个」同类节点，仍可提供服务</p><ul><li>快（单机版，180K TPS）。</li></ul><p>有点像 Redis 之于 MySql。</p><h3>本次更新</h3><ul><li>添加，协议版本的握手传递</li><li>添加，消息事务支持（即二段式提交），支持反向事务确认</li><li>添加，请求响应模式支持（即 rpc 模式）</li><li>添加，消息用户属性支持</li><li>优化，内存占用与快照大小</li><li>优化，安全停止延时改为 4 秒</li><li>优化，客户端相关参数校验</li><li>优化，客户端的心跳间隔为 6 秒</li><li>优化，停止打印信息</li><li>sokcet.d 升为 2.4.3</li></ul><p>新功能示例（事务消息）：</p><pre><code class="language-java"><em>//准备（1.取名字；2.添加响应实现）</em><span style="color:#986801">MqClient</span><span style="color:#986801">client</span><span>=</span> FolkMQ.createClient(<span style="color:#50a14f">"folkmq://127.0.0.1:18602"</span>)
    .nameAs(<span style="color:#50a14f">"demoapp"</span>) <em>//一般用当前应用名（也当默认消息者组用）</em>
    .connect();

<em>//用于响应服务端发起的反向确认</em>
client.response(m-&gt;{
  <span style="color:#a626a4">if</span> (m.isTransaction()) {
      <em>//极端特殊的情况下，客户端未完成事务确认。由服务端发起补尝确认</em><span style="color:#a626a4">if</span>(<span style="color:#50a14f">"1"</span>.equals(m.getAttr(<span style="color:#50a14f">"orderId"</span>))) {
          <em>//一般这里，需要查询数据库之类的</em>
          m.acknowledge(<span style="color:#0184bb">true</span>);
      }
  }
});
    
<em>//发送事务消息    </em><span style="color:#986801">MqTransaction</span><span style="color:#986801">tran</span><span>=</span> client.newTransaction();

<span style="color:#a626a4">try</span> {
    client.publish(<span style="color:#50a14f">"demo"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"demo1"</span>).attr(<span style="color:#50a14f">"orderId"</span>,<span style="color:#50a14f">"1"</span>).transaction(tran));
    client.publish(<span style="color:#50a14f">"demo"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"demo2"</span>).attr(<span style="color:#50a14f">"orderId"</span>,<span style="color:#50a14f">"1"</span>).transaction(tran));
    client.publish(<span style="color:#50a14f">"demo"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"demo3"</span>).attr(<span style="color:#50a14f">"orderId"</span>,<span style="color:#50a14f">"1"</span>).transaction(tran));
    client.publish(<span style="color:#50a14f">"demo"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"demo4"</span>).attr(<span style="color:#50a14f">"orderId"</span>,<span style="color:#50a14f">"1"</span>).transaction(tran));

    tran.commit();
} <span style="color:#a626a4">catch</span> (Throwable e) {
    tran.rollback();
}
</code></pre><p>新功能示例（请求响应模式）：</p><pre><code class="language-java"><em>//客户端 2</em><span style="color:#986801">MqClient</span><span style="color:#986801">client1</span><span>=</span> FolkMQ.createClient(<span style="color:#50a14f">"folkmq://127.0.0.1:18602"</span>)
    .nameAs(<span style="color:#50a14f">"demo-app1"</span>) 
    .connect();

<em>//要支持 rpc 响应，要添加响应实现（MqResponseRouter 带了主体路由功能）</em>
client1.response(<span style="color:#a626a4">new</span><span style="color:#c18401">MqResponseRouter</span>().doOn(<span style="color:#50a14f">"test.hello"</span>, m -&gt; {
    m.acknowledge(<span style="color:#0184bb">true</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">StringEntity</span>(m.getSender() +  <span style="color:#50a14f">": me to! rev: "</span> + m.getContent()));
}));

<em>//客户端 2</em><span style="color:#986801">MqClient</span><span style="color:#986801">client2</span><span>=</span> FolkMQ.createClient(<span style="color:#50a14f">"folkmq://127.0.0.1:18602"</span>)
    .nameAs(<span style="color:#50a14f">"demo-app2"</span>)
    .connect();

<em>//发起请求并等响应，同步模式</em><span style="color:#986801">Reply</span><span style="color:#986801">reply</span><span>=</span> client2.request(<span style="color:#50a14f">"demo-app1"</span>, <span style="color:#50a14f">"test.hello"</span>, <span style="color:#a626a4">new</span><span style="color:#c18401">MqMessage</span>(<span style="color:#50a14f">"hello"</span>)).await();
print(reply.dataAsString());
</code></pre><h3>代码仓库</h3><ul><li><a href="https://gitee.com/noear/folkmq">https://gitee.com/noear/folkmq</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fnoear%2Ffolkmq" target="_blank">https://github.com/noear/folkmq</a></li></ul><h3>官网</h3><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffolkmq.noear.org%2F" target="_blank">https://folkmq.noear.org</a></li></ul></div></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 09:38:50 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279996/folkmq-1-2-released</guid>
            <link>https://www.oschina.net/news/279996/folkmq-1-2-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[金合技术开发平台 V1.1.3 发布，版本升级]]>
            </title>
            <description>
                <![CDATA[<div class="content"><div><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#40485b">金合技术开发平台是陕西金合信息科技股份有限公司在内部孵化的技术开发平台，致力于减少项目交付在基础环境上消耗的工时，换而言之金合的技术开发平台是为项目交付而生，让项目不需要在底层的功能或环境上再消耗时间。</span><br><span style="background-color:#ffffff; color:#40485b">目前金合技术中台已经支持交付了内外部 40 + 项目，当前版本为首个开源版本，我们迫切的想听到您的改进意见和功能建议，希望更多的开发者可以参与改进平台，助力更多开发者和企业。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#40485b">预览图：更多信息请访问项目主页</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img alt="ASSETS-WORKBENCH" src="https://static.oschina.net/uploads/img/202402/01134219_aAHg.png" referrerpolicy="no-referrer"></p><p>&nbsp;</p><pre>future:
<span style="color:#cf8e6d">- </span>Spring Boot<span>版本升级至</span>3.2.2<span>，为使用</span>JdbcCline<span>等新特性做准备。
</span><span style="color:#cf8e6d">- </span>Knife4J<span>版本升级至</span>4.3.0<span>。
</span><span style="color:#cf8e6d">- </span>MybatisPlus<span>版本升级至</span>3.5.5<span>。
</span><span style="color:#cf8e6d">- </span><span>由于功能未完善，暂时关闭审批高级配置。
</span><span style="color:#cf8e6d">- </span><span>由于功能未完善，暂时移除审批详情中的打印功能。
</span><span style="color:#cf8e6d">- </span><span>应用开发最小可用功能上线，支持简单数据填报、简单</span>CRUD<span>业务页面的无代码搭建。
- 新版文档补全更新。
</span>
bugfix:
<span style="color:#cf8e6d">- </span><span>修复编辑审批表单时页面提示</span>」<span>提交失败</span>「<span>的缺陷。
</span><span style="color:#cf8e6d">- </span><span>修复消息已读后未正常显示的缺陷。
</span><span style="color:#cf8e6d">- </span><span>修复代码打包时强制执行</span>gpg<span>插件的缺陷，现在</span>gpg<span>插件仅在发布阶段执行。
</span><span style="color:#cf8e6d">- </span><span>修复代码打包时强制执行</span>javadoc<span>生成插件的缺陷，现在</span>javadoc<span>生成插件仅在发布阶段执行。</span></pre></div><ul><li><strong>企业级产品 / UI 设计，满足各类业务场景需求。</strong></li><li><strong>经历我司内部项目生产环境的反复锤炼，确保高效稳定运行。</strong></li><li><strong>双技术架构，单体 / 微服务无缝切换。</strong></li><li><strong>双业务架构，小型管理系统可使用后台管理模式，大型业务系统可使用 Saas 平台模式。</strong></li><li><strong>全面的通用能力支撑，系统管理、文件服务、日志审计、任务调度等应有尽有。</strong></li><li><strong>完整实现 「中国式审批」 的各类需求，开箱即用。</strong></li><li><strong>高灵活度的消息中心，随心配置模板、多渠道（站内 / 微信 / 短信 / 钉钉）触达。</strong></li><li><strong>深度集成第三方组件 / 平台，包括积木报表、OnlyOffice、KKFile。</strong></li><li><strong>支持多种登录方式，包括短信验证码登录、微信扫码登录、微信小程序登录等。</strong></li><li><strong>支持多种数据库，包括 MySQL、Postgresql、Oracle。</strong></li><li><strong>支持多种对象存储服务，包括 Minio、腾讯 COS、阿里 OSS 等。</strong></li><li><strong>......</strong></li></ul><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">技术路线</p><ul><li><span>&nbsp;</span>JDK 17</li><li><span>&nbsp;</span>Maven 4.0.0</li><li><span>&nbsp;</span>Spring Boot 3.1.7</li><li><span>&nbsp;</span>Spring Cloud 2022.0.4</li><li><span>&nbsp;</span>Spring Cloud Alibaba 2022.0.0.0</li><li><span>&nbsp;</span>Mybatis-Plus 3.5.5</li><li><span>&nbsp;</span>Redis 7.2</li><li><span>&nbsp;</span>MySQL 8.0+/Postgresql 16+/Oracle 11g+12c</li><li><span>&nbsp;</span>Minio/Tencent COS/Ali OSS</li><li><span>&nbsp;</span>RabbitMQ/RocketMQ</li><li><span>&nbsp;</span>Prometheus+Grafana</li></ul></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 08:08:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279974/iking-platform-1-1-3-released</guid>
            <link>https://www.oschina.net/news/279974/iking-platform-1-1-3-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Rust 通用代码生成器莲花发布红莲尝鲜版二十一发布介绍视频，前端代码生成物大翻新]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#4d4d4d; margin-left:0; margin-right:0; text-align:start"><strong>&nbsp;Rust 通用代码生成器莲花发布红莲尝鲜版二十一发布介绍视频，前端代码生成物大翻新</strong></p><p style="color:#4d4d4d; margin-left:0; margin-right:0; text-align:start">Rust 通用代码生成器发布了红莲尝鲜版二十一的最新介绍视频，前端代码生成物大翻新。视频请见：</p><p style="color:#4d4d4d; margin-left:0; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1UH4y1j7td%2F" target="_blank">https://www.bilibili.com/video/BV1UH4y1j7td/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器莲花已发布红莲尝鲜版二十一，此版本采用了新的前端代码生成引擎：时空之门前端代码生成器 6.2.0。此引擎支持 Nodejs 21,Nodejs 18 和 Nodejs 14。消除了 95% 的前端 EsLint 编译警告，并可以忽略全部编译警告。消除了所有前端代码生成物的缩进和其他常见的编程格式问题，达到了美观规范的工业级代码标准。此版本修复了动词否定功能群和复杂版面和图形报表联合使用时的一些缺陷。此版本支持 MariaDB，MySQL，PostgreSQL 和 Oracle 四种数据库。此版本支持枚举和 datadummy 模式。请部署在 Tomcat9 的 webapps 目录下。欢迎使用。</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器莲花发布红莲尝鲜版二十视频请见：<br><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1GW4y1c7vA%2F" target="_blank">https://www.bilibili.com/video/BV1GW4y1c7vA/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">红莲尝鲜版十九视频请见：<br><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1bC4y1C7bT%2F" target="_blank">https://www.bilibili.com/video/BV1bC4y1C7bT/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器莲花发布深度修复版红莲尝鲜版十八介绍视频，动词否定功能群介绍。视频请见：<br><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1sa4y1d7cz%2F" target="_blank">https://www.bilibili.com/video/BV1sa4y1d7cz/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器莲花发布深度修复版红莲尝鲜版十八介绍视频，初学者指南，详细介绍代码生成器环境搭建，编译，运行和使用代码生成物，欢迎使用。视频请见：<br><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1364y157Zg%2F" target="_blank">https://www.bilibili.com/video/BV1364y157Zg/</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">代码生成器的项目地址：<a href="https://gitee.com/jerryshensjf/Lotus">https://gitee.com/jerryshensjf/Lotus</a><br> 二进制 war 包的下载地址:<span>&nbsp;</span><a href="https://gitee.com/jerryshensjf/Lotus/attach_files">https://gitee.com/jerryshensjf/Lotus/attach_files</a></p><h1>Rust 通用代码生成器：莲花</h1><h3>项目介绍</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器：莲花，是 Java 写成的 Rust 通用代码生成器，目前的版本采用 openjdk 17 编译。软件为一 war 包，可以部署在 Tomcat 9 的 webapps 目录下，启动即可运行。</p><h4>项目图片</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/RedLotus.jpg" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/pl_3.jpeg" referrerpolicy="no-referrer"></p><h3>软件架构</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">后端代码生成物是 rust 1.69 环境。采用 Axum 0.6.20, tokio 1.32.0 , sqlx 0.7.1 数据库访问层和 MariaDB, MySQL 8，PostgreSQL 数据库。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">前端代码生成物可运行在 Nodejs 21,18 或 14 上。是 Vue ElementUI 架构。</p><h3>重点组件和功能</h3><ul><li>动词算子</li><li>域对象</li><li>棱柱</li><li>项目</li><li>时空之门前端代码生成器引擎</li><li>弹性登录模块</li><li>Grid 页生成模块</li><li>多对多生成模块</li><li>数据库脚本生成模块</li><li>动态椰子树功能群</li><li>动词否定功能群</li><li>字段否定功能群</li><li>高级定制功能群</li><li>部分生成功能群</li><li>自动生成差异版本功能群</li><li>上传生成界面</li><li>模板向导生成界面</li><li>自动生成差异版本生成界面</li><li>Excel 数据导出功能</li><li>PDF 数据导出功能</li><li>数据库后端模式</li><li>数据库工具模式</li><li>哑数据模式</li></ul><h3>安装教程</h3><ul><li>先装好 open jdk 17 和 Apache Tomcat 9，如果您从源码编译代码生成器还需要事先装好 Apache Maven</li><li>下载编译好的 Rust 通用代码生成器莲花的 war 包，或者下载源码，解压后使用 mvn install 命令编译，得到代码生成器的 war 包</li><li>把代码生成器的 war 包的名字改短，成为 Lotus.war，并放置在 Apache Tomcat 9 的 webapps 目录下</li><li>启动 Apache Tomcat 9</li><li>访问<a href="https://gitee.com/link?target=http%3A%2F%2Flocalhost%3A8080%2FLotus%2F">http://localhost:8080/Lotus/</a></li><li>即可使用代码生成器</li></ul><h3>后端代码生成物运行</h3><ul><li>使用代码生成器生成一个示例或自己的 SGS2 模板，得到两个代码生成物，一个前端，一个后端</li><li>将后端项目下载并解压</li><li>根据您的数据库选项，配置好您后端的数据库，并使用后端代码生成物的 sql 文件夹下的数据库脚本完成建库建表并加载初始化数据</li><li>您需要检查后端代码生成物内的配置文件，确认数据库和用户名密码的正确性</li><li>您需要安装配置好 rust 1.69 或其他兼容版本的 rust 环境</li><li>在后端代码生成物的根目录下运行 cargo run 命令启动 rust 后端项目</li><li>启动完毕后访问后端代码生成物，<a href="https://gitee.com/link?target=http%3A%2F%2Flocalhost%3A8082">http://localhost:8082</a></li></ul><h3>前端代码生成物运行</h3><ul><li>使用代码生成器生成一个示例或自己的 SGS2 模板，得到两个代码生成物，一个前端，一个后端</li><li>将前端代码生成物解压</li><li>确认您已经安装好和您选择的 Nodejs 版本相容的前端 Nodejs 环境</li><li>使用 npm install -registry=<a href="https://gitee.com/link?target=https%3A%2F%2Fregistry.npm.taobao.org">https://registry.npm.taobao.org</a><span>&nbsp;</span>安装 Nodejs 依赖包</li><li>如果您使用的是 Nodejs 21 和 Nodejs18，请运行命令：export NODE_OPTIONS=--openssl-legacy-provider</li><li>运行命令：node --max-http-header-size=1000000 ./node_modules/.bin/webpack-dev-server --inline --progress --config build/webpack.dev.conf.js</li><li>如此访问前端代码生成物，<a href="https://gitee.com/link?target=http%3A%2F%2Flocalhost%3A8000%2F">http://localhost:8000/</a></li></ul><h3>运行截图</h3><h4>软件截屏</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_excelg.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_wizard.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_compare2.png" referrerpolicy="no-referrer"></p><h4>后端代码生成物截屏</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">日期时间对话框</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/datetime.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">单表操作</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_grid.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">多对多</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/rust_mtm.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">复杂版面，树表</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_treegrid.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">图形报表</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_echarts.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">图片功能</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/lotus_pic.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Excel 数据导出</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_excel_export.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">PDF 数据导出</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_pdf_export.png" referrerpolicy="no-referrer"></p><h4>前端代码生成物截屏</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Vue 前端日期对话框</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/front_date.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Vue 独立前端，登录界面</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_frontend_login.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Vue 独立前端，内页</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="输入图片说明" src="https://gitee.com/jerryshensjf/Lotus/raw/master/Lotus_frontend_inner.png" referrerpolicy="no-referrer"></p><h3>百度话题</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">＃通用代码生成器＃</p><h3>尝鲜版二十一的二进制发布包下载</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/jerryshensjf/Lotus/attach_files">https://gitee.com/jerryshensjf/Lotus/attach_files</a></p><h3>Nodejs 前端代码生成物运行指南</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">莲花尝鲜版二十一消除了 95% 的 EsLint 编译警告。并且，您可以忽略全部编译警告。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">莲花尝鲜版二十支持 Nodejs 21, 18 和 14 三种 Nodejs 环境。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">首先，使用 Rust 通用代码生成器莲花的红莲尝鲜版二十生成前端代码生成物，生成时需选择 Nodejs 相应版本。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">将代码生成物的前端和后端代码生成物的压缩包拷入工作目录并完成解压缩，部署并启动后端项目。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">进入前端代码生成物的根目录，需选择正确的 Nodejs 版本。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">运行命令：npm install -registry=<a href="https://gitee.com/link?target=https%3A%2F%2Fregistry.npm.taobao.org">https://registry.npm.taobao.org</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">此命令使用淘宝镜像安装 Nodejs 依赖包。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">如果您使用的是 Nodejs 21 和 Nodejs18，请运行命令：export NODE_OPTIONS=--openssl-legacy-provider</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">此命令暴露了一个必须的内存变量。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">运行命令：node --max-http-header-size=1000000 ./node_modules/.bin/webpack-dev-server --inline --progress --config build/webpack.dev.conf.js</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">此命令启动了前端项目。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">访问：<a href="https://gitee.com/link?target=http%3A%2F%2Flocalhost%3A8000%2F">http://localhost:8000/</a></p><h3>源码编译用户指南</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">通用代码生成器已经支持自己编译源码，我已把原来缺的前端代码生成器的 jar 包上传。支持大家自行编译源码。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">需要注意的是，现在我的开发平台是 Fedora 37 上的 openjdk 17。所以大家编译源码最好使用 openjdk17。编译好的 war 包运行在 apache tomcat 9.0 上。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">已有 jdk8 的用户报告默认下载的代码生成器 war 包在他的平台上无法运行。您如果遇到类似问题请报告。我的电子邮件是：<a href="https://www.oschina.net/action/GoToLink?url=mailto%3Ajerry_shen_sjf%40qq.com" target="_blank">jerry_shen_sjf@qq.com</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">附 openjdk 17 下载地址：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fjdk.java.net%2Fjava-se-ri%2F17">https://jdk.java.net/java-se-ri/17</a></p><h3>近期视频</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">&nbsp;Rust 通用代码生成器莲花发布红莲尝鲜版二十一发布介绍视频，前端代码生成物大翻新，视频请见：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1UH4y1j7td%2F">https://www.bilibili.com/video/BV1UH4y1j7td/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器莲花发布红莲尝鲜版二十介绍视频，视频请见：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1GW4y1c7vA%2F">https://www.bilibili.com/video/BV1GW4y1c7vA/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器莲花发布深度修复版红莲尝鲜版十九介绍视频，介绍了 PostgreSQL 代码生成。视频请见：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1bC4y1C7bT%2F">https://www.bilibili.com/video/BV1bC4y1C7bT/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Rust 通用代码生成器莲花发布深度修复版红莲尝鲜版十八介绍视频，初学者指南，详细介绍代码生成器环境搭建，编译，运行和使用代码生成物，欢迎使用。视频请见：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1364y157Zg%2F">https://www.bilibili.com/video/BV1364y157Zg/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">尝鲜版十八的视频请见：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1sa4y1d7cz%2F">https://www.bilibili.com/video/BV1sa4y1d7cz/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">尝鲜版十七的视频请见：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1pG411i7Qa%2F">https://www.bilibili.com/video/BV1pG411i7Qa/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1iC4y1j7rd%2F">https://www.bilibili.com/video/BV1iC4y1j7rd/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1rQ4y1t7qJ%2F">https://www.bilibili.com/video/BV1rQ4y1t7qJ/</a></p><h3>版本历史和视频</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/jerryshensjf/Lotus/blob/master/History.md">版本历史和视频</a></p><h3>源码研读者注意事项</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">无垠式代码生成器第一个完整版本源码，有兴趣可以抄写一下：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/jerryshensjf/InfinityGPGenerator_0_6_5">https://gitee.com/jerryshensjf/InfinityGPGenerator_0_6_5</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">相关技术视频：</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1fX4y1u7Bn%2F">https://www.bilibili.com/video/BV1fX4y1u7Bn/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1rv41187qY%2F">https://www.bilibili.com/video/BV1rv41187qY/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1xv41187cA%2F">https://www.bilibili.com/video/BV1xv41187cA/</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1t64y1v7WA%2F">https://www.bilibili.com/video/BV1t64y1v7WA/</a></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 07:46:26 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279968</guid>
            <link>https://www.oschina.net/news/279968</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[🎉 通用、灵活、高性能分布式 ID 生成器 | CosId 2.6.6 发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosId Logo" height="206" src="https://oscimg.oschina.net/oscnet/up-63e6250bd72c3e4d2dde12bc154ad9f06d2.png" width="300" referrerpolicy="no-referrer"></p><h1>CosId<span>&nbsp;</span>通用、灵活、高性能分布式 ID 生成器</h1><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fwww.apache.org%2Flicenses%2FLICENSE-2.0.html"><img alt="License" src="https://img.shields.io/badge/license-Apache%202-4EB1BA.svg" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId%2Freleases"><img alt="GitHub release" src="https://img.shields.io/github/release/Ahoo-Wang/CosId.svg" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fapp.codacy.com%2Fgh%2FAhoo-Wang%2FCosId%3Futm_source%3Dgithub.com%26utm_medium%3Dreferral%26utm_content%3DAhoo-Wang%2FCosId%26utm_campaign%3DBadge_Grade_Settings"><img alt="Codacy Badge" src="https://api.codacy.com/project/badge/Grade/dfd1d6237a1644409548ebfbca300dc1" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><a href="https://gitee.com/link?target=https%3A%2F%2Fcodecov.io%2Fgh%2FAhoo-Wang%2FCosId"><img alt="codecov" src="https://codecov.io/gh/Ahoo-Wang/CosId/branch/main/graph/badge.svg?token=L0N51NB7ET" referrerpolicy="no-referrer"></a><span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span></span><img alt="Integration Test Status" src="https://github.com/Ahoo-Wang/CosId/actions/workflows/integration-test.yml/badge.svg" referrerpolicy="no-referrer"></p><blockquote><p style="margin-left:0; margin-right:0"><em>官方文档</em><span>&nbsp;&nbsp;</span><img alt="🎉" height="14" src="https://cn-assets.gitee.com/assets/emoji/tada-be741eadd68f6c33355db4b50a6c141b.png" width="14" referrerpolicy="no-referrer"><span>&nbsp;</span><img alt="👉" height="14" src="https://cn-assets.gitee.com/assets/emoji/point_right-8d392cf32998e3bca12bb7b4ee10dae0.png" width="14" referrerpolicy="no-referrer"><span>&nbsp;</span><a href="https://ahoowang.gitee.io/cosid/" target="_blank">https://ahoowang.gitee.io/cosid/</a><span>&nbsp;</span><img alt="👈" height="14" src="https://cn-assets.gitee.com/assets/emoji/point_left-4570b6929b8880ab2e8b8031007fef18.png" width="14" referrerpolicy="no-referrer"></p></blockquote><h2>更新内容</h2><ul><li>依赖: 升级<span>&nbsp;</span><code>org.springframework.boot:spring-boot-dependencies</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v3.2.3</code></li><li>依赖: 升级<span>&nbsp;</span><code>com.github.spotbugs</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v6.0.7</code></li><li>依赖: 升级<span>&nbsp;</span><code>org.axonframework:axon-bom</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v4.9.3</code></li><li>依赖: 升级<span>&nbsp;</span><code>org.testcontainers:testcontainers-bom</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v1.19.6</code></li><li>依赖: 升级<span>&nbsp;</span><code>flowable</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v7</code></li><li>依赖: 升级<span>&nbsp;</span><code>gradle</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v8.6</code></li><li>依赖: 升级<span>&nbsp;</span><code>junit5</code><span>&nbsp;</span>版本<span>&nbsp;</span><code>v5.10.2</code></li></ul><h2>简介</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId">CosId</a></em><span>&nbsp;</span>旨在提供通用、灵活、高性能的分布式 ID 生成器。</p><ul><li><code>CosIdGenerator</code><span>&nbsp;</span>:<span>&nbsp;</span><em>单机 TPS 性能：1557W/s</em>，三倍于<span>&nbsp;</span><code>UUID.randomUUID()</code>，基于时钟的全局趋势递增 ID。</li><li><code>SnowflakeId</code><span>&nbsp;</span>:<span>&nbsp;</span><em>单机 TPS 性能：409W/s</em><span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fcosid.ahoo.me%2Fguide%2Fperf-test.html">JMH 基准测试</a><span>&nbsp;</span>, 主要解决<span>&nbsp;</span><em>时钟回拨问题</em><span>&nbsp;</span>、<em>机器号分配问题</em>、<em>取模分片不均匀问题</em><span>&nbsp;</span>并且提供更加友好、灵活的使用体验。</li><li><code>SegmentId</code>: 每次获取一段 (<code>Step</code>) ID，来降低号段分发器的网络 IO 请求频次提升性能。 
  <ul><li><code>IdSegmentDistributor</code>: 号段分发器（号段存储器） 
    <ul><li><code>RedisIdSegmentDistributor</code>: 基于<span>&nbsp;</span><em>Redis</em><span>&nbsp;</span>的号段分发器。</li><li><code>JdbcIdSegmentDistributor</code>: 基于<span>&nbsp;</span><em>Jdbc</em><span>&nbsp;</span>的号段分发器，支持各种关系型数据库。</li><li><code>ZookeeperIdSegmentDistributor</code>: 基于<span>&nbsp;</span><em>Zookeeper</em><span>&nbsp;</span>的号段分发器。</li><li><code>MongoIdSegmentDistributor</code>: 基于<span>&nbsp;</span><em>MongoDB</em><span>&nbsp;</span>的号段分发器。</li></ul></li></ul></li><li><code>SegmentChainId</code>(<strong>推荐</strong>):<code>SegmentChainId</code><span>&nbsp;</span>(<em>lock-free</em>) 是对<span>&nbsp;</span><code>SegmentId</code><span>&nbsp;</span>的增强。性能可达到近似<span>&nbsp;</span><code>AtomicLong</code><span>&nbsp;</span>的<span>&nbsp;</span><em>TPS 性能：12743W+/s</em><span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fcosid.ahoo.me%2Fguide%2Fperf-test.html">JMH 基准测试</a><span>&nbsp;</span>。 
  <ul><li><code>PrefetchWorker</code><span>&nbsp;</span>维护安全距离 (<code>safeDistance</code>), 并且支持基于饥饿状态的动态<span>&nbsp;</span><code>safeDistance</code><span>&nbsp;</span>扩容 / 收缩。</li></ul></li></ul><h2><a href="https://ahoowang.gitee.io/cosid/guide/getting-started.html">快速开始</a></h2><h2>背景（为什么需要<em>分布式 ID</em>）</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">在软件系统演进过程中，随着业务规模的增长 (TPS / 存储容量)，我们需要通过集群化部署来分摊计算、存储压力。 应用服务的无状态设计使其具备了伸缩性。在使用<span>&nbsp;</span><strong>Kubernetes</strong><span>&nbsp;</span>部署时我们只需要一行命令即可完成服务伸缩 (<code>kubectl scale --replicas=5 deployment/order-service</code>)。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">但对于有状态的数据库就不那么容易了，此时数据库变成系统的性能瓶颈是显而易见的。</p><h3>分库分表</h3><blockquote><p style="margin-left:0; margin-right:0">从微服务的角度来理解垂直拆分其实就是微服务拆分。以限界上下文来定义服务边界将大服务 / 单体应用拆分成多个自治的粒度更小的服务，因为自治性规范要求，数据库也需要进行业务拆分。 但垂直拆分后的单个微服务依然会面临 TPS / 存储容量，的挑战，所以这里我们重点讨论水平拆分的方式。</p></blockquote><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="分库分表" src="https://oscimg.oschina.net/oscnet/up-bf3f59559837c87fe828f12113f2ec6269c.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">数据库分库分表方案是逻辑统一，物理分区自治的方案。其核心设计在于中间层映射方案的设计 (上图<span>&nbsp;</span><strong>Mapping</strong>)，即分片算法的设计。 几乎所有编程语言都内置实现了散列表 (java:<code>HashMap</code>/csharp:<code>Dictionary</code>/python:<code>dict</code>/go:<code>map</code><span>&nbsp;</span>...)。分片算法跟散列表高度相似 (<code>hashCode</code>)，都得通过<span>&nbsp;</span><code>key</code>/<code>shardingValue</code><span>&nbsp;</span>映射到对应的槽位 (<code>slot</code>)。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">那么<span>&nbsp;</span><code>shardingValue</code><span>&nbsp;</span>从哪里来呢？<strong>CosId</strong>！！</p><blockquote><p style="margin-left:0; margin-right:0">当然还有很多分布式场景需要<em>分布式 ID</em>，这里不再一一列举。</p></blockquote><h2>分布式 ID 方案的核心指标</h2><ul><li><strong>全局（相同业务）唯一性</strong>：唯一性保证是<span>&nbsp;</span><strong>ID</strong><span>&nbsp;</span>的必要条件，假设 ID 不唯一就会产生主键冲突，这点很容易可以理解。 
  <ul><li>通常所说的全局唯一性并不是指所有业务服务都要唯一，而是相同业务服务不同部署副本唯一。 比如 Order 服务的多个部署副本在生成<span>&nbsp;</span><code>t_order</code><span>&nbsp;</span>这张表的<span>&nbsp;</span><code>Id</code><span>&nbsp;</span>时是要求全局唯一的。至于<span>&nbsp;</span><code>t_order_item</code><span>&nbsp;</span>生成的<span>&nbsp;</span><code>ID</code><span>&nbsp;</span>与<span>&nbsp;</span><code>t_order</code><span>&nbsp;</span>是否唯一，并不影响唯一性约束，也不会产生什么副作用。 不同业务模块间也是同理。即唯一性主要解决的是 ID 冲突问题。</li></ul></li><li><strong>有序性</strong>：有序性保证是面向查询的数据结构算法（除了 Hash 算法）所必须的，是<strong>二分查找法</strong><span>&nbsp;</span>(分而治之) 的前提。 
  <ul><li>MySq-InnoDB B + 树是使用最为广泛的，假设 Id 是无序的，B+ 树，为了维护 ID 的有序性，就会频繁的在索引的中间位置插入而挪动后面节点的位置，甚至导致频繁的页分裂，这对于性能的影响是极大的。那么如果我们能够保证 ID 的有序性这种情况就完全不同了，只需要进行追加写操作。所以 ID 的有序性是非常重要的，也是 ID 设计不可避免的特性。</li></ul></li><li><strong>吞吐量 / 性能 (ops/time)</strong>：即单位时间（每秒）能产生的 ID 数量。生成 ID 是非常高频的操作，也是最为基本的。假设 ID 生成的性能缓慢，那么不管怎么进行系统优化也无法获得更好的性能。 
  <ul><li>一般我们会首先生成 ID，然后再执行写入操作，假设 ID 生成缓慢，那么整体性能上限就会受到限制，这一点应该不难理解。</li></ul></li><li><strong>稳定性 (time/op)</strong>：稳定性指标一般可以采用<strong>每个操作的时间进行百分位采样</strong>来分析，比如<span>&nbsp;</span><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId">CosId</a></em><span>&nbsp;</span>百分位采样<span>&nbsp;</span><strong>P9999=0.208 us/op</strong>，即<span>&nbsp;</span><strong>0% ~ 99.99%</strong><span>&nbsp;</span>的单位操作时间小于等于<span>&nbsp;</span><strong>0.208 us/op</strong>。 
  <ul><li><a href="https://gitee.com/link?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E7%2599%25BE%25E5%2588%2586%25E4%25BD%258D%25E6%2595%25B0">百分位数 WIKI</a><span>&nbsp;</span>：统计学术语，若将一组数据从小到大排序，并计算相应的累计百分点，则某百分点所对应数据的值，就称为这百分点的百分位数，以 Pk 表示第 k 百分位数。百分位数是用来比较个体在群体中的相对地位量数。</li><li>为什么不用平均<em>每个操作的时间</em>：马老师的身价跟你的身价能平均么？平均后的值有意义不？</li><li>可以使用最小<em>每个操作的时间</em>、最大<em>每个操作的时间</em>作为参考吗？因为最小、最大值只说明了零界点的情况，虽说可以作为稳定性的参考，但依然不够全面。而且<em>百分位数</em>已经覆盖了这俩个指标。</li></ul></li><li><strong>自治性（依赖）</strong>：主要是指对外部环境有无依赖，比如<strong>号段模式</strong>会强依赖第三方存储中间件来获取<span>&nbsp;</span><code>NexMaxId</code>。自治性还会对可用性造成影响。</li><li><strong>可用性</strong>：分布式 ID 的可用性主要会受到自治性影响，比如<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>会受到时钟回拨影响，导致处于短暂时间的不可用状态。而<strong>号段模式</strong>会受到第三方发号器（<code>NexMaxId</code>）的可用性影响。 
  <ul><li><a href="https://gitee.com/link?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E5%258F%25AF%25E7%2594%25A8%25E6%2580%25A7">可用性 WIKI</a><span>&nbsp;</span>：在一个给定的时间间隔内，对于一个功能个体来讲，总的可用时间所占的比例。</li><li>MTBF：平均故障间隔</li><li>MDT：平均修复 / 恢复时间</li><li>Availability=MTBF/(MTBF+MDT)</li><li>假设 MTBF 为 1 年，MDT 为 1 小时，即<span>&nbsp;</span><code>Availability=(365*24)/(365*24+1)=0.999885857778792≈99.99%</code>，也就是我们通常所说对可用性 4 个 9。</li></ul></li><li><strong>适应性</strong>：是指在面对外部环境变化的自适应能力，这里我们主要说的是面对流量突发时动态伸缩分布式 ID 的性能， 
  <ul><li><strong>SegmentChainId</strong><span>&nbsp;</span>可以基于<strong>饥饿状态</strong>进行<strong>安全距离</strong>的动态伸缩。</li><li><strong>SnowflakeId</strong><span>&nbsp;</span>常规位分配方案性能恒定 409.6W，虽然可以通过调整位分配方案来获得不同的 TPS 性能，但是位分配方法的变更是破坏性的，一般根据业务场景确定位分配方案后不再变更。</li></ul></li><li><strong>存储空间</strong>：还是用 MySq-InnoDB B + 树来举例，普通索引（二级索引）会存储主键值，主键越大占用的内存缓存、磁盘空间也会越大。Page 页存储的数据越少，磁盘 IO 访问的次数会增加。总之在满足业务需求的情况下，尽可能小的存储空间占用在绝大多数场景下都是好的设计原则。</li></ul><h3>不同分布式 ID 方案核心指标对比</h3><table cellspacing="0" style="--darkreader-inline-bgcolor:#181a1b; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-top:currentcolor; --darkreader-inline-color:#b7b1a7; -webkit-text-stroke-width:0px; background-color:#ffffff; border-collapse:collapse; border-spacing:0px; border:medium none; box-sizing:border-box; color:#40485b; display:block; font-family:-apple-system,&quot;system-ui&quot;,&quot;Segoe UI&quot;,Helvetica,Arial,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Liberation Sans&quot;,&quot;PingFang SC&quot;,&quot;Microsoft YaHei&quot;,&quot;Hiragino Sans GB&quot;,&quot;Wenquanyi Micro Hei&quot;,&quot;WenQuanYi Zen Hei&quot;,&quot;ST Heiti&quot;,SimHei,SimSun,&quot;WenQuanYi Zen Hei Sharp&quot;,sans-serif; font-size:16px; font-style:normal; font-variant-caps:normal; font-variant-ligatures:normal; font-weight:400; letter-spacing:normal; line-height:inherit; margin:0px 0px 16px; max-width:100%; orphans:2; overflow:auto; text-align:left; text-decoration-color:initial; text-decoration-style:initial; text-decoration-thickness:initial; text-transform:none; white-space:normal; widows:2; word-break:initial; word-spacing:0px"><tbody><tr><th>分布式 ID</th><th>全局唯一性</th><th>有序性</th><th>吞吐量</th><th>稳定性（1s=1000,000us）</th><th>自治性</th><th>可用性</th><th>适应性</th><th>存储空间</th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">UUID/GUID</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">完全无序</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">3078638(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=0.325(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">完全自治</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">100%</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">否</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">128-bit</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">SnowflakeId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">本地单调递增，全局趋势递增 (受全局时钟影响)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">4096000(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=0.244(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">依赖时钟</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">时钟回拨会导致短暂不可用</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">否</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">64-bit</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">SegmentId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">本地单调递增，全局趋势递增 (受 Step 影响)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">29506073(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=46.624(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">依赖第三方号段分发器</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">受号段分发器可用性影响</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">否</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">64-bit</td></tr><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">SegmentChainId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">本地单调递增，全局趋势递增 (受 Step、安全距离影响)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">127439148(ops/s)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">P9999=0.208(us/op)</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">依赖第三方号段分发器</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">受号段分发器可用性影响，但因安全距离存在，预留 ID 段，所以高于 SegmentId</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">是</td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px">64-bit</td></tr></tbody></table><h3>有序性 (要想分而治之・二分查找法，必须要维护我)</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">刚刚我们已经讨论了 ID 有序性的重要性，所以我们设计 ID 算法时应该尽可能地让 ID 是单调递增的，比如像表的自增主键那样。但是很遗憾，因全局时钟、性能等分布式系统问题，我们通常只能选择局部单调递增、全局趋势递增的组合（就像我们在分布式系统中不得不的选择最终一致性那样）以获得多方面的权衡。下面我们来看一下什么是单调递增与趋势递增。</p><h4>有序性之单调递增</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="单调递增" src="https://oscimg.oschina.net/oscnet/up-8ba6ce51f3f87c5ad8768ebf6ef32e854d9.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">单调递增：T 表示全局绝对时点，假设有 Tn+1&gt;Tn（绝对时间总是往前进的，这里不考虑相对论、时间机器等），那么必然有 F (Tn+1)&gt;F (Tn)，数据库自增主键就属于这一类。 另外需要特别说明的是单调递增跟连续性递增是不同的概念。 连续性递增：<code>F(n+1)=(F(n)+step)</code><span>&nbsp;</span>即下一次获取的 ID 一定等于当前<span>&nbsp;</span><code>ID+Step</code>，当<span>&nbsp;</span><code>Step=1</code><span>&nbsp;</span>时类似于这样一个序列:<code>1-&gt;2-&gt;3-&gt;4-&gt;5</code>。</p><blockquote><p style="margin-left:0; margin-right:0">扩展小知识：数据库的自增主键也不是连续性递增的，相信你一定遇到过这种情况，请思考一下数据库为什么这样设计？</p></blockquote><h4>有序性之趋势递增</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="趋势递增" src="https://oscimg.oschina.net/oscnet/up-c1c18e3548c373db0f634c1d0183739b41b.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">趋势递增：Tn&gt;Tn-s，那么大概率有 F (Tn)&gt;F (Tn-s)。虽然在一段时间间隔内有乱序，但是整体趋势是递增。从上图上看，是有上升趋势的（趋势线）。</p><ul><li>在<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>中 n-s 受到全局时钟同步影响。</li><li>在号段模式 (<strong>SegmentId</strong>) 中 n-s 受到号段可用区间 (<code>Step</code>) 影响。</li></ul><h2>分布式 ID 分配方案</h2><h3>UUID/GUID</h3><ul><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer">不依赖任何第三方中间件</li><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer">性能高</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">完全无序</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">空间占用大，需要占用 128 位存储空间。</li></ul><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">UUID 最大的缺陷是随机的、无序的，当用于主键时会导致数据库的主键索引效率低下（为了维护索引树，频繁的索引中间位置插入数据，而不是追加写）。这也是 UUID 不适用于数据库主键的最为重要的原因。</p><h3>SnowflakeId</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Snowflake 雪花算法" src="https://oscimg.oschina.net/oscnet/up-8d58346c8e62fdd525df8ed4bc1b1458710.png" referrerpolicy="no-referrer"></p><blockquote><p style="margin-left:0; margin-right:0"><em>SnowflakeId</em><span>&nbsp;</span>使用<span>&nbsp;</span><code>Long</code>（64-bit）位分区来生成 ID 的一种分布式 ID 算法。 通用的位分配方案为：<code>timestamp</code>(41-bit)+<code>machineId</code>(10-bit)+<code>sequence</code>(12-bit)=63-bit。</p></blockquote><ul><li>41-bit<code>timestamp</code>=(1L&lt;&lt;41)/(1000/3600/365)，约可以存储 69 年的时间戳，即可以使用的绝对时间为<span>&nbsp;</span><code>EPOCH</code>+69 年，一般我们需要自定义<span>&nbsp;</span><code>EPOCH</code><span>&nbsp;</span>为产品开发时间，另外还可以通过压缩其他区域的分配位数，来增加时间戳位数来延长可用时间。</li><li>10-bit<code>machineId</code>=(1L&lt;&lt;10)=1024，即相同业务可以部署 1024 个副本 (在 Kubernetes 概念里没有主从副本之分，这里直接沿用 Kubernetes 的定义)。一般情况下没有必要使用这么多位，所以会根据部署规模需要重新定义。</li><li>12-bit<code>sequence</code>=(1L&lt;&lt;12)*1000=4096000，即单机每秒可生成约 409W 的 ID，全局同业务集群可产生<span>&nbsp;</span><code>4096000*1024=419430W=41.9 亿 (TPS)</code>。</li></ul><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">从<span>&nbsp;</span><em>SnowflakeId</em><span>&nbsp;</span>设计上可以看出:</p><ul><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer"><code>timestamp</code><span>&nbsp;</span>在高位，单实例<span>&nbsp;</span><em>SnowflakeId</em><span>&nbsp;</span>是会保证时钟总是向前的（校验本机时钟回拨），所以是本机单调递增的。受全局时钟同步 / 时钟回拨影响<span>&nbsp;</span><em>SnowflakeId</em><span>&nbsp;</span>是全局趋势递增的。</li><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer"><em>SnowflakeId</em><span>&nbsp;</span>不对任何第三方中间件有强依赖关系，并且性能也非常高。</li><li><img alt="👍" height="14" src="https://assets.gitee.com/assets/emoji/thumbsup-f866ad23f6584fa15376ddb4738e53cf.png" width="14" referrerpolicy="no-referrer">位分配方案可以按照业务系统需要灵活配置，来达到最优使用效果。</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">强依赖本机时钟，潜在的时钟回拨问题会导致 ID 重复、处于短暂的不可用状态。</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer"><code>machineId</code><span>&nbsp;</span>需要手动设置，实际部署时如果采用手动分配<span>&nbsp;</span><code>machineId</code>，会非常低效。</li></ul><h4>SnowflakeId 之机器号分配问题</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">在<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>中根据业务设计的位分配方案确定了基本上就不再有变更了，也很少需要维护。但是<span>&nbsp;</span><code>machineId</code><span>&nbsp;</span>总是需要配置的，而且集群中是不能重复的，否则分区原则就会被破坏而导致 ID 唯一性原则破坏，当集群规模较大时<span>&nbsp;</span><code>machineId</code><span>&nbsp;</span>的维护工作是非常繁琐，低效的。</p><blockquote><p style="margin-left:0; margin-right:0">有一点需要特别说明的，<strong>SnowflakeId</strong><span>&nbsp;</span>的<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>是逻辑上的概念，而不是物理概念。 想象一下假设<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>是物理上的，那么意味着一台机器拥有只能拥有一个<span>&nbsp;</span><strong>MachineId</strong>，那会产生什么问题呢？</p></blockquote><blockquote><p style="margin-left:0; margin-right:0">目前<span>&nbsp;</span><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId">CosId</a></em><span>&nbsp;</span>提供了以下五种<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>分配器。</p></blockquote><ul><li>ManualMachineIdDistributor: 手动配置<span>&nbsp;</span><code>machineId</code>，一般只有在集群规模非常小的时候才有可能使用，不推荐。</li><li>StatefulSetMachineIdDistributor: 使用<span>&nbsp;</span><code>Kubernetes</code><span>&nbsp;</span>的<span>&nbsp;</span><code>StatefulSet</code><span>&nbsp;</span>提供的稳定的标识 ID（HOSTNAME=service-01）作为机器号。</li><li>RedisMachineIdDistributor: 使用<span>&nbsp;</span><strong>Redis</strong><span>&nbsp;</span>作为机器号的分发存储，同时还会存储<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>的上一次时间戳，用于<strong>启动时时钟回拨</strong>的检查。</li><li>JdbcMachineIdDistributor: 使用<strong>关系型数据库</strong>作为机器号的分发存储，同时还会存储<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>的上一次时间戳，用于<strong>启动时时钟回拨</strong>的检查。</li><li>ZookeeperMachineIdDistributor: 使用<span>&nbsp;</span><strong>ZooKeeper</strong><span>&nbsp;</span>作为机器号的分发存储，同时还会存储<span>&nbsp;</span><code>MachineId</code><span>&nbsp;</span>的上一次时间戳，用于<strong>启动时时钟回拨</strong>的检查。</li></ul><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Redis MachineId Distributor" src="https://oscimg.oschina.net/oscnet/up-e5966f62f7f64aff097899743596a6ca385.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Machine Id Safe Guard" src="https://oscimg.oschina.net/oscnet/up-ce3a0238995e354fa22e1d7fcdb5f0e13c1.png" referrerpolicy="no-referrer"></p><h4>SnowflakeId 之时钟回拨问题</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">时钟回拨的致命问题是会导致 ID 重复、冲突（这一点不难理解），ID 重复显然是不能被容忍的。 在<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>算法中，按照<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>分区 ID，我们不难理解的是不同<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>是不可能产生相同 ID 的。所以我们解决的时钟回拨问题是指当前<span>&nbsp;</span><strong>MachineId</strong><span>&nbsp;</span>的时钟回拨问题，而不是所有集群节点的时钟回拨问题。</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><strong>MachineId</strong><span>&nbsp;</span>时钟回拨问题大体可以分为俩种情况：</p><ul><li>运行时时钟回拨：即在运行时获取的当前时间戳比上一次获取的时间戳小。这个场景的时钟回拨是很容易处理的，一般<span>&nbsp;</span><strong>SnowflakeId</strong><span>&nbsp;</span>代码实现时都会存储<span>&nbsp;</span><code>lastTimestamp</code><span>&nbsp;</span>用于运行时时钟回拨的检查，并抛出时钟回拨异常。 
  <ul><li>时钟回拨时直接抛出异常是不太好地实践，因为下游使用方几乎没有其他处理方案（噢，我还能怎么办呢，等吧），时钟同步是唯一的选择，当只有一种选择时就不要再让用户选择了。</li><li><code>ClockSyncSnowflakeId</code><span>&nbsp;</span>是<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>的包装器，当发生时钟回拨时会使用<span>&nbsp;</span><code>ClockBackwardsSynchronizer</code><span>&nbsp;</span>主动等待时钟同步来重新生成 ID，提供更加友好的使用体验。</li></ul></li><li>启动时时钟回拨：即在启动服务实例时获取的当前时钟比上次关闭服务时小。此时的<span>&nbsp;</span><code>lastTimestamp</code><span>&nbsp;</span>是无法存储在进程内存中的。当获取的外部存储的<strong>机器状态</strong>大于当前时钟时钟时，会使用<span>&nbsp;</span><code>ClockBackwardsSynchronizer</code><span>&nbsp;</span>主动同步时钟。 
  <ul><li>LocalMachineStateStorage：使用本地文件存储<span>&nbsp;</span><code>MachineState</code>(机器号、最近一次时间戳)。因为使用的是本地文件所以只有当实例的部署环境是稳定的，<code>LocalMachineStateStorage</code><span>&nbsp;</span>才适用。</li><li>RedisMachineIdDistributor：将<span>&nbsp;</span><code>MachineState</code><span>&nbsp;</span>存储在<span>&nbsp;</span><strong>Redis</strong><span>&nbsp;</span>分布式缓存中，这样可以保证总是可以获取到上次服务实例停机时<strong>机器状态</strong>。</li></ul></li></ul><h4>SnowflakeId 之 JavaScript 数值溢出问题</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><code>JavaScript</code><span>&nbsp;</span>的<span>&nbsp;</span><code>Number.MAX_SAFE_INTEGER</code><span>&nbsp;</span>只有 53-bit，如果直接将 63 位的<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>返回给前端，那么会产生值溢出的情况（所以这里我们应该知道后端传给前端的<span>&nbsp;</span><code>long</code><span>&nbsp;</span>值溢出问题，<strong>迟早</strong>会出现，只不过 SnowflakeId 出现得更快而已）。 很显然溢出是不能被接受的，一般可以使用以下俩种处理方案：</p><ul><li>将生成的 63-bit<code>SnowflakeId</code><span>&nbsp;</span>转换为<span>&nbsp;</span><code>String</code><span>&nbsp;</span>类型。 
  <ul><li>直接将<span>&nbsp;</span><code>long</code><span>&nbsp;</span>转换成<span>&nbsp;</span><code>String</code>。</li><li>使用<span>&nbsp;</span><code>SnowflakeFriendlyId</code><span>&nbsp;</span>将<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>转换成比较友好的字符串表示：<code>{timestamp}-{machineId}-{sequence} -&gt; 20210623131730192-1-0</code></li></ul></li><li>自定义<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>位分配来缩短<span>&nbsp;</span><code>SnowflakeId</code><span>&nbsp;</span>的位数（53-bit）使<span>&nbsp;</span><code>ID</code><span>&nbsp;</span>提供给前端时不溢出 
  <ul><li>使用<span>&nbsp;</span><code>SafeJavaScriptSnowflakeId</code>(<code>JavaScript</code><span>&nbsp;</span>安全的<span>&nbsp;</span><code>SnowflakeId</code>)</li></ul></li></ul><h2>号段模式（SegmentId）</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Segment Id" src="https://oscimg.oschina.net/oscnet/up-d91b5939ccc673f26ccdcfbbd9e6aa68535.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">从上面的设计图中，不难看出<strong>号段模式</strong>基本设计思路是通过每次获取一定长度（Step）的可用 ID（Id 段 / 号段），来降低网络 IO 请求次数，提升性能。</p><ul><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">强依赖第三方号段分发器，可用性受到第三方分发器影响。</li><li><img alt="👎" height="14" src="https://assets.gitee.com/assets/emoji/thumbsdown-da41668c7715a2e470f020d398f74f74.png" width="14" referrerpolicy="no-referrer">每次号段用完时获取<span>&nbsp;</span><code>NextMaxId</code><span>&nbsp;</span>需要进行网络 IO 请求，此时的性能会比较低。</li><li>单实例 ID 单调递增，全局趋势递增。 
  <ul><li>从设计图中不难看出<span>&nbsp;</span><strong>Instance 1</strong><span>&nbsp;</span>每次获取的<span>&nbsp;</span><code>NextMaxId</code>，一定比上一次大，意味着下一次的号段一定比上一次大，所以从单实例上来看是单调递增的。</li><li>多实例各自持有的不同的号段，意味着同一时刻不同实例生成的 ID 是乱序的，但是整体趋势的递增的，所以全局趋势递增。</li></ul></li><li>ID 乱序程度受到 Step 长度以及集群规模影响（从趋势递增图中不难看出）。 
  <ul><li>假设集群中只有一个实例时<strong>号段模式</strong>就是单调递增的。</li><li><code>Step</code><span>&nbsp;</span>越小，乱序程度越小。当<span>&nbsp;</span><code>Step=1</code><span>&nbsp;</span>时，将无限接近单调递增。需要注意的是这里是无限接近而非等於单调递增，具体原因你可以思考一下这样一个场景： 
    <ul><li>号段分发器 T1 时刻给<span>&nbsp;</span><strong>Instance 1</strong><span>&nbsp;</span>分发了<span>&nbsp;</span><code>ID=1</code>,T2 时刻给<span>&nbsp;</span><strong>Instance 2</strong><span>&nbsp;</span>分发了<span>&nbsp;</span><code>ID=2</code>。因为机器性能、网络等原因，<code>Instance 2</code><span>&nbsp;</span>网络 IO 写请求先于<span>&nbsp;</span><code>Instance 1</code><span>&nbsp;</span>到达。那么这个时候对于数据库来说，ID 依然是乱序的。</li></ul></li></ul></li></ul><h2>号段链模式（SegmentChainId）</h2><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/link?target=https%3A%2F%2Fcosid.ahoo.me%2Fguide%2Fsegment-chain.html">分布式 ID (CosId) 之号段链模式性能 (1.2 亿 /s) 解析</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Segment Chain Id" src="https://oscimg.oschina.net/oscnet/up-d96e7c4f91786832c1345a7228a7c012177.png" referrerpolicy="no-referrer"></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><strong>SegmentChainId</strong><span>&nbsp;</span>是<span>&nbsp;</span><strong>SegmentId</strong><span>&nbsp;</span>增强版，相比于<span>&nbsp;</span><strong>SegmentId</strong><span>&nbsp;</span>有以下优势：</p><ul><li>稳定性：<strong>SegmentId</strong><span>&nbsp;</span>的稳定性问题（P9999=46.624 (us/op)）主要是因为号段用完之后同步进行<span>&nbsp;</span><code>NextMaxId</code><span>&nbsp;</span>的获取导致的（会产生网络 IO）。 
  <ul><li><strong>SegmentChainId</strong><span>&nbsp;</span>（P9999=0.208 (us/op)）引入了新的角色<span>&nbsp;</span><strong>PrefetchWorker</strong><span>&nbsp;</span>用以维护和保证<strong>安全距离</strong>，理想情况下使得获取 ID 的线程几乎完全不需要进行同步的等待<span>&nbsp;</span><code>NextMaxId</code><span>&nbsp;</span>获取，性能可达到近似<span>&nbsp;</span><code>AtomicLong</code><span>&nbsp;</span>的<span>&nbsp;</span><em>TPS 性能：12743W+/s</em><span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId%2Fblob%2Fmain%2FREADME.zh-CN.md%23jmh-benchmark">JMH 基准测试</a><span>&nbsp;</span>。</li></ul></li><li>适应性：从<span>&nbsp;</span><strong>SegmentId</strong><span>&nbsp;</span>介绍中我们知道了影响<span>&nbsp;</span><strong>ID 乱序</strong>的因素有俩个：集群规模、<code>Step</code><span>&nbsp;</span>大小。集群规模是我们不能控制的，但是<span>&nbsp;</span><code>Step</code><span>&nbsp;</span>是可以调节的。 
  <ul><li><code>Step</code><span>&nbsp;</span>应该近可能小才能使得<span>&nbsp;</span><strong>ID 单调递增</strong>的可能性增大。</li><li><code>Step</code><span>&nbsp;</span>太小会影响吞吐量，那么我们如何合理设置<span>&nbsp;</span><code>Step</code><span>&nbsp;</span>呢？答案是我们无法准确预估所有时点的吞吐量需求，那么最好的办法是吞吐量需求高时，Step 自动增大，吞吐量低时 Step 自动收缩。</li><li><strong>SegmentChainId</strong><span>&nbsp;</span>引入了<strong>饥饿状态</strong>的概念，<strong>PrefetchWorker</strong><span>&nbsp;</span>会根据<strong>饥饿状态</strong>检测当前<strong>安全距离</strong>是否需要膨胀或者收缩，以便获得吞吐量与有序性之间的权衡，这便是<span>&nbsp;</span><strong>SegmentChainId</strong><span>&nbsp;</span>的自适应性。</li></ul></li></ul><h2>集成</h2><h3>CosIdPlugin（MyBatis 插件）</h3><blockquote><p style="margin-left:0; margin-right:0">Kotlin DSL</p></blockquote><div><div><pre><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">implementation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span style="color:#eeeeee">(</span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">"me.ahoo.cosid:cosid-mybatis:${cosidVersion}"</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#eeeeee">)</span></span></pre></div></div><div><div><pre><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49"><span><span style="color:#d73a49">class</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><strong><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1"><span><span style="color:#6f42c1">Order</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>{</span></span><span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">@CosId</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">(</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">value</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">=</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span><span style="color:#6a737d"><span>"order"</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d"><span style="color:#6a737d">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">private</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>orderId</span><span>;</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">private</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>userId</span><span>;</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>getOrderId</strong><span>()</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">return</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>orderId</span><span>;</span></span><span><span>}</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>void</strong><strong>setOrderId</strong><span>(</span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>orderId</span><span>)</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">this</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>.</span><span style="color:#008080">orderId</span><span>=</span><span>orderId</span><span>;</span></span><span><span>}</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>getUserId</strong><span>()</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">return</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>userId</span><span>;</span></span><span><span>}</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">public</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><strong>void</strong><strong>setUserId</strong><span>(</span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Long</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>userId</span><span>)</span><span>{</span></span><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">this</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span>.</span><span style="color:#008080">userId</span><span>=</span><span>userId</span><span>;</span></span><span><span>}</span></span><span><span>}</span></span></pre></div></div><h3>ShardingSphere 插件</h3><blockquote><p style="margin-left:0; margin-right:0"><code>CosIdKeyGenerateAlgorithm</code>、<code>CosIdModShardingAlgorithm</code>、<code>CosIdIntervalShardingAlgorithm</code><span>&nbsp;</span>已合并至<span>&nbsp;</span><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2Fapache%2Fshardingsphere%2Fpull%2F14132">ShardingSphere</a><span>&nbsp;</span>官方，未来<span>&nbsp;</span><em><a href="https://gitee.com/link?target=https%3A%2F%2Fgithub.com%2FAhoo-Wang%2FCosId%2Ftree%2Fmain%2Fcosid-shardingsphere">cosid-shardingsphere</a></em><span>&nbsp;</span>模块的维护可能会以官方为主。</p></blockquote><blockquote><p style="margin-left:0; margin-right:0">Kotlin DSL</p></blockquote><div><div><pre><span><strong><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49"><span style="color:#d73a49">implementation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span style="color:#eeeeee">(</span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">"me.ahoo.cosid:cosid-shardingsphere:${cosidVersion}"</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#eeeeee">)</span></span></pre></div></div><h4>CosIdKeyGenerateAlgorithm (分布式主键)</h4><div><div><pre><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">spring</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">shardingsphere</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">rules</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">sharding</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">key-generators</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">cosid</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">type</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span><span style="background-color:transparent; color:#00aadd">COSID</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">props</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span></span><span><span style="color:#008080"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5"><span style="color:#005cc5">id-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>:</span><span style="background-color:transparent; color:#00aadd">__share__</span></span></pre></div></div><h4>基于间隔的时间范围分片算法</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosId Interval Sharding Algorithm" src="https://oscimg.oschina.net/oscnet/up-8afd1ee134d5b3cb656d984b86c3c26a2b9.png" referrerpolicy="no-referrer"></p><ul><li>易用性：支持多种数据类型 (<code>Long</code>/<code>LocalDateTime</code>/<code>DATE</code>/<span>&nbsp;</span><code>String</code><span>&nbsp;</span>/<span>&nbsp;</span><code>SnowflakeId</code>)，而官方实现是先转换成字符串再转换成<span>&nbsp;</span><code>LocalDateTime</code>，转换成功率受时间格式化字符影响。</li><li>性能：相比于<span>&nbsp;</span><code>org.apache.shardingsphere.sharding.algorithm.sharding.datetime.IntervalShardingAlgorithm</code><span>&nbsp;</span>性能高出<span>&nbsp;</span><em>1200~4000</em><span>&nbsp;</span>倍。</li></ul><table cellspacing="0" style="--darkreader-inline-bgcolor:#181a1b; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-top:currentcolor; --darkreader-inline-color:#b7b1a7; -webkit-text-stroke-width:0px; background-color:#ffffff; border-collapse:collapse; border-spacing:0px; border:medium none; box-sizing:border-box; color:#40485b; display:block; font-family:-apple-system,&quot;system-ui&quot;,&quot;Segoe UI&quot;,Helvetica,Arial,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Liberation Sans&quot;,&quot;PingFang SC&quot;,&quot;Microsoft YaHei&quot;,&quot;Hiragino Sans GB&quot;,&quot;Wenquanyi Micro Hei&quot;,&quot;WenQuanYi Zen Hei&quot;,&quot;ST Heiti&quot;,SimHei,SimSun,&quot;WenQuanYi Zen Hei Sharp&quot;,sans-serif; font-size:16px; font-style:normal; font-variant-caps:normal; font-variant-ligatures:normal; font-weight:400; letter-spacing:normal; line-height:inherit; margin:0px 0px 16px; max-width:100%; orphans:2; overflow:auto; text-align:left; text-decoration-color:initial; text-decoration-style:initial; text-decoration-thickness:initial; text-transform:none; white-space:normal; widows:2; word-break:initial; word-spacing:0px"><tbody><tr><th><strong>PreciseShardingValue</strong></th><th><strong>RangeShardingValue</strong></th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of IntervalShardingAlgorithm - PreciseShardingValue" src="https://oscimg.oschina.net/oscnet/up-2a88161c2346bded68be5270064dcfc8246.png" referrerpolicy="no-referrer"></td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of IntervalShardingAlgorithm - RangeShardingValue" src="https://oscimg.oschina.net/oscnet/up-f31899cf725fa89975be9af664f80617d20.png" referrerpolicy="no-referrer"></td></tr></tbody></table><ul><li>CosIdIntervalShardingAlgorithm 
  <ul><li>type: COSID_INTERVAL</li></ul></li><li>SnowflakeIntervalShardingAlgorithm 
  <ul><li>type: COSID_INTERVAL_SNOWFLAKE</li></ul></li></ul><div><div><pre><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">spring</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">shardingsphere</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">rules</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding-algorithms</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">alg-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">type</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">COSID_INTERVAL_{type_suffix}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">props</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">logic-name-prefix</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">logic-name-prefix</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">id-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">cosid-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-lower</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>2021</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-12</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-08</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>22</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">:00:00</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-upper</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>2022</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-12</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>-01</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>00</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">:00:00</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding-suffix-pattern</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">yyyyMM</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-interval-unit</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">MONTHS</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">datetime-interval-amount</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>1</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></pre></div></div><h4>取模分片算法</h4><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosIdModShardingAlgorithm" src="https://oscimg.oschina.net/oscnet/up-614e23fdac05028408625b0856f2e1163aa.png" referrerpolicy="no-referrer"></p><ul><li>性能：相比于<span>&nbsp;</span><code>org.apache.shardingsphere.sharding.algorithm.sharding.mod.ModShardingAlgorithm</code><span>&nbsp;</span>性能高出<span>&nbsp;</span><em>1200~4000</em><span>&nbsp;</span>倍。并且稳定性更高，不会出现严重的性能退化。</li></ul><table cellspacing="0" style="--darkreader-inline-bgcolor:#181a1b; --darkreader-inline-border-bottom:currentcolor; --darkreader-inline-border-left:currentcolor; --darkreader-inline-border-right:currentcolor; --darkreader-inline-border-top:currentcolor; --darkreader-inline-color:#b7b1a7; -webkit-text-stroke-width:0px; background-color:#ffffff; border-collapse:collapse; border-spacing:0px; border:medium none; box-sizing:border-box; color:#40485b; display:block; font-family:-apple-system,&quot;system-ui&quot;,&quot;Segoe UI&quot;,Helvetica,Arial,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Liberation Sans&quot;,&quot;PingFang SC&quot;,&quot;Microsoft YaHei&quot;,&quot;Hiragino Sans GB&quot;,&quot;Wenquanyi Micro Hei&quot;,&quot;WenQuanYi Zen Hei&quot;,&quot;ST Heiti&quot;,SimHei,SimSun,&quot;WenQuanYi Zen Hei Sharp&quot;,sans-serif; font-size:16px; font-style:normal; font-variant-caps:normal; font-variant-ligatures:normal; font-weight:400; letter-spacing:normal; line-height:inherit; margin:0px 0px 16px; max-width:100%; orphans:2; overflow:auto; text-align:left; text-decoration-color:initial; text-decoration-style:initial; text-decoration-thickness:initial; text-transform:none; white-space:normal; widows:2; word-break:initial; word-spacing:0px"><tbody><tr><th><strong>PreciseShardingValue</strong></th><th><strong>RangeShardingValue</strong></th></tr></tbody><tbody><tr><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of ModShardingAlgorithm - PreciseShardingValue" src="https://oscimg.oschina.net/oscnet/up-b0509c7b8d072d626c62e6d85006bb4f9ef.png" referrerpolicy="no-referrer"></td><td style="border-color:#dfe2e5; border-style:solid; border-width:1px"><img alt="Throughput Of ModShardingAlgorithm - RangeShardingValue" src="https://oscimg.oschina.net/oscnet/up-37c0d23dabd951f4a00985b74cd20c5a328.png" referrerpolicy="no-referrer"></td></tr></tbody></table><div><div><pre><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">spring</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">shardingsphere</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">rules</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">sharding-algorithms</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">alg-name</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">type</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">COSID_MOD</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">props</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">mod</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><strong><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>4</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span><span><span style="color:#008080"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">logic-name-prefix</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1"><span style="color:#6f42c1">:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:transparent; color:#00aadd"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62"><span style="color:#032f62">t_table_</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre></div></div><h2>性能测试报告</h2><h3>SegmentChainId - 吞吐量 (ops/s)</h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Throughput-Of-SegmentChainId" src="https://oscimg.oschina.net/oscnet/up-bcdd47563907ba963673c8cd1ee99f3a753.png" referrerpolicy="no-referrer"></p><h3>SegmentChainId - 每次操作耗时的百分位数 (us/op)</h3><blockquote><p style="margin-left:0; margin-right:0"><a href="https://gitee.com/link?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E7%2599%25BE%25E5%2588%2586%25E4%25BD%258D%25E6%2595%25B0">百分位数</a><span>&nbsp;</span>，统计学术语，若将一组数据从小到大排序，并计算相应的累计百分点，则某百分点所对应数据的值，就称为这百分点的百分位数，以 Pk 表示第 k 百分位数。百分位数是用来比较个体在群体中的相对地位量数。</p></blockquote><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="Percentile-Sample-Of-SegmentChainId" src="https://oscimg.oschina.net/oscnet/up-bc3e9bb34396489e0da8ec0888151b7d489.png" referrerpolicy="no-referrer"></p><h3>CosId VS 美团 Leaf</h3><blockquote><p style="margin-left:0; margin-right:0">CosId (<code>SegmentChainId</code>) 性能是 Leaf (<code>segment</code>) 的 5 倍。</p></blockquote><p style="color:#40485b; margin-left:0; margin-right:0; text-align:center"><img alt="CosId VS 美团 Leaf" src="https://gitee.com/AhooWang/CosId/raw/main/document/docs/.vuepress/public/assets/perf/CosId-VS-Leaf.png" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 06:12:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279947/cosid-2-6-6-released</guid>
            <link>https://www.oschina.net/news/279947/cosid-2-6-6-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Eclipse Vert.x 4.5.4 发布，Java 微服务开发框架]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="background-color:#ffffff; color:#333333">Eclipse Vert.x 是一个微服务开发框架，基于事件和异步，依托于全异步 Java 服务器 Netty，并扩展了很多其他特性，以其轻量、高性能、支持多语言开发而备受开发者青睐。</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:start"><span><span><span style="color:#3c3c3b"><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Eclipse Vert.x 版本 4.5.4 现已<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fvertx.io%2Fblog%2Feclipse-vert-x-4-5-4%2F" target="_blank">发布</a>。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:#ffffff; color:#333333">一些弃用和破坏性变更包括：</span></p><h4 style="text-align:start"><strong>Vert.x Core</strong></h4><p style="text-align:start"><strong><span><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>TCP 客户端 TLS 配置的破坏性变更</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Feclipse-vertx%2Fvert.x%2Fpull%2F5117" target="_blank">https://github.com/eclipse-vertx/vert.x/pull/5117</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><code>NetClient</code>的 TLS 配置不再将默认主机名验证算法设置为空字符串，而是客户端的用户必须使用非空字符串明确配置主机名验证算法。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><div style="text-align:start"><pre><span style="color:var(--color-prettylights-syntax-comment)">// Before</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClient</span><span>client</span> = <span>vertx</span>.<span style="color:var(--color-prettylights-syntax-entity)">createNetClient</span>(<span style="color:var(--color-prettylights-syntax-keyword)">new</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClientOptions</span>().<span style="color:var(--color-prettylights-syntax-entity)">setSsl</span>(<span style="color:var(--color-prettylights-syntax-constant)">true</span>).<span style="color:var(--color-prettylights-syntax-entity)">setTrustOptions</span>(<span>trustedCert</span>));

<span style="color:var(--color-prettylights-syntax-comment)">// After </span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">String</span><span>algo</span> = ...;
<span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClient</span><span>client</span> = <span>vertx</span>.<span style="color:var(--color-prettylights-syntax-entity)">createNetClient</span>(<span style="color:var(--color-prettylights-syntax-keyword)">new</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClientOptions</span>().<span style="color:var(--color-prettylights-syntax-entity)">setSsl</span>(<span style="color:var(--color-prettylights-syntax-constant)">true</span>).<span style="color:var(--color-prettylights-syntax-entity)">setHostnameVerificationAlgorithm</span>(<span>algo</span>).<span style="color:var(--color-prettylights-syntax-entity)">setTrustOptions</span>(<span>trustedCert</span>));
</pre></div><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>验证算法可以是以下之一：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><ul><li><code>""</code>：接受任何可信证书</li><li><code>"HTTPS"</code>：根据&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdatatracker.ietf.org%2Fdoc%2Fhtml%2Frfc2818%23section-3.1" target="_blank">rfc2818 验证任何可信证书</a></li><li><code>"LDAPS"</code>：根据&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdatatracker.ietf.org%2Fdoc%2Fhtml%2Frfc2830%23section-3.6" target="_blank">rfc2830 验证任何可信证书</a></li></ul><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>因此，Vert.x Redis 客户端 TLS 配置必须在 TCP 客户端选项上明确设置算法。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><div style="text-align:start"><pre><span style="color:var(--color-prettylights-syntax-comment)">// Before</span><span>redisOptions</span>.<span style="color:var(--color-prettylights-syntax-entity)">setNetClientOptions</span>(<span style="color:var(--color-prettylights-syntax-keyword)">new</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClientOptions</span>().<span style="color:var(--color-prettylights-syntax-entity)">setSsl</span>(<span style="color:var(--color-prettylights-syntax-constant)">true</span>).<span style="color:var(--color-prettylights-syntax-entity)">setTrustOptions</span>(<span>cert</span>));

<span style="color:var(--color-prettylights-syntax-comment)">// After</span><span>redisOptions</span>.<span style="color:var(--color-prettylights-syntax-entity)">setNetClientOptions</span>(<span style="color:var(--color-prettylights-syntax-keyword)">new</span><span style="color:var(--color-prettylights-syntax-storage-modifier-import)">NetClientOptions</span>().<span style="color:var(--color-prettylights-syntax-entity)">setSsl</span>(<span style="color:var(--color-prettylights-syntax-constant)">true</span>).<span style="color:var(--color-prettylights-syntax-entity)">setTrustOptions</span>(<span>cert</span>).<span style="color:var(--color-prettylights-syntax-entity)">setHostnameVerificationAlgorithm</span>(<span>algo</span>));
</pre></div><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>因此，Vert.x MQTT 客户端 TLS 配置必须在 MQTT 客户端选项上明确设置算法。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><pre><code>// Before
mqttClientOptions.setSsl(true).setTrustOptions(cert);

// After
mqttClientOptions.setSsl(true).setTrustOptions(cert).setHostnameVerificationAlgorithm(algo);</code></pre><p style="text-align:start"><strong><span><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>Deprecation of HTTP connection shutdown with a timeout</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Feclipse-vertx%2Fvert.x%2Fpull%2F5115" target="_blank">https://github.com/eclipse-vertx/vert.x/pull/5115</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p style="text-align:start"><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>弃用<code>HttpConnection#timeout(long)</code>，替换为<code>HttpConnection#timeout(long, TimeUnit)</code></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><div style="text-align:start"><pre style="text-align:start"><span style="color:var(--color-prettylights-syntax-comment)">// Before</span><span>connection</span>.<span style="color:var(--color-prettylights-syntax-entity)">shutdown</span>(<span style="color:var(--color-prettylights-syntax-constant)">5</span> * <span style="color:var(--color-prettylights-syntax-constant)">1000</span>); <span style="color:var(--color-prettylights-syntax-comment)">// 5 seconds</span><span style="color:var(--color-prettylights-syntax-comment)">// After</span><span>connection</span>.<span style="color:var(--color-prettylights-syntax-entity)">shutdown</span>(<span style="color:var(--color-prettylights-syntax-constant)">5</span>, <span style="color:var(--color-prettylights-syntax-storage-modifier-import)">TimeUnit</span>.<span style="color:var(--color-prettylights-syntax-constant)">SECONDS</span>);</pre></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:start">更多详情可查看 4.5.4&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fvert-x3%2Fwiki%2Fwiki%2F4.5.4-Release-Notes" target="_blank">发行说明</a>。</p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 05:45:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279938/eclipse-vert-x-4-5-4-released</guid>
            <link>https://www.oschina.net/news/279938/eclipse-vert-x-4-5-4-released</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[酷瓜云课堂（内网版）v1.1.1 发布，局域网学习平台方案]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><img alt="酷瓜云课堂-局域网学习平台" src="https://portal-1255691183.file.myqcloud.com/img/content/624528cd8be23.png" referrerpolicy="no-referrer"></p><h3>更新内容</h3><ul><li>增加 ldap 登录</li><li>增加主观题评分功能</li><li>增加用户导出功能</li><li>增加弹幕审核和管理</li><li>去除 league/commonmark 包</li><li>使用 AccountSearchTrait 复用代码</li><li>使用 xlswriter 替换 phpspreadsheet</li><li>修正 exam/question/img 上传问题</li><li>修正 chapter_user 中 plan_id=0 问题</li><li>修正 ArticleUser 账号查询</li><li>修正首页 simple 模式样式问题</li><li>修正关闭考试中的问题</li><li>更新 layui-v2.9.3</li><li>优化错误处理</li></ul><h3>系统介绍</h3><p>酷瓜云课堂内网版，采用 C 扩展框架 Phalcon 开发，使用本地基础服务，无营销相关功能，主要适用于公司、集团、机关、学校等内部网络环境使用。</p><h3>系统功能</h3><p>实现了点播、直播、专栏、问答、积分等。</p><p>友情提示：</p><ul><li>演示系统配置低，带宽有限，切莫压测</li><li>课程数据来源于网络（无实质内容）</li><li>管理后台已禁止数据提交，私密配置已过滤</li></ul><p>系统演示：</p><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flan-edu.koogua.com" target="_blank">前台演示</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flan-edu.koogua.com%2Fadmin" target="_blank">后台演示</a></li></ul><p>演示账号：100015@163.com / 123456 （前后台通用）</p><h3>项目组件</h3><ul><li>后台框架：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fphalcon.io" target="_blank">phalcon 3.4.5</a></li><li>前端框架：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flayui.dev" target="_blank">layui 2.9.3</a></li><li>全文检索：<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fwww.xunsearch.com" target="_blank">xunsearch 1.4.9</a></li><li>基础依赖：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fphp.net" target="_blank">php7.3</a>， <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmysql.com" target="_blank">mysql5.7</a>， <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fredis.io" target="_blank">redis5.0</a></li></ul><h3>项目文档</h3><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.koogua.com%2Fpage%2Fwiki" target="_blank">运行环境搭建</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.koogua.com%2Fpage%2Fwiki" target="_blank">系统服务配置</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.koogua.com%2Fpage%2Fwiki" target="_blank">客户终端配置</a></li></ul><h3>产品试用</h3><p>申请地址：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.koogua.com%2Fpage%2Ftrial" target="_blank">点击申请</a></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 05:25:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279935/course-tencent-cloud-1-1-1-released</guid>
            <link>https://www.oschina.net/news/279935/course-tencent-cloud-1-1-1-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[超 3000 次 commit，MyBatis-Flex v1.8.0 发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><img alt="" height="265" src="https://oscimg.oschina.net/oscnet/up-0d6ec96d8070deb116566704fcc7bfd1291.png" width="500" referrerpolicy="no-referrer"></p><h1>MyBatis-Flex： 一个优雅的 MyBatis 增强框架</h1><h1>特征</h1><h4>1、很轻量</h4><blockquote><p style="margin-left:0; margin-right:0">MyBatis-Flex 整个框架只依赖 MyBatis，再无其他任何第三方依赖。</p></blockquote><h4>2、只增强</h4><blockquote><p style="margin-left:0; margin-right:0">MyBatis-Flex 支持 CRUD、分页查询、多表查询、批量操作，但不丢失 MyBatis 原有的任何功能。</p></blockquote><h4>3、高性能</h4><blockquote><p style="margin-left:0; margin-right:0">MyBatis-Flex 采用独特的技术架构、相比许多同类框架，MyBatis-Flex 的在增删改查等方面的性能均超越其 5~10 倍或以上。</p></blockquote><h4>4、更灵动</h4><blockquote><p style="margin-left:0; margin-right:0">MyBatis-Flex 支持多主键、多表查询、逻辑删除、乐观锁、数据脱敏、数据加密、多数据源、分库分表、字段权限、 字段加密、多租户、事务管理、SQL 审计... 等等等等。 这一切，免费且灵动。</p></blockquote><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>不知不觉，MyBatis-Flex 发布快 1 年的时间了。在这 1 年中，MyBatis-Flex 一共发布了 180 个版本，130 位小伙伴参与贡献，一共获得了超过 3000 次 commit，感谢大家的付出，才能让 MyBatis-FLex 茁壮成长。</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><h4><strong>MyBatis-Flex v1.7.9~1.8.0 更新细节如下：</strong></h4><div><ul><li>新增：ActiveRecord 模式新增 withRelations(columns) 的查询方法，感谢<span>&nbsp;</span><a href="https://gitee.com/tangzc" target="_blank">@唐振超</a></li><li>新增：在不配置 genPath 时对增量编译的支持，感谢<span>&nbsp;</span><a href="https://gitee.com/cloudplayer" target="_blank">@CloudPlayer</a></li><li>新增：通过 FlexConfiguration 预注册的自定义 typeHandler 的功能，感谢<span>&nbsp;</span><a href="https://gitee.com/tanglh" target="_blank">@tanglh</a></li><li>优化：重构代码生成器生成 BaseEntity 的代码</li><li>优化：entityOrBase.tpl 中命令占位符被替换后，entity 里面多了一行空白行，感谢<span>&nbsp;</span><a href="https://gitee.com/caohenghui" target="_blank">@Accado</a></li><li>修复：在复杂的 VO 嵌套查询时，addResultMap 抛出异常的问题，感谢<span>&nbsp;</span><a href="https://gitee.com/leizhiyou" target="_blank">@leizhiyou</a></li><li>修复：实体类实现多层级的接口时监听器无法匹配问题，感谢<span>&nbsp;</span><a href="https://gitee.com/ruansheng" target="_blank">@ruansheng</a></li><li>修复：使用 Mappers 执行语法时, 异常未被精确抛出问题，感谢<span>&nbsp;</span><a href="https://gitee.com/ruansheng" target="_blank">@ruansheng</a></li><li>修复：@EnumValue 在 get 方法上，查询报错的问题，感谢<span>&nbsp;</span><a href="https://gitee.com/Suomm" target="_blank">@王帅</a></li><li>修复：QueryConditionBuilder 的 ge 方法修改为 eq 的问题，感谢<span>&nbsp;</span><a href="https://gitee.com/wittplus" target="_blank">@witt</a></li><li>修复：Db.insertBatchWithFirstRowColumns 当 row key 的顺序没保持一致时，出错的问题</li><li>修复：Db.insertBatchWithFirstRowColumns 不能自动填充主键字段的问题</li><li>修复：paginateWithRelationsAs 不及时清空 threadLocal 的 relation 配置的问题<span>&nbsp;</span><a href="https://gitee.com/mybatis-flex/mybatis-flex/issues/I90S5G">#I90S5G:[Bug]: paginateWithRelationsAs 使用关联查询时，在查询总数为 0 的情况下直接返回了，未清空 RelationManage 里的数据，当 Tomcat 使用线程池时复用连接时会复用上一个线程的 threadLocal 值</a></li><li>修复：在某些极端情况下 AbstractRelation 出现 NPE 的问题<span>&nbsp;</span><a href="https://gitee.com/mybatis-flex/mybatis-flex/issues/I90XTY">#I90XTY:[Bug]: @RelationOneToMany 启动时查询调用出现 NullPointerException</a></li><li>修复：在和 Apache CXF 整合时，出错的问题<span>&nbsp;</span><a href="https://gitee.com/mybatis-flex/mybatis-flex/issues/I90XE5">#I90XE5:[Bug]: 与 apache 的 cxf 同时整合到项目，产生错误</a></li><li>文档：优化 faq 的相关文档，感谢<span>&nbsp;</span><a href="https://gitee.com/Suomm" target="_blank">@王帅</a></li></ul><p style="margin-left:0; margin-right:0">代码贡献者，请参考：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fintro%2Fwhat-is-mybatisflex.html%23%25E8%25B4%25A1%25E7%258C%25AE%25E8%2580%2585" target="_blank">https://mybatis-flex.com/zh/intro/what-is-mybatisflex.html#%E8%B4%A1%E7%8C%AE%E8%80%85</a></p><p style="margin-left:0; margin-right:0">&nbsp;</p></div><h4><strong>进一步了解 MyBatis-Flex 框架，请参考一下链接：</strong></h4><ul><li>1、快速开始：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fintro%2Fgetting-started.html" target="_blank">https://mybatis-flex.com/zh/intro/getting-started.html</a></li><li>2、多表关联查询：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fbase%2Fquery.html%23%25E5%2585%25B3%25E8%2581%2594%25E6%259F%25A5%25E8%25AF%25A2-%25E6%2588%2596%25E5%25A4%259A%25E8%25A1%25A8%25E6%259F%25A5%25E8%25AF%25A2" target="_blank">https://mybatis-flex.com/zh/base/query.html</a></li><li>3、一对多、多对一：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fbase%2Frelations-query.html" target="_blank">https://mybatis-flex.com/zh/base/relations-query.html</a></li><li>4、灵活的 QueryWrapper：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fbase%2Fquerywrapper.html" target="_blank">https://mybatis-flex.com/zh/base/querywrapper.html</a></li><li>5、逻辑删除：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Flogic-delete.html" target="_blank">https://mybatis-flex.com/zh/core/logic-delete.html</a></li><li>6、乐观锁：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fversion.html" target="_blank">https://mybatis-flex.com/zh/core/version.html</a></li><li>7、数据填充：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Ffill.html" target="_blank">https://mybatis-flex.com/zh/core/fill.html</a></li><li>6、数据脱敏：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fmask.html" target="_blank">https://mybatis-flex.com/zh/core/mask.html</a></li><li>7、SQL 审计：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Faudit.html" target="_blank">https://mybatis-flex.com/zh/core/audit.html</a></li><li>8、多数据源：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fmulti-datasource.html" target="_blank">https://mybatis-flex.com/zh/core/multi-datasource.htm</a></li><li>9、数据源加密：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fdatasource-encryption.html" target="_blank">https://mybatis-flex.com/zh/core/datasource-encryption.html</a></li><li>10、动态表名：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fdynamic-table.html" target="_blank">https://mybatis-flex.com/zh/core/dynamic-table.html</a></li><li>11、事务管理：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Ftx.html" target="_blank">https://mybatis-flex.com/zh/core/tx.html</a></li><li>12、数据权限：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fdata-permission.html" target="_blank">https://mybatis-flex.com/zh/core/data-permission.html</a></li><li>13、字段权限：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fcolumns-permission.html" target="_blank">https://mybatis-flex.com/zh/core/columns-permission.html</a></li><li>14、字段加密：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fcolumns-encrypt.html" target="_blank">https://mybatis-flex.com/zh/core/columns-encrypt.html</a></li><li>15、字典回写：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fcolumns-dict.html" target="_blank">https://mybatis-flex.com/zh/core/columns-dict.html</a></li><li>16、枚举属性：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fenum-property.html" target="_blank">https://mybatis-flex.com/zh/core/enum-property.html</a></li><li>17、多租户：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fcore%2Fmulti-tenancy.html" target="_blank">https://mybatis-flex.com/zh/core/multi-tenancy.html</a></li><li>18、代码生成器：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fothers%2Fcodegen.html" target="_blank">https://mybatis-flex.com/zh/others/codegen.html</a></li><li>19、QQ 交流群：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com%2Fzh%2Fintro%2Fqq-group.html" target="_blank">https://mybatis-flex.com/zh/intro/qq-group.html</a></li><li>20、更好用的功能正在路上：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmybatis-flex.com" target="_blank">https://mybatis-flex.com</a></li></ul><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><h4><strong>bilibili 视频教程（免费）：</strong></h4><p style="color:#3c3c43; margin-left:0; margin-right:0; text-align:start"><strong>课程 ：《MyBatis-Flex 视频教程》</strong></p><blockquote><p style="color:var(--vp-c-text-2); margin-left:0; margin-right:0">课程简介：该课程由<span>&nbsp;</span><a href="https://gitee.com/Suomm" target="_blank">王帅</a><span>&nbsp;</span>老师录制主讲，<span>&nbsp;</span><a href="https://gitee.com/Suomm" target="_blank">王帅</a><span>&nbsp;</span>老师也是除了作者以外，对 MyBatis-Flex 代码贡献最大的 committer。 其无论对 MyBatis 还是 MyBatis-Flex，都有非常深入的理解。</p></blockquote><p style="color:#3c3c43; margin-left:0; margin-right:0; text-align:start">课程地址：</p><p style="color:#3c3c43; margin-left:0; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV11h411A7cU" target="_blank">https://www.bilibili.com/video/BV11h411A7cU</a></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 03:20:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279913/mybatis-flex-1-8-0-released</guid>
            <link>https://www.oschina.net/news/279913/mybatis-flex-1-8-0-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Apache ECharts 5.5.0 引入服务端渲染的新利器：1KB 的客户端轻量运行时]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>Apache ECharts 5.5.0 版本已于 2024.2.18 正式发布。</p><p><em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fapache%2Fecharts%2Freleases%2Ftag%2F5.5.0" target="_blank">https://github.com/apache/echarts/releases/tag/5.5.0</a></u></em></p><p><strong>主要变化</strong></p><ul><li><p>增强了代码的 ESM 识别，对&nbsp;Node.js&nbsp;环境开发更加友好；</p></li><li><p>为服务端渲染方案提供了一个 gzip 后仅 1KB 的轻量运行时，极大地降低了加载时间；</p></li><li><p>为数据下钻支持了过渡动画，开发者可以方便地实现多级数据的动画效果；</p></li><li><p>为饼图和极座标系图表增加了更多配置项，可以实现更丰富的样式；</p></li><li><p>新增阿拉伯语和荷兰语两种语言的翻译</p></li><li><p>……</p></li></ul><p>以下内容转自：<em><u><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FIpGQS1GspyXzNe-u9F4B-A" target="_blank">https://mp.weixin.qq.com/s/IpGQS1GspyXzNe-u9F4B-A</a></u></em></p><hr><h2>增强的 ESM 支持</h2><p>为了让开发者在测试和 Node.js 环境使用更方便，我们在这个版本中对 ESM 的识别问题进行了优化。</p><p>以前，ECharts 只在 npm（npm 包的 lib 目录中）导出&nbsp;<code>*.esm</code>&nbsp;文件。虽然这在 bundlers 环境表现良好，但 Node.js 环境和一些基于 Node.js 的测试框架（如 vitest 和 jest）中的表现并不理想。</p><p>有了这个新功能，我们做了几个改变以改善这个问题：</p><ul><li><p>在&nbsp;<code>package.json</code>&nbsp;中添加了&nbsp;<code>"type": "module"</code></p></li><li><p>在&nbsp;<code>package.json</code>&nbsp;中添加了&nbsp;<code>"exports": {...}</code></p></li><li><p>在子目录中添加了一些只包含&nbsp;<code>"type": "commonjs"</code>&nbsp;的&nbsp;<code>package.json</code>&nbsp;文件</p></li></ul><p>这些改变意味着，像&nbsp;<code>echarts/core.js</code>&nbsp;这样的文件现在可以在像纯 Node.js、vitest、jest 和 create-react-app 这样的环境中解析为 ESM。</p><p>我们还确保了这个新功能与各种环境兼容，包括运行时（Node.js/vitest/jest（create-react-app）/ssr/…）和打包器（webpack/rollup/vite/esbuild/…）。</p><p>我们非常期待这一新功能，并相信它将极大地改善开发者的体验。</p><h2>服务端渲染 + 客户端轻量运行时</h2><p>Apache ECharts 功能强大，相应地，包体积也比较大。我们在之前的版本中也做了各种努力来改进这一点。开发者可以使用 TreeShaking 按需加载部分代码，以减少加载的代码量。从 Apache ECharts 5.3 版本起，我们支持了零依赖的服务端 SVG 字符串渲染方案，并支持图表的初始动画。这样，使用服务端渲染的结果作为首屏渲染的画面，可以大大减少首屏加载时间。</p><p>服务端渲染虽然是一种很有效减少包体积的解决方案，但如果需要在客户端实现一些交互，那么不得不仍旧加载 echarts.js，这可能会增加更多的加载时间。对于一些对页面加载速度要求较高的场景，这可能不是一个理想的选择。</p><p><strong>在 5.5.0 版本中，我们新增了客户端轻量运行时</strong>，客户端无需加载完整 ECharts 即可实现部分交互。这样，我们可以在服务端渲染图表，然后在客户端加载轻量运行时，实现一些常见的交互。这意味着，<strong>只需要加载&nbsp;4KB 的轻量运行时（gzip 后 1KB），即可实现带初始动画和部分常用交互形式的图表</strong>。这一改进将极大地提升页面加载速度，特别是对于移动端的体验。</p><p><img alt="" src="https://oscimg.oschina.net/oscnet/up-5c9857523986e92155d29f453c6307014c1.png" referrerpolicy="no-referrer"></p><p>以这个带标题的饼图为例，如果按客户端仅打包饼图和标题组件的方案，gzip 后需要 135KB；如果按服务端渲染的方案，渲染结果 SVG gzip 后 1 KB、客户端运行时 gzip 后 1KB，仅为前者体积的 1.5%。交互方面，后者也可以做到初始动画、鼠标移动到图表元素后的高亮，并且获取到点击事件，能够满足大部分的常见交互需求。</p><p>如需使用客户端轻量运行时方案，服务端代码和之前一样，但需要保证 ECharts 版本号在 5.5.0 以上。</p><pre><code>//&nbsp;服务端代码
const&nbsp;echarts&nbsp;=&nbsp;require('echarts');

//&nbsp;在&nbsp;SSR&nbsp;模式下第一个参数不需要再传入&nbsp;DOM&nbsp;对象
const&nbsp;chart&nbsp;=&nbsp;echarts.init(null,&nbsp;null,&nbsp;{
&nbsp;&nbsp;renderer:&nbsp;'svg',&nbsp;//&nbsp;必须使用&nbsp;SVG&nbsp;模式
&nbsp;&nbsp;ssr:&nbsp;true,&nbsp;//&nbsp;开启&nbsp;SSR
&nbsp;&nbsp;width:&nbsp;400,&nbsp;//&nbsp;需要指明高和宽，如果是根据客户端容器大小动态的，该值需要从客户端得到
&nbsp;&nbsp;height:&nbsp;300
});

//&nbsp;像正常使用一样&nbsp;setOption
chart.setOption({
&nbsp;&nbsp;//...
});

//&nbsp;输出字符串
const&nbsp;svgStr&nbsp;=&nbsp;chart.renderToSVGString();

//&nbsp;调用&nbsp;dispose&nbsp;以释放内存
chart.dispose();
chart&nbsp;=&nbsp;null;

//&nbsp;通过 HTTP Response 返回 svgStr 给前端或者缓存到本地（这里以 Express.js 为例）：
res.writeHead(200,&nbsp;{
&nbsp;&nbsp;'Content-Type':&nbsp;'application/xml'
});
res.write(svgStr);
res.end();

</code></pre><p>客户端将得到的 SVG 字符串添加到容器中，并绑定轻量运行时：</p><pre><code>&lt;div&nbsp;id="chart-container"&nbsp;style="width:800px;height:600px"&gt;&lt;/div&gt;

&lt;script&nbsp;src="https://cdn.jsdelivr.net/npm/echarts/ssr/client/dist/index.js"&gt;&lt;/script&gt;
&lt;script&gt;
const&nbsp;ssrClient&nbsp;=&nbsp;window['echarts-ssr-client'];

let&nbsp;isSeriesShown&nbsp;=&nbsp;{
&nbsp;&nbsp;a:&nbsp;true,
&nbsp;&nbsp;b:&nbsp;true
};

function&nbsp;updateChart(svgStr)&nbsp;{
&nbsp;&nbsp;const&nbsp;container&nbsp;=&nbsp;document.getElementById('chart-container');
&nbsp;&nbsp;container.innerHTML&nbsp;=&nbsp;svgStr;

&nbsp;&nbsp;//&nbsp;使用轻量运行时赋予图表交互能力
&nbsp;&nbsp;ssrClient.hydrate(main,&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;on:&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;click:&nbsp;(params)&nbsp;=&gt;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(params.ssrType&nbsp;===&nbsp;'legend')&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;点击图例元素，请求服务器进行二次渲染
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isSeriesShown[params.seriesName]&nbsp;=&nbsp;!isSeriesShown[params.seriesName];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fetch('...?series='&nbsp;+&nbsp;JSON.stringify(isSeriesShown))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.then(res&nbsp;=&gt;&nbsp;res.text())
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.then(svgStr&nbsp;=&gt;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updateChart(svgStr);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;});
}

//&nbsp;通过&nbsp;AJAX&nbsp;请求获取服务端渲染的&nbsp;SVG&nbsp;字符串
fetch('...')
&nbsp;&nbsp;.then(res&nbsp;=&gt;&nbsp;res.text())
&nbsp;&nbsp;.then(svgStr&nbsp;=&gt;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;updateChart(svgStr);
&nbsp;&nbsp;});
&lt;/script&gt;
</code></pre><p>客户端轻量运行时必须配合 SVG 形式的服务端渲染结果使用，支持以下交互：</p><ul><li><p>图表初始动画（实现原理：服务端渲染的 SVG 带有 CSS 动画）</p></li><li><p>高亮样式（实现原理：服务端渲染的 SVG 带有 CSS 动画）</p></li><li><p>动态改变数据（实现原理：轻量运行时请求服务器进行二次渲染）</p></li><li><p>点击图例切换系列是否显示（实现原理：轻量运行时请求服务器进行二次渲染）</p></li></ul><p>可以发现，这能够满足大部分的交互场景需求。如果需要更复杂的交互，则客户端需要加载&nbsp;<code>echarts.js</code>&nbsp;实现完整功能。</p><p>完整的介绍请参见官网使用手册的「应用篇 - 跨平台方案 - 服务端渲染」。</p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 02:59:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279907/echarts-5-5-0</guid>
            <link>https://www.oschina.net/news/279907/echarts-5-5-0</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Elasticsearch 8.12.2 发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="background-color:#ffffff"><span style="color:#333333">Elasticsearch 是一个基于 Lucene 库的搜索引擎。它提供了一个分布式、支持多租户的全文搜索引擎，具有 HTTP Web 接口和无模式 JSON 文档。Elasticsearch 基于 Java 开发，并在 SSPL + Elastic License 双重授权许可下作为开源软件发布。</span></span></p><p>Elasticsearch 8.12.2 现已发布<span style="background-color:#ffffff"><span style="color:#333333">，具体更新内容如下：</span></span></p><h4 style="margin-left:0px; margin-right:0px; text-align:left"><strong><span style="color:#212529"><span style="background-color:#ffffff">Bug 修复</span></span></strong></h4><div style="text-align:left"><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Application</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">修复因<code>rule_query</code>中<code>text_expansion</code>未重写而出错的&nbsp;bug&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105365" target="_blank">#105365</a></span></span></li><li><span style="color:#212529"><span style="background-color:#ffffff">[Connectors API] 修复爬虫配置解析和<code>sync_now</code>flag 的错误<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105024" target="_blank">#105024</a></span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Authentication</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">在重新加载 JWT 共享密钥之前验证设置<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105070" target="_blank">#105070</a></span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Downsampling</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">更好地处理未分配源索引的 Downsampling 问题，并修复检索最后处理的 tsid 的错误&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105228" target="_blank">#105228</a></span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>ES|QL</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">ESQL：如果可能，将 CIDR_MATCH 推送到 Lucene&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105061" target="_blank">#105061</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F105042" target="_blank">#105042</a>）</span></span></li><li><span style="color:#212529"><span style="background-color:#ffffff">ES|QL：修复错误日期模式的<code>date_parse</code>异常处理<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105048" target="_blank">#105048</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104124" target="_blank">#104124</a>）</span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Indices APIs</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">始终显示可组合索引模板的<code>composed_of</code>字段<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105315" target="_blank">#105315</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104627" target="_blank">#104627</a>）</span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Ingest Node</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">从<code>LogstashInternalBridge</code>回传稳定的<code>ThreadPool</code>constructor&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105165" target="_blank">#105165</a></span></span></li><li><span style="color:#212529"><span style="background-color:#ffffff">在 enrich runner 中强化索引映射参数检查<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105096" target="_blank">#105096</a></span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Machine Learning</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">修复禁用机器学习的节点的<code>ml.config_version</code>节点属性处理<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105066" target="_blank">#105066</a></span></span></li><li><span style="color:#212529"><span style="background-color:#ffffff">修复 XLM Roberta tokenizer 中代理对的处理&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105183" target="_blank">#105183</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104626" target="_blank">#104626</a>、<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104981" target="_blank">#104981</a>）</span></span></li><li><span style="color:#212529"><span style="background-color:#ffffff">推理服务应在关闭期间拒绝任务&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105213" target="_blank">#105213</a></span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Network</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">在客户端取消时关闭<code>currentChunkedWrite</code><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105258" target="_blank">#105258</a></span></span></li><li><span style="color:#212529"><span style="background-color:#ffffff">修复关闭后发送的 HTTP 响应泄漏<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105293" target="_blank">#105293</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104651" target="_blank">#104651</a>）</span></span></li><li><span style="color:#212529"><span style="background-color:#ffffff">修复 HTTP 响应关闭处理中的&nbsp;race&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105306" target="_blank">#105306</a></span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Search</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">Field-caps 应该从 up-to-dated shards&nbsp;中读取字段<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105153" target="_blank">#105153</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104809" target="_blank">#104809</a>）</span></span></li></ul></div><p><strong><span style="color:#212529"><span style="background-color:#ffffff">Snapshot/Restore</span></span></strong></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">完成由 shard snapshot&nbsp;updates 完成的所有&nbsp;snapshots&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105245" target="_blank">#105245</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104939" target="_blank">#104939</a>）</span></span></li></ul></div><p><span style="color:#212529"><span style="background-color:#ffffff"><strong>Transform</strong></span></span></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">触发<code>ABORTING</code>转换时不记录警告&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F105234" target="_blank">#105234</a>（issue&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F105233" target="_blank">#105233</a>）</span></span></li><li><span style="background-color:#ffffff">让</span><span style="color:#212529"><span style="background-color:#ffffff"><code>_reset</code></span></span><span style="background-color:#ffffff"><span style="color:#212529">动作在</span></span><span style="background-color:#ffffff"><span style="color:#212529">不强制的情况下</span></span><span style="background-color:#ffffff"><span style="color:#212529">停止&nbsp;</span><span style="color:#212529">transforms</span><span style="color:#212529"> #&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F104870" target="_blank">104870</a><span style="color:#212529">（issue&nbsp;</span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F100596" target="_blank">#100596</a><span style="color:#212529">、</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fissues%2F104825" target="_blank">#104825</a><span style="background-color:#ffffff"><span style="color:#212529">）</span></span></li></ul></div></div><h4 style="margin-left:0px; margin-right:0px; text-align:left"><strong><span style="color:#212529"><span style="background-color:#ffffff">Enhancements</span></span></strong></h4><div style="text-align:left"><p><strong><span style="color:#212529"><span style="background-color:#ffffff">IdentityProvider</span></span></strong></p><div><ul><li><span style="color:#212529"><span style="background-color:#ffffff">在 IdP 插件<code>_has_privileges</code>请求中包含用户的权限操作<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F104026" target="_blank">#104026</a></span></span></li></ul></div></div><p style="margin-left:0; margin-right:0; text-align:left"><span style="color:#333333"><span style="background-color:#ffffff"><span style="color:#212529">详情可</span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.elastic.co%2Fguide%2Fen%2Felasticsearch%2Freference%2F8.11%2Frelease-notes-8.11.4.html" target="_blank">查看更新说明</a><span style="background-color:#ffffff"><span style="color:#212529">。</span></span></span></p><p style="margin-left:0; margin-right:0; text-align:left"><span style="color:#333333"><span style="background-color:#ffffff"><span style="color:#333333"><span style="color:#212529"><span style="background-color:#ffffff">下载地址：</span></span></span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Felastic.co%2Fdownloads%2Felasticsearch" target="_blank">https://elastic.co/downloads/elasticsearch</a></span></p></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 02:35:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279899/elasticsearch-8-12-2-released</guid>
            <link>https://www.oschina.net/news/279899/elasticsearch-8-12-2-released</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[🎉Laravel + Vue3 前后端分离后端框架 CatchAdmin v3.1.9 发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><h1>介绍</h1><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><code>CatchAdmin</code><span>&nbsp;</span>是一款基于<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flaravel.com%2F" target="_blank">Laravel</a><span>&nbsp;</span>和<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Felement-plus.org%2F" target="_blank">Element Plus</a><span>&nbsp;</span>二次开发而成后台管理系统。<code>Laravel</code><span>&nbsp;</span>社区也有许多非常优秀的后台管理系统，例如<span>&nbsp;</span><code>Nova</code>, 官方出品，当然是收费的，免费的有基于<span>&nbsp;</span><code>Livewire</code><span>&nbsp;</span>的<span>&nbsp;</span><code>Filament</code>，还有不得不说的<span>&nbsp;</span><code>Laravel Admin</code>。<code>CatchAdmin</code><span>&nbsp;</span>还是采用传统的前后端分离策略，<code>Laravel</code><span>&nbsp;</span>框架仅仅作为<span>&nbsp;</span><code>Api</code><span>&nbsp;</span>输出。将管理系统模块之间的耦合降到了最低限度。每个模块之间都有独立的控制器，路由，模型，数据表。在开发上尽可能将模块之间的影响降到最低，降低了开发上的难度。基于<span>&nbsp;</span><code>CatchAdmin<span>&nbsp;</span></code><span>&nbsp;</span>可以开发<span>&nbsp;</span><code>CMS</code>，<code>CRM</code>，<code>OA</code><span>&nbsp;</span>等，等系统。也封装了很多实用的工具，提升开发体验。</p><h2>V3.1.9 日志</h2><ul><li>修复模型时间戳错误</li><li>修复角色选择数据权限报错</li><li>优化账户禁用功能</li><li>修复修复 ElementPlus 语言错误</li><li>修复菜单组件更新错误</li><li>修复模块路由初始化错误</li><li>修复菜单 action loading 错误</li><li>修复安装权限模块</li><li>重构项目安装指令</li><li>更多....</li></ul><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>视频</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1jP41127aW%2F" target="_blank">catchadmin 模块创建</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1Qh4y1J7eB%2F" target="_blank">catchadmin 之快速开发</a></p><h2>功能<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcatchadmin.com%2Fdocs%2F3.0%2Fintro%23%25E5%258A%259F%25E8%2583%25BD" target="_blank">​</a></h2><ul><li><span>&nbsp;</span>用户管理，后台用户管理</li><li><span>&nbsp;</span>部门管理，配置公司的部门结构，支持树形结构</li><li><span>&nbsp;</span>岗位管理，配置后台用户的职务</li><li><span>&nbsp;</span>菜单管理，配置系统菜单，按钮等等</li><li><span>&nbsp;</span>角色管理，配置用户担当的角色，分配权限</li><li><span>&nbsp;</span>操作日志，后台用户操作记录</li><li><span>&nbsp;</span>登录日志，后台系统用户的登录记录</li><li><span>&nbsp;</span>代码生成，生成 API 端的 CURD 操作</li><li><span>&nbsp;</span>Schema 管理，生成表结构</li><li><span>&nbsp;</span>模块管理，系统模块管理</li></ul><h2>额外模块<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcatchadmin.com%2Fdocs%2F3.0%2Fintro%23%25E9%25A2%259D%25E5%25A4%2596%25E6%25A8%25A1%25E5%259D%2597" target="_blank">​</a></h2><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fcatch-admin%2Fcms" target="_blank">CMS 模块</a></li></ul><h2>项目地址<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcatchadmin.com%2Fdocs%2F3.0%2Fintro%23%25E9%25A1%25B9%25E7%259B%25AE%25E5%259C%25B0%25E5%259D%2580" target="_blank">​</a></h2><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fjaguarjack%2Fcatch-admin" target="_blank">github 地址</a></li><li><a href="https://gitee.com/jaguarjack/catchAdmin" target="_blank">gitee 地址</a></li></ul><h2>预览<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcatchadmin.com%2Fdocs%2F3.0%2Fintro%23%25E9%25A2%2584%25E8%25A7%2588" target="_blank">​</a></h2><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img alt="zRrjNd.png" src="https://i.imgtg.com/2023/02/16/dASpg.png" referrerpolicy="no-referrer"><span>&nbsp;</span><img alt="zRsAEQ.png" src="https://i.imgtg.com/2023/02/16/dAsKK.png" referrerpolicy="no-referrer"><span>&nbsp;</span><img alt="zRsUv6.png" src="https://i.imgtg.com/2023/02/16/dA0fB.png" referrerpolicy="no-referrer"><span>&nbsp;</span><img alt="zRsV4s.png" src="https://i.imgtg.com/2023/02/16/dAd5s.png" referrerpolicy="no-referrer"></p><h2>体验地址<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcatchadmin.com%2Fdocs%2F3.0%2Fintro%23%25E4%25BD%2593%25E9%25AA%258C%25E5%259C%25B0%25E5%259D%2580" target="_blank">​</a></h2><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fv3.catchadmin.com%2F" target="_blank">demo 地址</a></p><ul><li>账户:<span>&nbsp;</span><code>catch@admin.com</code></li><li>密码:<span>&nbsp;</span><code>catchadmin</code></li></ul><h2>感谢🙏<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcatchadmin.com%2Fdocs%2F3.0%2Fintro%23%25E6%2584%259F%25E8%25B0%25A2" target="_blank">​</a></h2><blockquote><p style="margin-left:0; margin-right:0">排名不分先后</p></blockquote><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Flaravel.com%2F" target="_blank">Laravel</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcn.vuejs.org%2F" target="_blank">Vue</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Felement-plus.org%2F" target="_blank">ElementPlus</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocusaurus.com%2F" target="_blank">Docusaurus</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.jetbrains.com%2F" target="_blank">JetBrains</a></li></ul></div>
                                    ]]>
            </description>
            <pubDate>Fri, 23 Feb 2024 00:32:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279874</guid>
            <link>https://www.oschina.net/news/279874</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[国产数据库管理工具 CloudDM v2.4.5 发布，支持更多数据库对象查看功能]]>
            </title>
            <description>
                <![CDATA[<div class="content"><div><div><p style="margin-left:0; margin-right:0"><span>CloudDM<span>&nbsp;</span></span><span style="color:#333333">是<span>&nbsp;</span></span><span>ClouGence</span><span style="color:#333333"><span>&nbsp;</span>公司推出的一款</span><strong><span>一站式多数据源开发管理工具</span></strong><span style="color:#333333">，使用它可以方便地访问和管理<span>&nbsp;</span></span><span>MySQL、Oracle、PostgreSQL、阿里云 RDS、Greenplum、TiDB、Redis、StarRocks、Doris、SelectDB、SQL SERVER、ClickHouse、OceanBase 、PolarDB-X 、IBM Db2 等多种不同类型的数据库。通过 CloudDM 丰富的数据源支持可以避免在多个专业工具之间切换，从而提高工作效率。</span></p><p style="margin-left:0; margin-right:0"><span>它是本地化的应用程序，没有后台进程。和<span>&nbsp;</span></span><strong><span>DataGrip</span></strong><span>、</span><strong><span>Navicat</span></strong><span><span>&nbsp;</span>一样在安装完成后，只需要双击应用程序图标，便可以方便的管理位于本地计算机或远程计算机上的数据库。已经支持<span>&nbsp;</span></span><strong><span>Windows</span></strong><span>、</span><strong><span>MacOS</span></strong><span><span>&nbsp;</span>和<span>&nbsp;</span></span><strong><span>Linux</span></strong><span><span>&nbsp;</span>主流操作系统。</span></p></div></div><p style="color:#333333; margin-left:0; margin-right:0; text-align:center"><img src="https://oscimg.oschina.net/oscnet/up-c0a92ca7654a775e970ab24569abe3fe44d.png" referrerpolicy="no-referrer"></p><div><div><h2><span>更新内容</span></h2><div><ul><li><span>[新增]</span><div><ul><li><span>新增 Dameng 数据库查看同义词列表功能</span></li><li><span>新增 Db2、Dameng 等数据库查看存储过程列表功能</span></li><li><span>新增 Db2、Dameng、Greenplum、Doris 等数据库查看函数列表功能</span></li><li><span>新增 Db2、Dameng、Greenplum 等数据库查看物化视图列表功能</span></li><li><span>新增 Db2、Dameng、Greenplum 等数据库查看序列列表功能</span></li><li><span>新增 Db2、Dameng、Greenplum 等数据库查看触发器列表功</span></li></ul></div></li><li><span style="color:#333333">[修复]</span><ul><li><span>修复，连接 Oracle 数据库时，出现命令未正确结束的问题</span></li><li><span>修复 DB2 数据库编辑数据功能数据展示错误的问题</span></li><li><span>修复 DB2 数据库双击表时生成的 SQL 查询语句错误的问题</span></li><li><span>修复 SQL SERVER 数据库使用子账号连接后，数据库数量不能正确展示的问题</span></li></ul></li></ul></div></div><h2><span>下载与反馈</span></h2><ul><li><span>产品官网：</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.clougence.com%2Fclouddm-personal" target="_blank"><span>https://www.clougence.com/clouddm-personal</span></a></li><li><span>问题反馈：</span><a href="https://gitee.com/clougence/clouddm-issue/issues" target="_blank"><span>https://gitee.com/clougence/clouddm-issue/issues</span></a></li><li>Release Node：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.clougence.com%2Fdmp-doc%2Freleaseinfo%2Fdesktop_2_4_5" target="_blank">https://www.clougence.com/dmp-doc/releaseinfo/desktop_2_4_5</a></li><li><span style="color:#333333">微信交流群：访问产品官网，扫描右侧二维码即可加</span></li></ul></div></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 10:10:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279826/clouddm-2-4-5-released</guid>
            <link>https://www.oschina.net/news/279826/clouddm-2-4-5-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[WinSCP 6.3.1 发布，Windows 图形化 SFTP 客户端]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="color:#000000">WinSCP 是一个 Windows 环境下使用的&nbsp;SSH&nbsp;的开源图形化&nbsp;SFTP&nbsp;客户端，同时支持&nbsp;SCP&nbsp;协议，它的主要功能是在本地与远程计算机间安全地复制文件，并且可以直接编辑文件。</span></p><p style="color:#000000; margin-left:0; margin-right:0; text-align:start">目前，WinSCP 6.3.1 已经发布。该版本具体更新内容如下：</p><ul><li>翻译已完成： 挪威语。</li><li>错误修复：使用 SFTP 版本 5 及更高版本重命名文件时，SFTP 数据包编码错误。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwinscp.net%2Ftracker%2F2259" target="_blank">2259</a></li><li>错误修复：尝试在不支持的服务器上通过校验和同步文件时失败。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwinscp.net%2Ftracker%2F2260" target="_blank">2260</a></li><li>错误修复：关闭 FTP&nbsp;TLS&nbsp;1.3 连接时随机挂起/失败。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwinscp.net%2Ftracker%2F2261" target="_blank">2261</a></li><li>错误修复：无法在登录对话框上使用 IPv6 literal 作为 hostname。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwinscp.net%2Ftracker%2F2263" target="_blank">2263</a></li></ul><p><span style="background-color:#ffffff; color:#000000"><span style="background-color:#ffffff">更新说明</span></span><span style="background-color:#ffffff; color:#333333">：</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwinscp.net%2Feng%2Fdocs%2Fhistory%236.3.1" target="_blank">https://winscp.net/eng/docs/history#6.3.1</a></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 09:55:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279822/winscp-6-3-1-released</guid>
            <link>https://www.oschina.net/news/279822/winscp-6-3-1-released</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[BeeV2.4.0 日期分片支持，支持 ElasticSearch 查询，SQL 链式编程防止注入攻击]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="color:#2980b9">Hibernate/MyBatis+ plus +Sharding JDBC + Jpa+ Spring data+ GraphQL+ App ORM (Android, 鸿蒙)=<span>&nbsp;</span></span><span style="color:#e67e22">Bee</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><span style="color:#c0392b"><strong>小巧玲珑！仅 860K, 还不到 1M, 但却是功能强大！</strong></span></p><h3><strong>V2.4.0.2 (2024 元宵节)</strong></h3><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><span style="background-color:#ffffff; color:#40485b">1.chaing SQL 编程支持占位符预编译,防止注入攻击;增加 update,delete 的 chaing 编程支持</span><br><span style="background-color:#ffffff; color:#40485b">2.没有指定表名则不放缓存</span><br><span style="background-color:#ffffff; color:#40485b">3.添加 Calculate 默认日期分片实现，添加自定义分片实现样例</span><br><span style="background-color:#ffffff; color:#40485b">4.支持 ElasticSearch(7.x) ORM 查询 (Q 群 992650213)</span><br><span style="background-color:#ffffff; color:#40485b">5.自定义 sql(PreparedSql) 增加关联表名的方法,让自定义 sql 中,方法没带实体 T 的,也能纳入缓存管理</span><br><span style="background-color:#ffffff; color:#40485b">6.MongoDB 根据表生成 Javabean,支持生成默认注解</span></p><p>&nbsp;</p><h1><a href="https://my.oschina.net/u/4111850/blog/10759889">一文搞懂数据库分片：分库分表，只分库不分表，只分表不分库...</a></h1><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://my.oschina.net/u/4111850/blog/10759889">https://my.oschina.net/u/4111850/blog/10759889</a></p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">支持各种分片模式:</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">1. 分库分表<br> 2. 仅分库<br> 3. 仅分表<br> 4. 使用日期的字段作为分片键<br> 5. 不规则，通过自定义设置映射</p><p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong><span style="background-color:#fafafb">自动生成 Spring Boot 后端微服务代码，几秒钟即可完成，秒杀 GPT.</span></strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/automvc/gencode">https://gitee.com/automvc/gencode</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>下期功能预告:</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>Bee 已经是一个功能很齐全的 ORM 啦，</strong><span>&nbsp;</span>你还想添加什么功能，请到评论区告诉我们.<span style="background-color:#ffffff; color:#40485b"><span>&nbsp;</span>扣群 (</span><strong>992650213</strong><span style="background-color:#ffffff; color:#40485b">)</span>!</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">&nbsp;</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">项目首页:</p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/automvc/bee" target="_blank">https://gitee.com/automvc/bee</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fautomvc%2Fbee" target="_blank">https://github.com/automvc/bee</a></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/automvc/bee-springboot">https://gitee.com/automvc/bee-springboot</a></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 09:21:01 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279815/bee-2-4-0-released</guid>
            <link>https://www.oschina.net/news/279815/bee-2-4-0-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Longhorn 1.6.0 发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="color:#000000">Longhorn 1.6.0 版本现已<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FOhHYIrOKeL7BMg3I9L9LWA" target="_blank">发布</a>。公告称，此次发布标志着性能提升和多平台支持方面的重要进展。本次更新引入了众多新功能和改进，包括备受期待的 Longhorn Data Engine version 2.0 的功能预览、Talos 支持以及对系统稳定性、性能和弹性的增强。</span></p><h4><strong><span style="color:#000000">Longhorn Data Engine version 2.0（技术预览）</span></strong></h4><p><span style="color:#000000">Longhorn Data Engine version 2.0（v2 Data Engine）的核心功能得到了显著增强；现在你可以在版本 1 和 2 数据引擎之间无缝执行卷备份和还原操作，为将来在两个数据引擎之间进行卷迁移铺平了道路。</span></p><p><span style="color:#000000">Longhorn 的 V2 数据引擎利用 SPDK 的强大功能提升了整体性能。这种集成显著降低了 I/O 延迟，同时提高了 IOPS 和吞吐量。该增强提供了一种能够满足各种工作负载需求的高性能存储解决方案。</span></p><p><strong><span style="color:#000000">Longhorn 性能 - IOPS：</span></strong></p><p><img height="405" src="https://oscimg.oschina.net/oscnet/up-8543066123c6c22c2ed4426bf5b3d7e21d7.png" width="500" referrerpolicy="no-referrer"></p><p><span style="color:#000000">与 V1 引擎相比，Longhorn 的写入性能提高了 2 到 4 倍，随机读性能提高了 2 到 3 倍，单副本的 IOPS 与本地磁盘相当。</span></p><p><strong><span style="color:#000000">Longhorn 性能 - 延迟：</span></strong></p><p><img height="406" src="https://oscimg.oschina.net/oscnet/up-51308f632391260a66d3fa853c5c2a86d20.png" width="500" referrerpolicy="no-referrer"></p><p><span style="color:#000000">与 V1 引擎相比，Longhorn 的延迟减少了 50-70%，单个副本的读/写延迟与本地磁盘相当。</span></p><h4><strong><span style="color:#000000">Talos 支持</span></strong></h4><p><span style="color:#000000">Longhorn 旨在无缝运行在通用 Linux 发行版上，以及某些容器优化系统，例如 SLE Micro。针对众多请求，v1.6.0 进行了增强，允许在 Talos 上安装 Longhorn 组件，Talos 是一个安全、不可变且最小化的 Kubernetes 操作系统。v1.6.0 还包括 OKD 支持，感谢社区提供此功能。</span></p><p><span style="color:#000000">Longhorn 团队致力于使 Longhorn 成为自适应存储解决方案，并期待收到你对首选平台的反馈。</span></p><h4><strong><span style="color:#000000">空间效率</span></strong></h4><p><span style="color:#000000">现在，Longhorn 还允许你配置所有卷和特定卷的最大快照数量和最大聚合快照大小。无论是全局应用还是个别应用，这两个设置都有助于空间估算和管理。早期的 Longhorn 版本不提供控制或预测卷快照数量和大小的机制。</span></p><h4><strong><span style="color:#000000">其他重要变化</span></strong></h4><p><span style="color:#000000">Longhorn 1.6.0 发布的其他重要变化包括：</span></p><ul><li><span style="color:#000000">Longhorn 已经通过了主流的 GitOps 解决方案的验证，包括 Flux、Argo CD 和 Fleet；</span></li><li><span style="color:#000000">支持 block volume 加密；</span></li><li><span style="color:#000000">两个新的 node drain 策略选项：阻止驱逐和如果包含最后一个副本则阻止驱逐；</span></li><li><span style="color:#000000">后端镜像管理，允许创建和恢复后端镜像的备份。</span></li></ul></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 07:45:17 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279788/longhorn-1-6-0-released</guid>
            <link>https://www.oschina.net/news/279788/longhorn-1-6-0-released</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[夜莺监控 V7 第一个 beta 版本来了]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>夜莺项目从 2024 开始开发 V7 版本，重点做体验优化，V7 和 V6 版本兼容可以平滑升级<span style="background-color:#ffffff; color:#333333">（V6 升级到 V7 只需要替换一下二进制重启即可，如果是容器部署，只需要更新镜像并重启）</span>，今天发布第一个 beta，此 beta 版本的优化项包括：</p><ul><li>全站暗黑主题</li><li>优化边缘机房机器失联告警的实现逻辑，真正做到边缘机房告警自闭环</li><li>优化内置大盘、内置告警规则的列表页面 UI</li><li>全局回调地址页面展示优化，增加详尽的文档提示信息</li></ul><p><span style="background-color:#ffffff; color:#333333">更多优化项正在开发中，V5、V6 用户可以放心升级，V7 会是一个更好的版本。升级之前记得备份以防万一。</span></p><h2>项目介绍</h2><p style="color:#333333; text-align:left">夜莺监控是一款开源云原生观测分析工具，采用 All-in-One 的设计理念，集数据采集、可视化、监控告警、数据分析于一体，与云原生生态紧密集成，提供开箱即用的企业级监控分析和告警能力。夜莺于 2020 年 3 月 20 日，在 github 上发布 v1 版本，已累计迭代 100 多个版本。</p><p style="color:#333333; text-align:left">夜莺最初由滴滴开发和开源，并于 2022 年 5 月 11 日，捐赠予中国计算机学会开源发展委员会（CCF ODC），为 CCF ODC 成立后接受捐赠的第一个开源项目。夜莺的核心研发团队，也是 Open-Falcon 项目原核心研发人员，从 2014 年（Open-Falcon 是 2014 年开源）算起来，也有 10 年了，只为把监控这个事情做好。</p><h2>项目截图</h2><p style="color:#333333; text-align:left"><img alt="20240221141801" src="https://download.flashcat.cloud/ulric/20240221141801.png" referrerpolicy="no-referrer"></p><p style="color:#333333; text-align:left"><img alt="20240221141817" src="https://download.flashcat.cloud/ulric/20240221141817.png" referrerpolicy="no-referrer"></p><h2>项目代码</h2><ul><li>后端：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fccfos%2Fnightingale" target="_blank">💡 https://github.com/ccfos/nightingale</a></li><li>前端：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fn9e%2Ffe" target="_blank">💡 https://github.com/n9e/fe</a></li></ul><p style="color:#333333; text-align:left">夜莺项目已收获 8000 多 github stars，1000 多 forks，100 多 contributors 参与其中，欢迎大家在<span>&nbsp;</span><strong><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fccfos%2Fnightingale" target="_blank"><strong>GitHub</strong></a></strong><span>&nbsp;</span>上关注夜莺项目，及时获取项目更新动态，有任何问题，也欢迎提交 issues，以及提交 pull requests，开源社区需要大家一起参与才能有蓬勃的生命力。</p><p>&nbsp;</p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 04:15:52 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279741/nightingale-7-0-0-beta-0-released</guid>
            <link>https://www.oschina.net/news/279741/nightingale-7-0-0-beta-0-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[gRPC 1.62.0 发布，跨语言 RPC 框架]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="background-color:#ffffff; color:#333333">gRPC 是可以在任何环境中运行的现代开源高性能 RPC 框架。gRPC 1.62.0 现已发布，包含了一些完善、改进和错误修复；具体更新内容如下：</span></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>Core</strong></p><ul><li>[metadata] 允许非应用程序/grpc 内容类型值。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35824" target="_blank">#35824</a>&nbsp;)</li><li>[BoringSSL] 更新 third_party/boringssl-with-bazel。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35768" target="_blank">#35768</a>&nbsp;)</li><li>[GPR] 删除了 GPR_BACKWARDS_COMPATIBILITY_MODE。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35602" target="_blank">#35602</a>&nbsp;)</li></ul><p style="text-align:start"><strong><span><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>Python</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><ul><li><p>[Build] 剥离 armv7 工件。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35832" target="_blank">#35832</a>&nbsp;)</p></li><li><p>[Python AIO] 获取当前循环时处理 DeprecationWarnings。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35583" target="_blank">#35583</a>&nbsp;)</p></li><li><p>[Python AIO] 如果超出并发 RPC 限制，则会引发 resource_exhausted 错误。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35376" target="_blank">#35376</a>&nbsp;)</p></li><li><p>[Python O11y] 构建并分发 O11y 包。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35578" target="_blank">#35578</a>&nbsp;)</p></li><li><p>[Python setuptools] 从 distutils 中导入低版本 setuptools 时出错。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35561" target="_blank">#35561</a>&nbsp;)</p></li><li><p>[ruby] 修复 use-after-free for post-fork channel recreation。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35488" target="_blank">#35488</a>&nbsp;)</p></li></ul><p style="text-align:start"><strong><span><span><span><span><span style="color:#1f2328"><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>Ruby</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><ul><li>[ruby] 构建/测试 ruby​​ 3.3 并构建具有 Ruby 3.3 支持的&nbsp;native gem<span style="background-color:#ffffff; color:#1f2328">s</span>。(&nbsp;<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Fpull%2F35399" target="_blank">#35399</a>&nbsp;)</li></ul><p>更新说明：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc%2Freleases%2Ftag%2Fv1.62.0" target="_blank">https://github.com/grpc/grpc/releases/tag/v1.62.0</a></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 02:48:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279723/grpc-1-62-0-released</guid>
            <link>https://www.oschina.net/news/279723/grpc-1-62-0-released</link>
            <author>
                <![CDATA[来源: OSCHINA]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[Spring Cloud Tencent 1.13 版本发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p>开发者们，大家好！</p><p>Spring Cloud Tencent 1.13 版本现已发布，支持 Spring Cloud 2022、2021、2020、Hoxton 版。</p><p>一、发布项列表：</p><p>1. 1.13.1-2022.0.4<br> 2. 1.13.1-2021.0.9<br> 3. 1.13.1-2020.0.6<br> 4. 1.13.1-Hoxton.SR12</p><p>二、主要更新列表：</p><p>1. 支持配置加密。参考文档：https://polarismesh.cn/docs/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/%E6%8E%A7%E5%88%B6%E5%8F%B0%E4%BD%BF%E7%94%A8/%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/%E9%85%8D%E7%BD%AE%E5%8A%A0%E5%AF%86/<br> 2. 支持服务契约上报。参考文档：https://github.com/Tencent/spring-cloud-tencent/wiki/%E6%9C%8D%E5%8A%A1%E5%A5%91%E7%BA%A6<br> 3. Feign 调用下的服务路由支持 cookie 参数的判断。<br> 4. 支持熔断规则的 actuator 端点。参考文档：https://github.com/Tencent/spring-cloud-tencent/wiki/Actuator-Endpoint-%E6%89%A9%E5%B1%95#6-%E6%9C%8D%E5%8A%A1%E7%86%94%E6%96%AD%E7%AB%AF%E7%82%B91130-%E7%89%88%E6%9C%AC%E5%BC%80%E5%A7%8B%E6%8F%90%E4%BE%9B<br> 5. 支持配置日志输出路径。相关配置：spring.cloud.polaris.logging.path<br> 6. 支持 SCT 应用使用 spring-retry 组件的正常功能。<br> 7. 支持 SCT 应用使用 spring-cloud-starter-sleuth 组件的正常功能。<br> 8. 更新 example 代码结构，并使用 spring-cloud-starter-tencent-all 依赖展示功能。</p><p>三、后续计划</p><p>1. 支持 Spring Cloud 2023 。<br> 2. 支持服务发现零实例保护。<br> 3. 支持优雅上下线。<br> 4. 动态配置支持多个文件分组的默认配置文件的读取。<br> 5. 支持服务鉴权。<br> 6. 支持腾讯云就近路由。<br> 7. 支持 graalvm native-image 。</p><p><br> 欢迎大家使用体验、Star、Fork、Issue，也欢迎大家参与 Spring Cloud Tencent 开源共建！</p><p>仓库地址：https://github.com/Tencent/spring-cloud-tencent<br> 项目文档：https://github.com/Tencent/spring-cloud-tencent/wiki<br> 往期发布：https://github.com/Tencent/spring-cloud-tencent/releases</p><p>如果您的组织或者项目正在使用或试用 Spring Cloud Tencent，建议您在下方 ISSUE 填写相关信息，以便获取更多技术支持。</p><p>https://github.com/Tencent/spring-cloud-tencent/issues/200</p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 02:25:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279718/spring-cloudtencent-1-13-released</guid>
            <link>https://www.oschina.net/news/279718/spring-cloudtencent-1-13-released</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[PlayEdu 1.6 发布，企业内部培训解决方案]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">PlayEdu 是基于 SpringBoot3 + Java17 + React18 开发的企业内部培训系统。它专注于提供私有化部署方案，包括视频，图片等资源的内网部署。目前主要支持有本地视频上传播放、学员邮箱登录、无限级部门、无限级资源分类、学员在线学习等主要功能。</p><h3>更新</h3><ul><li>新增：[后台]视频上传最小化悬浮窗</li><li>新增：[后台]线上课创建人字段</li><li>新增：[后台]弹窗组件加载增加 loading</li><li>新增：[后台]系统版本号</li><li>新增：[H5]主页面下拉刷新</li><li>优化：[后台]去除学员身份证号字段并移除关联权限</li><li>优化：[PC]线上课课程详情 tab 交互</li><li>优化：[PC]首页学习时间不显示天数</li><li>优化：[PC]删除无用的 js 依赖</li><li>优化：[PC]安全退出登录</li><li>优化：[PC]系统错误提示</li><li>优化：[PC]部门切换缓存</li><li>优化：[后台]网站设置标题优化</li><li>优化：[后台]删除无用的依赖</li><li>优化：[后台]删除资源选择器上传资源的按钮</li><li>优化：[H5]删除无用依赖</li><li>修复：[PC]pnpm build 和 dev 报错</li><li>修复：[后台]pnpm build 和 dev 报错</li><li>修复：[H5]pnpm build 和 dev 报错</li><li>修复：[H5]iPhone 端底部标签栏悬浮 bug</li><li>修复：LDAP 用户读取。现已支持分页读取数据</li><li>修复：LDAP 禁用用户不同步信息</li><li>修复：LDAP 禁用禁用禁止登录系统</li></ul><h3>源代码</h3><ul><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fplayedu.xyz" target="_blank">https://playedu.xyz</a></li><li><a href="https://gitee.com/playeduxyz/playedu">https://gitee.com/playeduxyz/playedu</a></li><li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fplayedu%2Fplayedu" target="_blank">https://github.com/playedu/playedu</a></li></ul><h3>页面展示</h3><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="5562" src="https://oscimg.oschina.net/oscnet/up-44c3b6c8e3283b55f0c529870cac27cd92f.png" width="1600" referrerpolicy="no-referrer"></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><img height="6386" src="https://oscimg.oschina.net/oscnet/up-5e034c2138ee40e33e0875bc5185e43c91c.png" width="1600" referrerpolicy="no-referrer"></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 01:51:15 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279704</guid>
            <link>https://www.oschina.net/news/279704</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[高性能 Elasticsearch Java RestClient bboss v7.1.6 发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">高性能 Elasticsearch Java RestClient bboss v7.1.6 发布,<span style="background-color:#ffffff; color:#34495e">ES 小白分分钟上手，功能丰富，涵盖 Elasticsearch 所有功能，多集群多数据源,自动索引托管，多种分页机制，傻瓜级 CRUD，脚本，sql，jdbc，高亮，权重，聚合，IP 地理位置解析，父子嵌套等，应有尽有。</span></p><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt="" height="217" src="https://esdoc.bbossgroups.com/images/client-Elasticsearch.png" width="611" referrerpolicy="no-referrer"></p><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><strong>主要特点：代码简洁，性能高效，客户端负载容灾，兼容性好，易于集成</strong></p><ol><li>A highlevel rest client.</li><li>A high performence o/r mapping rest client.</li><li>A dsl and sql rest client.</li><li>Support Elasticsearch 1.x,2.x,5.x,6.x,7.x,8.x,+</li><li>Support Opensearch 1.x,2.x,+</li><li>Support Spring boot 1.x,2.x,3.x</li><li>可在普通 maven 项目和其他 java 工程中快速集成和使用 bboss</li><li>提供丰富的<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fdocument-crud" target="_blank">crud</a>、分页查询（<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Ffrom-size" target="_blank">from-size</a>/<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2FScroll-SliceScroll-api" target="_blank">scroll/slicescroll</a>/<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fsearch-after" target="_blank">searchafter</a>）、批处理（同步 /<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2FbulkProcessor" target="_blank">异步</a>）API</li><li>API 返回的结果可以是原始 json 报文、PO 对象、List 集合、Map 对象以及分页查询、聚合查询、高亮检索封装对象，亦可以方便获取索引文档 id、score、index、version、type 等文档元数据信息</li></ol><h1><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fchangelog%3Fid%3Dv675-%25e5%258a%259f%25e8%2583%25bd%25e6%2594%25b9%25e8%25bf%259b" target="_blank"><span style="color:#34495e">v7.1.6 功能改进</span></a></h1><ol><li><p style="margin-left:0; margin-right:0">Elasticsearch Client 增加对 spring boot3 的支持，并提供相关案例工程：</p><p style="margin-left:0; margin-right:0"><a href="https://gitee.com/bboss/springboot3-elasticsearch-webservice" target="_blank">https://gitee.com/bboss/springboot3-elasticsearch-webservice</a></p><p style="margin-left:0; margin-right:0"><a href="https://gitee.com/bboss/eshelloword-spring-boot3-starter" target="_blank">https://gitee.com/bboss/eshelloword-spring-boot3-starter</a></p><p style="margin-left:0; margin-right:0"><a href="https://gitee.com/bboss/db-db-job3" target="_blank">https://gitee.com/bboss/db-db-job3</a></p></li><li><p style="margin-left:0; margin-right:0">升级若干第三方依赖开源包版本</p></li></ol><p style="color:#333333; margin-left:0; margin-right:0; text-align:left"><strong>快速开始 bboss</strong></p><p style="color:#333333; margin-left:0; margin-right:0; text-align:left">一般项目导入下面的 maven 座标即可：</p><pre><code><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>dependency</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>groupId</span><span style="color:#525252">&gt;</span></span>com.bbossgroups.plugins<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>groupId</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>artifactId</span><span style="color:#525252">&gt;</span></span>bboss-datatran-jdbc<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>artifactId</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>version</span><span style="color:#525252">&gt;</span></span>7.1.6<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>version</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>dependency</span><span style="color:#525252">&gt;</span></span></code></pre><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">spring boot1.x,2.x 项目还需要导入下面的 maven 座标：</p><pre><code><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>dependency</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>groupId</span><span style="color:#525252">&gt;</span></span>com.bbossgroups.plugins<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>groupId</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>artifactId</span><span style="color:#525252">&gt;</span></span>bboss-elasticsearch-spring-boot-starter<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>artifactId</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>version</span><span style="color:#525252">&gt;</span></span>7.1.6<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>version</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>dependency</span><span style="color:#525252">&gt;</span></span></code></pre><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">spring boot 3.x 项目还需要导入下面的 maven 座标：</p><pre><code><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>dependency</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>groupId</span><span style="color:#525252">&gt;</span></span>com.bbossgroups.plugins<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>groupId</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>artifactId</span><span style="color:#525252">&gt;</span></span>bboss-elasticsearch-spring-boot3-starter<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>artifactId</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;</span>version</span><span style="color:#525252">&gt;</span></span>7.1.6<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>version</span><span style="color:#525252">&gt;</span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">&lt;/</span>dependency</span><span style="color:#525252">&gt;</span></span></code></pre><p style="margin-left:0px; margin-right:0px; text-align:start"><strong><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fquickstart%3Fid%3D_2%25e5%25ae%25a2%25e6%2588%25b7%25e7%25ab%25af%25e7%25bb%2584%25e4%25bb%25b6clientinterface%25e5%25ae%259e%25e4%25be%258b%25e8%258e%25b7%25e5%258f%2596" target="_blank"><span style="color:#34495e">获取</span></a></strong><strong><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fquickstart%3Fid%3D_2%25e5%25ae%25a2%25e6%2588%25b7%25e7%25ab%25af%25e7%25bb%2584%25e4%25bb%25b6clientinterface%25e5%25ae%259e%25e4%25be%258b%25e8%258e%25b7%25e5%258f%2596" target="_blank"><span style="color:#34495e">客户端组件 ClientInterface 实例</span></a></strong></p><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">通过 ElasticSearchHelper 获取 elasticsearch rest client api 实例：</p><pre><code><span style="color:#8e908c">//创建加载配置文件的客户端实例，单实例多线程安全</span>
ClientInterface clientUtil <span>=</span> ElasticSearchHelper<span style="color:#525252">.</span><span style="color:#e96900">getConfigRestClientUtil</span><span style="color:#525252">(</span><span style="color:var(--theme-color,#42b983)">"esmapper/demo.xml"</span><span style="color:#525252">)</span><span style="color:#525252">;</span><span style="color:#8e908c">//创建直接操作 dsl 的客户端实例，单实例多线程安全</span>
ClientInterface clientUtil <span>=</span> ElasticSearchHelper<span style="color:#525252">.</span><span style="color:#e96900">getRestClientUtil</span><span style="color:#525252">(</span><span style="color:#525252">)</span><span style="color:#525252">;</span></code></pre><p><strong>一行代码插入/修改</strong></p><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">// 添加 / 修改文档，如果文档 id 存在则修改，不存在则插入</p><pre><code>clientUtil<span style="color:#525252">.</span><span style="color:#e96900">addDocument</span><span style="color:#525252">(</span><span style="color:var(--theme-color,#42b983)">"agentinfo"</span><span style="color:#525252">,</span><span style="color:#8e908c">//索引名称</span>
                data<span style="color:#525252">)</span><span style="color:#525252">;</span><span style="color:#8e908c">//需添加/修改的索引数据对象，</span>data 可以是一般的 PO 对象，也可以是 Map 对象</code></pre><p><strong>一行代码批量插入/修改文档</strong></p><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">// 添加 / 修改文档，如果文档 id 存在则修改，不存在则插入</p><pre><code>List<span style="color:#e96900"><span style="color:#525252">&lt;</span>AgentInfo<span style="color:#525252">&gt;</span></span> agentInfos <span>=</span><span style="color:#525252">.</span><span style="color:#525252">.</span><span style="color:#525252">.</span><span style="color:#525252">.</span><span style="color:#525252">;</span>
clientUtil<span style="color:#525252">.</span><span style="color:#e96900">addDocuments</span><span style="color:#525252">(</span><span style="color:var(--theme-color,#42b983)">"agentinfo"</span><span style="color:#525252">,</span><span style="color:#8e908c">//索引名称</span>
                datas<span style="color:#525252">)</span><span style="color:#525252">;</span><span style="color:#8e908c">//需批量添加/修改的索引数据对象集合，</span>datas 可以是一般的 PO 对象集合，也可以是 Map 对象集合</code></pre><p><strong>一行代码分页 / 高亮检索</strong></p><pre><code>ESDatas<span style="color:#e96900"><span style="color:#525252">&lt;</span>TAgentInfo<span style="color:#525252">&gt;</span></span> data <span style="color:#8e908c">//ESDatas 为查询结果集对象，封装了返回的当前查询的 List&lt;TAgentInfo&gt;结果集和符合条件的总记录数 totalSize</span><span>=</span> clientUtil<span style="color:#525252">.</span><span style="color:#e96900">searchList</span><span style="color:#525252">(</span><span style="color:var(--theme-color,#42b983)">"trace-*/_search"</span><span style="color:#525252">,</span><span style="color:#8e908c">//查询操作，查询 indices trace-*中符合条件的数据</span><span style="color:var(--theme-color,#42b983)">"queryServiceByCondition"</span><span style="color:#525252">,</span><span style="color:#8e908c">//通过名称引用配置文件中的 query dsl 语句</span>
                                traceExtraCriteria<span style="color:#525252">,</span><span style="color:#8e908c">//查询条件封装对象</span>
                                TAgentInfo<span style="color:#525252">.</span><span style="color:#e96900">class</span><span style="color:#525252">)</span><span style="color:#525252">;</span><span style="color:#8e908c">//指定返回的 po 对象类型，po 对象中的属性与 indices 表中的文档 filed 名称保持一致</span><span style="color:#8e908c">//获取当前页结果对象列表</span>
        List<span style="color:#e96900"><span style="color:#525252">&lt;</span>TAgentInfo<span style="color:#525252">&gt;</span></span> demos <span>=</span> data<span style="color:#525252">.</span><span style="color:#e96900">getDatas</span><span style="color:#525252">(</span><span style="color:#525252">)</span><span style="color:#525252">;</span><span style="color:#8e908c">//获取总记录数</span><span style="color:#e96900">long</span> totalSize <span>=</span> data<span style="color:#525252">.</span><span style="color:#e96900">getTotalSize</span><span style="color:#525252">(</span><span style="color:#525252">)</span><span style="color:#525252">;</span></code></pre><p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><strong>根据文档 id 获取文档</strong></p><pre><code>Demo demo <span>=</span> clientUtil<span style="color:#525252">.</span><span style="color:#e96900">getDocument</span><span style="color:#525252">(</span><span style="color:var(--theme-color,#42b983)">"demo"</span><span style="color:#525252">,</span><span style="color:#8e908c">//索引表</span><span style="color:var(--theme-color,#42b983)">"2"</span><span style="color:#525252">,</span><span style="color:#8e908c">//文档 id</span>
      Demo<span style="color:#525252">.</span><span style="color:#e96900">class</span><span style="color:#525252">)</span><span style="color:#525252">;</span><span style="color:#8e908c">//指定返回对象类型</span></code></pre><p><strong>参考文档：</strong></p><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fquickstart" target="_blank">https://esdoc.bbossgroups.com/#/quickstart</a></p><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fdocument-crud" target="_blank">https://esdoc.bbossgroups.com/#/document-crud</a></p><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fcommon-project-with-bboss" target="_blank">https://esdoc.bbossgroups.com/#/common-project-with-bboss</a></p><p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fesdoc.bbossgroups.com%2F%23%2Fspring-booter-with-bboss" target="_blank">https://esdoc.bbossgroups.com/#/spring-booter-with-bboss</a></p></div>
                                    ]]>
            </description>
            <pubDate>Thu, 22 Feb 2024 01:18:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279703</guid>
            <link>https://www.oschina.net/news/279703</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
        <item>
            <title>
                <![CDATA[四年风雨兼程，.NET 框架 Furion v4.9.1.32 发布]]>
            </title>
            <description>
                <![CDATA[<div class="content"><p><span style="background-color:#fdfdfe; color:#05073b">随着四年的风雨兼程，Furion 框架已经迎来了第五个年头。它不仅持续推出了新章节，让技术内容更加丰富，还时刻关注着过时的文档，及时进行更新和优化。四年多来，Furion 一直保持着不断进步的姿态，为用户提供着更加完善、实用的技术支持。在未来，我们相信 Furion 将继续保持这种势头，为用户带来更多的惊喜和便利。</span></p><p><img height="1349" src="https://oscimg.oschina.net/oscnet/up-d5715a48c7d58760db09f912356d9e88ca6.png" width="1695" referrerpolicy="no-referrer"></p><p><img height="1356" src="https://oscimg.oschina.net/oscnet/up-e69b36ce37d9dceae5cfa8f856144e9ec4d.png" width="1695" referrerpolicy="no-referrer"></p><h2>新增文档</h2><p>Furion 不仅持续新增前沿的章节，为用户带来更加丰富的功能和体验，还不断审视和更新过时的文档，确保与时俱进，为用户提供最准确、最权威的技术指导。</p><h3>ASP.NET 9 集成文档</h3><p><img height="1353" src="https://oscimg.oschina.net/oscnet/up-f15e531cf2658e1e8e8acbbbd5c31aaaf1f.png" width="1718" referrerpolicy="no-referrer"></p><h3>.NET8 升级 .NET9 文档</h3><p><img height="1353" src="https://oscimg.oschina.net/oscnet/up-03e99fc994103194ca123ff6ae4de790396.png" width="1718" referrerpolicy="no-referrer"></p><h3>Docker 部署文档</h3><p><img height="1353" src="https://oscimg.oschina.net/oscnet/up-276d94a99c9207855819fc48787d34ac866.png" width="1718" referrerpolicy="no-referrer"></p><h3>Nginx&nbsp; 部署文档</h3><p><img height="1353" src="https://oscimg.oschina.net/oscnet/up-8167036b9b86201a3d55005328407f68e01.png" width="1718" referrerpolicy="no-referrer"></p><h3>Windows Services&nbsp; 部署文档</h3><p><img height="1353" src="https://oscimg.oschina.net/oscnet/up-a13363515b30d9ab699a1f7fa01517b0c01.png" width="1718" referrerpolicy="no-referrer"></p><h2>项目信息</h2><ul><li>Gitee：<strong><a href="https://gitee.com/dotnetchina/Furion">https://gitee.com/dotnetchina/Furion</a></strong></li><li>Github：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FMonkSoul%2FFurion" target="_blank">https://github.com/MonkSoul/Furion</a></li><li>文档：<strong><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffurion.net" target="_blank">https://furion.net</a></strong></li></ul><h2>本期更新</h2><ul><li><p><strong>新特性</strong></p><ul><li>[新增]<span>&nbsp;</span><code>.NET9</code><span>&nbsp;</span>脚手架<span>&nbsp;</span>4.9.1.31<span>&nbsp;</span>⏱️2024.02.14<span>&nbsp;</span><a href="https://gitee.com/dotnetchina/Furion/commit/3c7a25b9903f26ccea88027acd7d485d5eab9da4">3c7a25b</a></li><li>[新增]<span>&nbsp;</span><code>.NET8</code><span>&nbsp;</span>特有的<span>&nbsp;</span><code>Blazor Auto</code><span>&nbsp;</span>模式脚手架<span>&nbsp;</span>4.9.1.28<span>&nbsp;</span>⏱️2024.02.02<span>&nbsp;</span><a href="https://gitee.com/dotnetchina/Furion/commit/67ea9ad8df3c917a8b3eb8242e033d41cb512c20">67ea9ad</a></li><li>[新增] 任务队列支持分配任务<span>&nbsp;</span><code>TaskId</code>，管道分类<span>&nbsp;</span><code>Channel</code><span>&nbsp;</span>和<span>&nbsp;</span><code>OnExecuted</code><span>&nbsp;</span>事件订阅<span>&nbsp;</span>4.9.1.28<span>&nbsp;</span>⏱️2024.01.31<span>&nbsp;</span><a href="https://gitee.com/dotnetchina/Furion/commit/1c274347517671e7611a8c578a05ce273248700d">1c27434</a></li><li>[新增] 远程请求支持自动处理状态码<span>&nbsp;</span><code>301、302</code><span>&nbsp;</span>和响应头带<span>&nbsp;</span><code>Location</code><span>&nbsp;</span>4.9.1.27<span>&nbsp;</span>⏱️2024.01.29<span>&nbsp;</span><a href="https://gitee.com/dotnetchina/Furion/commit/65aa221ee6b99904b5349dfdad34b701296c0f5c">65aa221</a></li></ul></li><li><p><strong>突破性变化</strong></p><ul><li>[升级]<span>&nbsp;</span><strong>框架底层适配<span>&nbsp;</span><code>.NET9.0</code><span>&nbsp;</span>预览版</strong><span>&nbsp;</span>4.9.1.31<span>&nbsp;</span>⏱️2024.02.14<span>&nbsp;</span><a href="https://gitee.com/dotnetchina/Furion/commit/3c7a25b9903f26ccea88027acd7d485d5eab9da4">3c7a25b</a></li></ul></li><li><p><strong>问题修复</strong></p><ul><li>[修复] 模块化开发重复注册<span>&nbsp;</span><code>Inject</code><span>&nbsp;</span>导致异常问题<span>&nbsp;</span>4.9.1.32<span>&nbsp;</span>⏱️2024.02.21<span>&nbsp;</span><a href="https://gitee.com/dotnetchina/Furion/commit/1651013533b871950f493f33a1623ef3efe25e06">1651013</a></li><li>[修复]<span>&nbsp;</span><code>DateTime/DateTimeOffset/DateOnly/TimeOnly</code><span>&nbsp;</span>默认格式配置无效问题<span>&nbsp;</span>4.9.1.30<span>&nbsp;</span>⏱️2024.02.07<span>&nbsp;</span><a href="https://gitee.com/dotnetchina/Furion/commit/8057a6abfba258fe787dc5123c8d183150a1ec34">8057a6a</a></li><li>[修复] 远程请求解析不标准的响应头<span>&nbsp;</span><code>charset</code><span>&nbsp;</span>设置导致异常问题<span>&nbsp;</span>4.9.1.29<span>&nbsp;</span>⏱️2024.02.05<span>&nbsp;</span><a href="https://gitee.com/dotnetchina/Furion/commit/d5d03e5c1a2d9124b681c1160b6c1ba814e8b4ea">d5d03e5</a></li><li>[修复]<span>&nbsp;</span><code>throw Oops.Oh(message)</code><span>&nbsp;</span>在<span>&nbsp;</span><code>Blazor</code><span>&nbsp;</span>组件中使用出现空异常问题<span>&nbsp;</span>4.9.1.28<span>&nbsp;</span>⏱️2024.01.31<span>&nbsp;</span><a href="https://gitee.com/dotnetchina/Furion/commit/cc5b84d9efddaf1b48dc8eb25b5a6f5b4c35bef9">cc5b84d</a></li></ul></li><li><p><strong>文档</strong></p><ul><li>[新增]<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffurion.net%2Fdocs%2Fget-start-net9.mdx" target="_blank">ASP.NET 9 集成文档</a></li><li>[新增]<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffurion.net%2Fdocs%2Fnet8-to-net9.mdx" target="_blank">.NET8 升级 .NET9 文档</a></li><li>[新增]<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffurion.net%2Fdocs%2Fdeploy-docker.mdx" target="_blank"><code>Docker</code><span>&nbsp;</span>全新部署文档</a></li><li>[新增]<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffurion.net%2Fdocs%2Fdeploy-nginx.mdx" target="_blank"><code>Nginx</code><span>&nbsp;</span>部署文档</a></li><li>[新增]<span>&nbsp;</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffurion.net%2Fdocs%2Fdeploy-service.mdx" target="_blank"><code>Windows Service</code><span>&nbsp;</span>部署文档</a></li><li>[更新] 仓储文档、<code>Db</code><span>&nbsp;</span>静态类文档、脚手架文档、<code>.NET7</code><span>&nbsp;</span>升级<span>&nbsp;</span><code>.NET8</code><span>&nbsp;</span>文档、<code>JSON</code><span>&nbsp;</span>序列化文档、<code>Docker</code><span>&nbsp;</span>部署文档、数据库上下文文档、虚拟文件文档、远程请求文档、<code>HttpContext</code><span>&nbsp;</span>文档、<code>JSON</code><span>&nbsp;</span>静态类文档、定时任务文档、数据库仓储拓展文档、数据库实体文档、规范化文档、任务队列文档、虚拟文件系统文档、<code>PM2</code><span>&nbsp;</span>部署文档</li></ul></li><li><p><strong>贡献者</strong></p><ul><li>简简安 (<a href="https://gitee.com/MadOneYou">@MadOneYou</a>)<span>&nbsp;</span><a href="https://gitee.com/dotnetchina/Furion/pulls/869">!869</a><span>&nbsp;</span><a href="https://gitee.com/dotnetchina/Furion/pulls/870">!870</a></li><li>zuohuaijun (<a href="https://gitee.com/zuohuaijun">@zuohuaijun</a>)<span>&nbsp;</span><a href="https://gitee.com/dotnetchina/Furion/pulls/865">!865</a></li><li>anliuty (<a href="https://gitee.com/www.fengyunmy.com">@anliuty</a>)<span>&nbsp;</span><a href="https://gitee.com/dotnetchina/Furion/pulls/863">!863</a></li><li>风云明月 (<a href="https://gitee.com/www.fengyunmy.com">@www.fengyunmy.com</a>)<span>&nbsp;</span><a href="https://gitee.com/dotnetchina/Furion/pulls/862">!862</a></li></ul></li></ul></div>
                                    ]]>
            </description>
            <pubDate>Wed, 21 Feb 2024 23:43:00 GMT</pubDate>
            <guid isPermaLink="false">https://www.oschina.net/news/279698</guid>
            <link>https://www.oschina.net/news/279698</link>
            <author>
                <![CDATA[来源: 投稿]]>
            </author>
        </item>
    </channel>
</rss>
